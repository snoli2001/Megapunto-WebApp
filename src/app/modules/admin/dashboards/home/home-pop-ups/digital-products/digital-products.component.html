<div class="w-96 sm:w-96 h-1/3 flex flex-col">
    <mat-stepper #stepper>
        <mat-step>
            <div class="mb-4">
                <h1 class="text-xl font-semibold">Detalles de Grupos</h1>
                <p>Seleccione el detalle del producto a facturar</p>
            </div>

            <button
                *ngFor="let detail of digitalProductDetails$ | async"
                (click)="toggleDigitalDetails(detail)"
                [ngClass]="{
                    'bg-primary text-white': detailActive === detail,
                    'bg-white text-[#130B32] hover:bg-primary hover:text-white':
                        detailActive !== detail
                }"
                class="block w-full h-10 sm:w-60 md:w-full py-2 px-4 mb-3 rounded-xl border-primary border-2 flex justify-center items-center"
            >
                {{ detail.vc_desc_producto }}
            </button>

            <div *ngIf="detailActive">
                <div *ngIf="detailActive.vc_descripcion.length > 0">
                    <h3 class="text-lg text-primary">Descripcion:</h3>
                    <p>
                        {{ detailActive.vc_descripcion }}
                    </p>
                </div>
            </div>
            <mat-error *ngIf="!detailActive && nextClicked">
                Seleccione un detalle
            </mat-error>
        </mat-step>
        <mat-step>
            <div *ngIf="detailActive" class="text-xl font-semibold">
                {{ detailActive.vc_desc_producto }}
            </div>

            <div class="flex justify-between items-center mt-3">
                <div class="w-1/2 h-10">
                    <img [src]="data.vc_url_imagen" alt="" />
                </div>
                <div class="w-1/2 flex flex-col justify-center p-5 ml-5">
                    <div class="flex justify-between items-center">
                        <div class="font-semibold">Importe:</div>
                        <div class="text-primary">S/ 5,00</div>
                    </div>
                    <div class="flex justify-between items-center">
                        <div class="font-semibold"># Gratuitos:</div>
                        <div class="text-primary">0</div>
                    </div>
                </div>
            </div>

            <div class="flex flex-col items-center mt-3">
                <div class="font-semibold uppercase tracking-wide w-full">
                    Datos del Solicitante
                    <div class="w-1/6 border-[#7c66f7] border-b-2 my-1"></div>
                </div>
                <div class="w-full mt-2">
                    <mat-form-field class="w-full" appereance="fill">
                        <mat-select placeholder="Servicio">
                            <mat-option [value]="1">Servicio 1</mat-option>
                            <mat-option [value]="2">Servicio 2</mat-option>
                            <mat-option [value]="3">Servicio 3</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="w-full">
                    <mat-form-field class="w-full" appereance="fill">
                        <input
                            id="vc_numero_servicio"
                            matInput
                            placeholder="Número de Documento"
                        />
                        <mat-error *ngIf="false">
                            Ingrese el número de documento
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>

            <div class="flex flex-col items-center mt-3">
                <div class="font-semibold uppercase tracking-wide w-full">
                    Datos del Consultado
                    <div class="w-1/6 border-[#7c66f7] border-b-2 my-1"></div>
                </div>
                <div class="w-full mt-2">
                    <mat-form-field class="w-full" appereance="fill">
                        <mat-select placeholder="Servicio">
                            <mat-option [value]="1">Servicio 1</mat-option>
                            <mat-option [value]="2">Servicio 2</mat-option>
                            <mat-option [value]="3">Servicio 3</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="w-full">
                    <mat-form-field class="w-full" appereance="fill">
                        <input
                            id="vc_numero_servicio"
                            matInput
                            placeholder="Número de Documento"
                        />
                        <mat-error *ngIf="false">
                            Ingrese el número de documento
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
        </mat-step>
    </mat-stepper>

    <div class="flex justify-between mt-4 sm:mt-8">
        <button
            class="text-red-500 font-bold border-2 border-red-500 px-6 py-1 rounded-xl hover:text-white hover:bg-red-500"
            (click)="close()"
        >
            Cancelar
        </button>
        <button
            class="text-[#7c66f7] font-bold border-2 border-[#7c66f7] px-6 py-1 rounded-xl hover:text-white hover:bg-[#7c66f7]"
            (click)="nestStep(stepper)"
        >
            Siguiente
        </button>
    </div>
</div>
