var tt=Object.defineProperty,nt=Object.defineProperties,it=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,qe=(le,L,Q)=>L in le?tt(le,L,{enumerable:!0,configurable:!0,writable:!0,value:Q}):le[L]=Q,Xe=(le,L)=>{for(var Q in L||(L={}))st.call(L,Q)&&qe(le,Q,L[Q]);if(Qe)for(var Q of Qe(L))rt.call(L,Q)&&qe(le,Q,L[Q]);return le},$e=(le,L)=>nt(le,it(L)),je=(le,L,Q)=>(qe(le,"symbol"!=typeof L?L+"":L,Q),Q),Ye=(le,L,Q)=>{if(!L.has(le))throw TypeError("Cannot "+Q)},ue=(le,L,Q)=>(Ye(le,L,"read from private field"),Q?Q.call(le):L.get(le)),ye=(le,L,Q)=>{if(L.has(le))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(le):L.set(le,Q)},Pe=(le,L,Q,m)=>(Ye(le,L,"write to private field"),m?m.call(le,Q):L.set(le,Q),Q),xe=(le,L,Q)=>(Ye(le,L,"access private method"),Q);(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[469],{9469:(le,L,Q)=>{"use strict";Q.r(L),Q.d(L,{BalanceModule:()=>oe});var m=Q(7499),re=Q(8966),ne=Q(4521),se=Q(7423),J=Q(9832),M=Q(4834),e=Q(5245),d=Q(2181),r=Q(5899),c=Q(4847),f=Q(4999),T=Q(7238),u=Q(1244),a=Q(4466),h=Q(5e3),F=Q(2313),y=Q(4968),_=Q(7579),t=Q(2076),n=Q(2722),S=Q(8372),b=Q(9300),A=Q(6036),O=Q.t(A,2),k=Q(2813),B=Q.t(k,2);const V=["pdfViewerContainer"];function D($,ae){const i=new $.EventBus;return function($,ae){(0,y.R)($,"documentload").pipe((0,n.R)(ae)).subscribe(()=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(i)}),(0,y.R)($,"pagerendered").pipe((0,n.R)(ae)).subscribe(({pageNumber:i,cssTransform:w,source:U})=>{const H=document.createEvent("CustomEvent");H.initCustomEvent("pagerendered",!0,!0,{pageNumber:i,cssTransform:w}),U.div.dispatchEvent(H)}),(0,y.R)($,"textlayerrendered").pipe((0,n.R)(ae)).subscribe(({pageNumber:i,source:w})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:i}),w.textLayerDiv.dispatchEvent(U)}),(0,y.R)($,"pagechanging").pipe((0,n.R)(ae)).subscribe(({pageNumber:i,source:w})=>{const U=document.createEvent("UIEvents");U.initEvent("pagechanging",!0,!0),U.pageNumber=i,w.container.dispatchEvent(U)}),(0,y.R)($,"pagesinit").pipe((0,n.R)(ae)).subscribe(({source:i})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("pagesinit",!0,!0,null),i.container.dispatchEvent(w)}),(0,y.R)($,"pagesloaded").pipe((0,n.R)(ae)).subscribe(({pagesCount:i,source:w})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("pagesloaded",!0,!0,{pagesCount:i}),w.container.dispatchEvent(U)}),(0,y.R)($,"scalechange").pipe((0,n.R)(ae)).subscribe(({scale:i,presetValue:w,source:U})=>{const H=document.createEvent("UIEvents");H.initEvent("scalechange",!0,!0),H.scale=i,H.presetValue=w,U.container.dispatchEvent(H)}),(0,y.R)($,"updateviewarea").pipe((0,n.R)(ae)).subscribe(({location:i,source:w})=>{const U=document.createEvent("UIEvents");U.initEvent("updateviewarea",!0,!0),U.location=i,w.container.dispatchEvent(U)}),(0,y.R)($,"find").pipe((0,n.R)(ae)).subscribe(({source:i,type:w,query:U,phraseSearch:H,caseSensitive:z,highlightAll:te,findPrevious:ce})=>{if(i===window)return;const he=document.createEvent("CustomEvent");he.initCustomEvent("find"+w,!0,!0,{query:U,phraseSearch:H,caseSensitive:z,highlightAll:te,findPrevious:ce}),window.dispatchEvent(he)}),(0,y.R)($,"attachmentsloaded").pipe((0,n.R)(ae)).subscribe(({attachmentsCount:i,source:w})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:i}),w.container.dispatchEvent(U)}),(0,y.R)($,"sidebarviewchanged").pipe((0,n.R)(ae)).subscribe(({view:i,source:w})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("sidebarviewchanged",!0,!0,{view:i}),w.outerContainer.dispatchEvent(U)}),(0,y.R)($,"pagemode").pipe((0,n.R)(ae)).subscribe(({mode:i,source:w})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("pagemode",!0,!0,{mode:i}),w.pdfViewer.container.dispatchEvent(U)}),(0,y.R)($,"namedaction").pipe((0,n.R)(ae)).subscribe(({action:i,source:w})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("namedaction",!0,!0,{action:i}),w.pdfViewer.container.dispatchEvent(U)}),(0,y.R)($,"presentationmodechanged").pipe((0,n.R)(ae)).subscribe(({active:i,switchInProgress:w})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("presentationmodechanged",!0,!0,{active:i,switchInProgress:w}),window.dispatchEvent(U)}),(0,y.R)($,"outlineloaded").pipe((0,n.R)(ae)).subscribe(({outlineCount:i,source:w})=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("outlineloaded",!0,!0,{outlineCount:i}),w.container.dispatchEvent(U)})}(i,ae),i}function G($,ae,i){$[ae]=i}function R(){return"undefined"==typeof window}R()||G(O,"verbosity",A.VerbosityLevel.INFOS);var W=(()=>{return($=W||(W={}))[$.DISABLED=0]="DISABLED",$[$.ENABLED=1]="ENABLED",$[$.ENHANCED=2]="ENHANCED",W;var $})();let v=(()=>{class ${constructor(i,w){if(this.element=i,this.ngZone=w,this.isVisible=!1,this._cMapsUrl=void 0!==O?`https://unpkg.com/pdfjs-dist@${A.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=W.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new _.x,this.afterLoadComplete=new h.vpe,this.pageRendered=new h.vpe,this.pageInitialized=new h.vpe,this.textLayerRendered=new h.vpe,this.onError=new h.vpe,this.onProgress=new h.vpe,this.pageChange=new h.vpe(!0),R())return;let U;U=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${A.version}/legacy/build/pdf.worker.min.js`,G(A.GlobalWorkerOptions,"workerSrc",U)}set cMapsUrl(i){this._cMapsUrl=i}set page(i){const w=i=parseInt(i,10)||1;this._pdf&&(i=this.getValidPageNumber(i)),this._page=i,w!==i&&this.pageChange.emit(i)}set renderText(i){this._renderText=i}set renderTextMode(i){this._renderTextMode=i}set originalSize(i){this._originalSize=i}set showAll(i){this._showAll=i}set stickToPage(i){this._stickToPage=i}set zoom(i){i<=0||(this._zoom=i)}get zoom(){return this._zoom}set zoomScale(i){this._zoomScale=i}get zoomScale(){return this._zoomScale}set rotation(i){"number"==typeof i&&i%90==0?this._rotation=i:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(i){this._externalLinkTarget=i}set autoresize(i){this._canAutoResize=Boolean(i)}set fitToPage(i){this._fitToPage=Boolean(i)}set showBorders(i){this._showBorders=Boolean(i)}static getLinkTarget(i){switch(i){case"blank":return k.LinkTarget.BLANK;case"none":return k.LinkTarget.NONE;case"self":return k.LinkTarget.SELF;case"parent":return k.LinkTarget.PARENT;case"top":return k.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const i=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=i?!1===this.isVisible&&null!=i&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(i){if(!R()&&this.isVisible)if("src"in i)this.loadPDF();else if(this._pdf){if("renderText"in i?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:W.DISABLED,this.resetPdfDocument()):"showAll"in i&&this.resetPdfDocument(),"page"in i){const{page:w}=i;if(w.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const i=this.getCurrentViewer();(0,t.D)(this._pdf.getPage(i.currentPageNumber)).pipe((0,n.R)(this.destroy$)).subscribe({next:w=>{const U=this._rotation||w.rotate,H=w.getViewport({scale:this._zoom,rotation:U}).width*$.CSS_UNITS;let z=this._zoom,te=!0;if(!this._originalSize||this._fitToPage&&H>this.pdfViewerContainer.nativeElement.clientWidth){const ce=w.getViewport({scale:1,rotation:U});z=this.getScale(ce.width,ce.height),te=!this._stickToPage}i._setScale(z,te)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const i={},w=$.getLinkTarget(this._externalLinkTarget);return w&&(i.externalLinkTarget=w),i}setupMultiPageViewer(){G(O,"disableTextLayer",!this._renderText);const i=D(B,this.destroy$);(0,y.R)(i,"pagerendered").pipe((0,n.R)(this.destroy$)).subscribe(U=>{this.pageRendered.emit(U)}),(0,y.R)(i,"pagesinit").pipe((0,n.R)(this.destroy$)).subscribe(U=>{this.pageInitialized.emit(U)}),(0,y.R)(i,"pagechanging").pipe((0,n.R)(this.destroy$)).subscribe(({pageNumber:U})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=U,this.pageChange.emit(U)},100)}),(0,y.R)(i,"textlayerrendered").pipe((0,n.R)(this.destroy$)).subscribe(U=>{this.textLayerRendered.emit(U)}),this.pdfMultiPageLinkService=new k.PDFLinkService(Object.assign({eventBus:i},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new k.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:i});const w={eventBus:i,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:W.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new k.PDFViewer(w),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){G(O,"disableTextLayer",!this._renderText);const i=D(B,this.destroy$);(0,y.R)(i,"pagechanging").pipe((0,n.R)(this.destroy$)).subscribe(({pageNumber:U})=>{U!==this._page&&(this.page=U)}),(0,y.R)(i,"pagerendered").pipe((0,n.R)(this.destroy$)).subscribe(U=>{this.pageRendered.emit(U)}),(0,y.R)(i,"pagesinit").pipe((0,n.R)(this.destroy$)).subscribe(U=>{this.pageInitialized.emit(U)}),(0,y.R)(i,"textlayerrendered").pipe((0,n.R)(this.destroy$)).subscribe(U=>{this.textLayerRendered.emit(U)}),this.pdfSinglePageLinkService=new k.PDFLinkService(Object.assign({eventBus:i},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new k.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:i});const w={eventBus:i,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:W.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new k.PDFSinglePageViewer(w),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(i){return i<1?1:i>this._pdf.numPages?this._pdf.numPages:i}getDocumentParams(){const i=typeof this.src;if(!this._cMapsUrl)return this.src;const w={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===i?w.url=this.src:"object"===i&&(void 0!==this.src.byteLength?w.data=this.src:Object.assign(w,this.src)),w}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=A.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=w=>{this.onProgress.emit(w)};const i=this.src;(0,t.D)(this.loadingTask.promise).pipe((0,n.R)(this.destroy$)).subscribe({next:w=>{this._pdf=w,this.lastLoaded=i,this.afterLoadComplete.emit(w),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:w=>{this.lastLoaded=null,this.onError.emit(w)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const i=this.getCurrentViewer();(0!==this._rotation||i.pagesRotation!==this._rotation)&&setTimeout(()=>{i.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{i.currentPageNumber=this._page}),this.updateSize()}getScale(i,w){const U=this._showBorders?2*$.BORDER_WIDTH:0,H=this.pdfViewerContainer.nativeElement.clientWidth-U,z=this.pdfViewerContainer.nativeElement.clientHeight-U;if(0===z||0===w||0===H||0===i)return 1;let te=1;switch(this._zoomScale){case"page-fit":te=Math.min(z/w,H/i);break;case"page-height":te=z/w;break;default:te=H/i}return this._zoom*te/$.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){R()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){R()||this.ngZone.runOutsideAngular(()=>{(0,y.R)(window,"resize").pipe((0,S.b)(100),(0,b.h)(()=>this._canAutoResize&&!!this._pdf),(0,n.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return $.CSS_UNITS=96/72,$.BORDER_WIDTH=9,$.\u0275fac=function(i){return new(i||$)(h.Y36(h.SBq),h.Y36(h.R0b))},$.\u0275cmp=h.Xpm({type:$,selectors:[["pdf-viewer"]],viewQuery:function(i,w){if(1&i&&h.Gf(V,5),2&i){let U;h.iGM(U=h.CRH())&&(w.pdfViewerContainer=U.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[h.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(i,w){1&i&&(h.TgZ(0,"div",0,1),h._UZ(2,"div",2),h.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),$})(),l=(()=>{class ${}return $.\u0275fac=function(i){return new(i||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({}),$})(),o=(()=>{class ${constructor(i,w,U){this.data=i,this.matDialogRef=w,this.sanitizer=U,console.log(i),this.iframeSrc=i}ngOnInit(){}close(){this.matDialogRef.close()}}return $.\u0275fac=function(i){return new(i||$)(h.Y36(re.WI),h.Y36(re.so),h.Y36(F.H7))},$.\u0275cmp=h.Xpm({type:$,selectors:[["app-bank-guide-pdf-pop-up"]],decls:5,vars:1,consts:[[1,"m-10","flex","justify-center",2,"height","80%"],["frameborder","0",1,"w-full","h-full",3,"src"],[1,"flex","justify-center","w-full","my-5"],["mat-raised-button","",1,"text-white","bg-gray-500",3,"click"]],template:function(i,w){1&i&&(h.TgZ(0,"div",0),h._UZ(1,"pdf-viewer",1),h.qZA(),h.TgZ(2,"div",2),h.TgZ(3,"button",3),h.NdJ("click",function(){return w.close()}),h._uU(4," Cerrar "),h.qZA(),h.qZA()),2&i&&(h.xp6(1),h.Q6J("src",w.iframeSrc))},directives:[v,se.lW],styles:[""]}),$})();var P=Q(3075),g=Q(4004),E=Q(9122),s=Q(4880),C=Q(9568),x=Q(9808);const N=function($){return{"background-color":$}};function p($,ae){if(1&$){const i=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){const H=h.CHM(i).$implicit;return h.oxw().openGuide(H.vc_url_flyer_megapunto)}),h._uU(1),h.qZA()}if(2&$){const i=ae.$implicit;h.Akn(h.VKq(3,N,i.vc_hex_color)),h.xp6(1),h.hij(" ",i.vc_desc_corta_banco," ")}}const q=[{path:"",component:(()=>{class ${constructor(i,w,U,H,z){this.fb=i,this._fuseNavigationService=w,this._fuseMediaWatcherService=U,this._balanceService=H,this._matDialog=z,this._unsubscribeAll=new _.x}ngOnInit(){this._fuseMediaWatcherService.onMediaChange$.pipe((0,n.R)(this._unsubscribeAll)).subscribe(({matchingAliases:i})=>{this.isScreenSmall=!i.includes("md")}),this.getBanks(),this.initData(),this.initBalanceForm()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}initData(){this.balance$=this._balanceService.getBalance().pipe((0,g.U)(i=>i.nu_saldo))}getBanks(){this.banks$=this._balanceService.getBanks()}trackByFn(i,w){return w.id||i}toggleNavigation(i){const w=this._fuseNavigationService.getComponent(i);w&&w.toggle()}openGuide(i){this._matDialog.open(o,{data:i,width:"90%",height:"90%"})}initBalanceForm(){this.balanceForm=this.fb.group({nu_id_comercio:["",P.kI.required],nu_id_tipo_moneda:["1",P.kI.required],nu_id_cta_cte:["",P.kI.required],ch_destino:["MX",P.kI.required],vc_nro_operacion:["",P.kI.required],nu_importe:["",P.kI.required],dt_fec_operacion:["",P.kI.required],vc_cadena_imagen:["",P.kI.required]})}}return $.\u0275fac=function(i){return new(i||$)(h.Y36(P.qu),h.Y36(E.Jf),h.Y36(s.T),h.Y36(C.m),h.Y36(re.uw))},$.\u0275cmp=h.Xpm({type:$,selectors:[["balance"]],decls:38,vars:7,consts:[[1,"flex","flex-col","flex-auto","w-full",2,"background-color","#7c66f7"],[1,"flex-col","flex-auto","bg-card","relative","p-5","md:p-10",2,"border-top-left-radius","3rem !important","border-bottom-left-radius","3rem !important"],[1,"p-5","md:p-0"],["mat-icon-button","",1,"absolute","md:hidden","top-8","left-8",3,"click"],[3,"svgIcon"],[1,"ml-10","-mt-1.5","md:ml-0","md:mt-0","text-3xl","font-bold"],[1,"flex","flex-col","my-4","w-full","md:w-3/4"],[1,"min-h-40"],[1,"flex","items-center","mb-4"],[1,"text-lg","font-bold"],[1,"grid","grid-cols-1","sm:grid-cols-2","border-2","rounded-lg","p-2.5","sm:p-5"],[1,"flex","justify-center","items-center","px-3","py-1","border-2","shadow-sm","rounded-lg","w-full","sm:min-w-24","sm:max-w-60"],[1,"text-[#7c66f7]","font-bold","text-xl"],[1,"my-2","sm:mx-2"],[1,"block","font-semibold"],[1,"text-base","border-2","rounded-lg","min-h-40","mt-4","p-2.5","sm:p-5"],[1,"font-semibold","uppercase","tracking-wide"],[1,"w-1/6","border-[#7c66f7]","border-b-2","my-1"],[1,"mt-2","mb-4"],[1,"font-semibold"],[1,"grid","grid-cols-4","gap-2","mt-5","w-full"],["class","px-8 py-1 text-white rounded font-semibold w-28 mr-2",3,"style","click",4,"ngFor","ngForOf"],[1,"px-8","py-1","text-white","rounded","font-semibold","w-28","mr-2",3,"click"]],template:function(i,w){1&i&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"button",3),h.NdJ("click",function(){return w.toggleNavigation("mainNavigation")}),h._UZ(4,"mat-icon",4),h.qZA(),h.TgZ(5,"div",5),h._uU(6," Saldo "),h.qZA(),h.TgZ(7,"div",6),h.TgZ(8,"div",7),h.TgZ(9,"div",8),h.TgZ(10,"span",9),h._uU(11,"Tu saldo actual"),h.qZA(),h.qZA(),h.TgZ(12,"div",10),h.TgZ(13,"div",11),h.TgZ(14,"span",12),h._uU(15),h.ALo(16,"async"),h.qZA(),h.qZA(),h.TgZ(17,"div",13),h.TgZ(18,"span",14),h._uU(19,"\xdaltima fecha de tu recarga:"),h.qZA(),h.TgZ(20,"span"),h._uU(21,"30 de abril de 2020"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(22,"div",7),h.TgZ(23,"span",9),h._uU(24,"Informaci\xf3n de recargas"),h.qZA(),h.TgZ(25,"div",15),h.TgZ(26,"div",16),h._uU(27," \xbfQu\xe9 necesito para recargar mi saldo? "),h._UZ(28,"div",17),h.qZA(),h.TgZ(29,"div",18),h._uU(30," Tienes que depositar el monto que necesites a una de nuestra cuentas bancarias "),h.qZA(),h.TgZ(31,"div",19),h._uU(32," Nuestras cuentas bancarias "),h.qZA(),h.TgZ(33,"div"),h._uU(34," Puede realizar el dep\xf3sito en la cuenta que elijas: "),h.qZA(),h.TgZ(35,"div",20),h.YNc(36,p,2,5,"button",21),h.ALo(37,"async"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&i&&(h.xp6(4),h.Q6J("svgIcon","heroicons_outline:menu"),h.xp6(11),h.hij("S/ ",h.lcZ(16,3,w.balance$),""),h.xp6(21),h.Q6J("ngForOf",h.lcZ(37,5,w.banks$)))},directives:[se.lW,e.Hw,x.sg],pipes:[x.Ov],encapsulation:2,changeDetection:0}),$})()}];var X=Q(7322),K=Q(4107),ee=Q(7531);let oe=(()=>{class ${}return $.\u0275fac=function(i){return new(i||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[[ne.Bz.forChild(q),se.ot,J.vV,M.t,e.Ps,d.Tx,r.Cv,c.JX,f.p0,T.AV,u.X,a.m,X.lN,K.LD,ee.c,re.Is,m.A,l]]}),$})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,Q;Q=function(){return(()=>{"use strict";var __webpack_modules__=[,(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.VerbosityLevel=L.Util=L.UnknownErrorException=L.UnexpectedResponseException=L.UNSUPPORTED_FEATURES=L.TextRenderingMode=L.StreamType=L.RenderingIntentFlag=L.PermissionFlag=L.PasswordResponses=L.PasswordException=L.PageActionEventType=L.OPS=L.MissingPDFException=L.IsLittleEndianCached=L.IsEvalSupportedCached=L.InvalidPDFException=L.ImageKind=L.IDENTITY_MATRIX=L.FormatError=L.FontType=L.FONT_IDENTITY_MATRIX=L.DocumentActionEventType=L.CMapCompressionType=L.BaseException=L.AnnotationType=L.AnnotationStateModelType=L.AnnotationReviewState=L.AnnotationReplyType=L.AnnotationMode=L.AnnotationMarkedState=L.AnnotationFlag=L.AnnotationFieldFlag=L.AnnotationBorderStyleType=L.AnnotationActionEventType=L.AbortException=void 0,L.arrayByteLength=K,L.arraysToBytes=function(ie){const Y=ie.length;if(1===Y&&ie[0]instanceof Uint8Array)return ie[0];let Z=0;for(let be=0;be<Y;be++)Z+=K(ie[be]);let de=0;const fe=new Uint8Array(Z);for(let be=0;be<Y;be++){let Ae=ie[be];Ae instanceof Uint8Array||(Ae="string"==typeof Ae?X(Ae):new Uint8Array(Ae));const Le=Ae.byteLength;fe.set(Ae,de),de+=Le}return fe},L.assert=function(ie,Y){ie||R(Y)},L.bytesToString=function(ie){("object"!=typeof ie||null===ie||void 0===ie.length)&&R("Invalid argument for bytesToString");const Y=ie.length,Z=8192;if(Y<Z)return String.fromCharCode.apply(null,ie);const de=[];for(let fe=0;fe<Y;fe+=Z){const be=Math.min(fe+Z,Y),Ae=ie.subarray(fe,be);de.push(String.fromCharCode.apply(null,Ae))}return de.join("")},L.createPromiseCapability=function(){const ie=Object.create(null);let Y=!1;return Object.defineProperty(ie,"settled",{get:()=>Y}),ie.promise=new Promise(function(Z,de){ie.resolve=function(fe){Y=!0,Z(fe)},ie.reject=function(fe){Y=!0,de(fe)}}),ie},L.createValidAbsoluteUrl=function(ie,Y=null,Z=null){if(!ie)return null;try{if(Z&&"string"==typeof ie){if(Z.addDefaultProtocol&&ie.startsWith("www.")){const fe=ie.match(/\./g);fe&&fe.length>=2&&(ie=`http://${ie}`)}if(Z.tryConvertEncoding)try{ie=ve(ie)}catch(fe){}}const de=Y?new URL(ie,Y):new URL(ie);if(function(ie){if(!ie)return!1;switch(ie.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(de))return de}catch(de){}return null},L.escapeString=function(ie){return ie.replace(/([()\\\n\r])/g,Y=>"\n"===Y?"\\n":"\r"===Y?"\\r":`\\${Y}`)},L.getModificationDate=function(ie=new Date){return[ie.getUTCFullYear().toString(),(ie.getUTCMonth()+1).toString().padStart(2,"0"),ie.getUTCDate().toString().padStart(2,"0"),ie.getUTCHours().toString().padStart(2,"0"),ie.getUTCMinutes().toString().padStart(2,"0"),ie.getUTCSeconds().toString().padStart(2,"0")].join("")},L.getVerbosityLevel=function(){return B},L.info=function(ie){B>=S.INFOS&&console.log(`Info: ${ie}`)},L.isArrayBuffer=function(ie){return"object"==typeof ie&&null!==ie&&void 0!==ie.byteLength},L.isArrayEqual=function(ie,Y){if(ie.length!==Y.length)return!1;for(let Z=0,de=ie.length;Z<de;Z++)if(ie[Z]!==Y[Z])return!1;return!0},L.isAscii=function(ie){return/^[\x00-\x7F]*$/.test(ie)},L.isSameOrigin=function(ie,Y){let Z;try{if(Z=new URL(ie),!Z.origin||"null"===Z.origin)return!1}catch(fe){return!1}const de=new URL(Y,Z);return Z.origin===de.origin},L.objectFromMap=function(ie){const Y=Object.create(null);for(const[Z,de]of ie)Y[Z]=de;return Y},L.objectSize=function(ie){return Object.keys(ie).length},L.setVerbosityLevel=function(ie){Number.isInteger(ie)&&(B=ie)},L.shadow=P,L.string32=function(ie){return String.fromCharCode(ie>>24&255,ie>>16&255,ie>>8&255,255&ie)},L.stringToBytes=X,L.stringToPDFString=function(ie){if(ie[0]>="\xef"){let Z;if("\xfe"===ie[0]&&"\xff"===ie[1]?Z="utf-16be":"\xff"===ie[0]&&"\xfe"===ie[1]?Z="utf-16le":"\xef"===ie[0]&&"\xbb"===ie[1]&&"\xbf"===ie[2]&&(Z="utf-8"),Z)try{const de=new TextDecoder(Z,{fatal:!0}),fe=X(ie);return de.decode(fe)}catch(de){G(`stringToPDFString: "${de}".`)}}const Y=[];for(let Z=0,de=ie.length;Z<de;Z++){const fe=ce[ie.charCodeAt(Z)];Y.push(fe?String.fromCharCode(fe):ie.charAt(Z))}return Y.join("")},L.stringToUTF16BEString=function(ie){const Y=["\xfe\xff"];for(let Z=0,de=ie.length;Z<de;Z++){const fe=ie.charCodeAt(Z);Y.push(String.fromCharCode(fe>>8&255),String.fromCharCode(255&fe))}return Y.join("")},L.stringToUTF8String=ve,L.unreachable=R,L.utf8StringToString=function(ie){return unescape(encodeURIComponent(ie))},L.warn=G,Q(2),L.IDENTITY_MATRIX=[1,0,0,1,0,0],L.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],L.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},L.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},L.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},L.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},L.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},L.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},L.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},L.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},L.AnnotationReplyType={GROUP:"Group",REPLY:"R"},L.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},L.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},L.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},L.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},L.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},L.PageActionEventType={O:"PageOpen",C:"PageClose"},L.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},L.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const S={ERRORS:0,WARNINGS:1,INFOS:5};L.VerbosityLevel=S,L.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},L.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},L.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},L.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let B=S.WARNINGS;function G(ie){B>=S.WARNINGS&&console.log(`Warning: ${ie}`)}function R(ie){throw new Error(ie)}function P(ie,Y,Z){return Object.defineProperty(ie,Y,{value:Z,enumerable:!0,configurable:!0,writable:!1}),Z}const g=function(){function Y(Z,de){this.constructor===Y&&R("Cannot initialize BaseException."),this.message=Z,this.name=de}return Y.prototype=new Error,Y.constructor=Y,Y}();function X(ie){"string"!=typeof ie&&R("Invalid argument for stringToBytes");const Y=ie.length,Z=new Uint8Array(Y);for(let de=0;de<Y;++de)Z[de]=255&ie.charCodeAt(de);return Z}function K(ie){return void 0!==ie.length?ie.length:void 0!==ie.byteLength?ie.byteLength:void R("Invalid argument for arrayByteLength")}L.BaseException=g,L.PasswordException=class extends g{constructor(Y,Z){super(Y,"PasswordException"),this.code=Z}},L.UnknownErrorException=class extends g{constructor(Y,Z){super(Y,"UnknownErrorException"),this.details=Z}},L.InvalidPDFException=class extends g{constructor(Y){super(Y,"InvalidPDFException")}},L.MissingPDFException=class extends g{constructor(Y){super(Y,"MissingPDFException")}},L.UnexpectedResponseException=class extends g{constructor(Y,Z){super(Y,"UnexpectedResponseException"),this.status=Z}},L.FormatError=class extends g{constructor(Y){super(Y,"FormatError")}},L.AbortException=class extends g{constructor(Y){super(Y,"AbortException")}},L.IsLittleEndianCached={get value(){return P(this,"value",function(){const ie=new Uint8Array(4);return ie[0]=1,1===new Uint32Array(ie.buffer,0,1)[0]}())}},L.IsEvalSupportedCached={get value(){return P(this,"value",function(){try{return new Function(""),!0}catch(ie){return!1}}())}};const z=[...Array(256).keys()].map(ie=>ie.toString(16).padStart(2,"0"));class te{static makeHexColor(Y,Z,de){return`#${z[Y]}${z[Z]}${z[de]}`}static transform(Y,Z){return[Y[0]*Z[0]+Y[2]*Z[1],Y[1]*Z[0]+Y[3]*Z[1],Y[0]*Z[2]+Y[2]*Z[3],Y[1]*Z[2]+Y[3]*Z[3],Y[0]*Z[4]+Y[2]*Z[5]+Y[4],Y[1]*Z[4]+Y[3]*Z[5]+Y[5]]}static applyTransform(Y,Z){return[Y[0]*Z[0]+Y[1]*Z[2]+Z[4],Y[0]*Z[1]+Y[1]*Z[3]+Z[5]]}static applyInverseTransform(Y,Z){const de=Z[0]*Z[3]-Z[1]*Z[2];return[(Y[0]*Z[3]-Y[1]*Z[2]+Z[2]*Z[5]-Z[4]*Z[3])/de,(-Y[0]*Z[1]+Y[1]*Z[0]+Z[4]*Z[1]-Z[5]*Z[0])/de]}static getAxialAlignedBoundingBox(Y,Z){const de=te.applyTransform(Y,Z),fe=te.applyTransform(Y.slice(2,4),Z),be=te.applyTransform([Y[0],Y[3]],Z),Ae=te.applyTransform([Y[2],Y[1]],Z);return[Math.min(de[0],fe[0],be[0],Ae[0]),Math.min(de[1],fe[1],be[1],Ae[1]),Math.max(de[0],fe[0],be[0],Ae[0]),Math.max(de[1],fe[1],be[1],Ae[1])]}static inverseTransform(Y){const Z=Y[0]*Y[3]-Y[1]*Y[2];return[Y[3]/Z,-Y[1]/Z,-Y[2]/Z,Y[0]/Z,(Y[2]*Y[5]-Y[4]*Y[3])/Z,(Y[4]*Y[1]-Y[5]*Y[0])/Z]}static apply3dTransform(Y,Z){return[Y[0]*Z[0]+Y[1]*Z[1]+Y[2]*Z[2],Y[3]*Z[0]+Y[4]*Z[1]+Y[5]*Z[2],Y[6]*Z[0]+Y[7]*Z[1]+Y[8]*Z[2]]}static singularValueDecompose2dScale(Y){const Z=[Y[0],Y[2],Y[1],Y[3]],de=Y[0]*Z[0]+Y[1]*Z[2],Ae=Y[2]*Z[1]+Y[3]*Z[3],Le=(de+Ae)/2,Fe=Math.sqrt((de+Ae)**2-4*(de*Ae-(Y[2]*Z[0]+Y[3]*Z[2])*(Y[0]*Z[1]+Y[1]*Z[3])))/2,Te=Le-Fe||1;return[Math.sqrt(Le+Fe||1),Math.sqrt(Te)]}static normalizeRect(Y){const Z=Y.slice(0);return Y[0]>Y[2]&&(Z[0]=Y[2],Z[2]=Y[0]),Y[1]>Y[3]&&(Z[1]=Y[3],Z[3]=Y[1]),Z}static intersect(Y,Z){function de(Le,Fe){return Le-Fe}const fe=[Y[0],Y[2],Z[0],Z[2]].sort(de),be=[Y[1],Y[3],Z[1],Z[3]].sort(de),Ae=[];return Y=te.normalizeRect(Y),Z=te.normalizeRect(Z),fe[0]===Y[0]&&fe[1]===Z[0]||fe[0]===Z[0]&&fe[1]===Y[0]?(Ae[0]=fe[1],Ae[2]=fe[2],be[0]===Y[1]&&be[1]===Z[1]||be[0]===Z[1]&&be[1]===Y[1]?(Ae[1]=be[1],Ae[3]=be[2],Ae):null):null}static bezierBoundingBox(Y,Z,de,fe,be,Ae,Le,Fe){const Re=[],Te=[[],[]];let Ie,Oe,De,we,Ve,Ue,He,Ge;for(let ze=0;ze<2;++ze)if(0===ze?(Oe=6*Y-12*de+6*be,Ie=-3*Y+9*de-9*be+3*Le,De=3*de-3*Y):(Oe=6*Z-12*fe+6*Ae,Ie=-3*Z+9*fe-9*Ae+3*Fe,De=3*fe-3*Z),Math.abs(Ie)<1e-12){if(Math.abs(Oe)<1e-12)continue;we=-De/Oe,0<we&&we<1&&Re.push(we)}else He=Oe*Oe-4*De*Ie,Ge=Math.sqrt(He),!(He<0)&&(Ve=(-Oe+Ge)/(2*Ie),0<Ve&&Ve<1&&Re.push(Ve),Ue=(-Oe-Ge)/(2*Ie),0<Ue&&Ue<1&&Re.push(Ue));let ke,Ne=Re.length;const Be=Ne;for(;Ne--;)we=Re[Ne],ke=1-we,Te[0][Ne]=ke*ke*ke*Y+3*ke*ke*we*de+3*ke*we*we*be+we*we*we*Le,Te[1][Ne]=ke*ke*ke*Z+3*ke*ke*we*fe+3*ke*we*we*Ae+we*we*we*Fe;return Te[0][Be]=Y,Te[1][Be]=Z,Te[0][Be+1]=Le,Te[1][Be+1]=Fe,Te[0].length=Te[1].length=Be+2,[Math.min(...Te[0]),Math.min(...Te[1]),Math.max(...Te[0]),Math.max(...Te[1])]}}L.Util=te;const ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ve(ie){return decodeURIComponent(escape(ie))}},(le,L,Q)=>{Q(3)},(le,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.isNodeJS=void 0;const Q=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);L.isNodeJS=Q},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var le,L,Q,m,re,ne,se,Ke;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(M){createPDFNetworkStream=M}function getDocument(M){const e=new PDFDocumentLoadingTask;let d;if("string"==typeof M||M instanceof URL)d={url:M};else if((0,_util.isArrayBuffer)(M))d={data:M};else if(M instanceof PDFDataRangeTransport)d={range:M};else{if("object"!=typeof M)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!M.url&&!M.data&&!M.range)throw new Error("Invalid parameter object: need either .data, .range or .url");d=M}const r=Object.create(null);let c=null,f=null;for(const u in d){const a=d[u];switch(u){case"url":if("undefined"!=typeof window)try{r[u]=new URL(a,window.location).href;continue}catch(h){(0,_util.warn)(`Cannot create valid URL: "${h}".`)}else if("string"==typeof a||a instanceof URL){r[u]=a.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":c=a;continue;case"worker":f=a;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&a instanceof Buffer)r[u]=new Uint8Array(a);else{if(a instanceof Uint8Array)break;if("string"==typeof a)r[u]=(0,_util.stringToBytes)(a);else if("object"!=typeof a||null===a||isNaN(a.length)){if(!(0,_util.isArrayBuffer)(a))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[u]=new Uint8Array(a)}else r[u]=new Uint8Array(a)}continue}r[u]=a}if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),void 0===r.ownerDocument&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!f){const u={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};f=u.port?PDFWorker.fromPort(u):new PDFWorker(u),e._worker=f}const T=e.docId;return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");const u=_fetchDocument(f,r,c,T),a=new Promise(function(h){let F;c?F=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},c):r.data||(F=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),h(F)});return Promise.all([u,a]).then(function([h,F]){if(e.destroyed)throw new Error("Loading aborted");const y=new _message_handler.MessageHandler(T,h,f.port),_=new WorkerTransport(y,e,F,r);e._transport=_,y.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(M,e,d,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(M,e,d,r){if(M.destroyed)throw new Error("Worker was destroyed");d&&(e.length=d.length,e.initialData=d.initialData,e.progressiveDone=d.progressiveDone,e.contentDispositionFilename=d.contentDispositionFilename);const c=yield M.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.13.216",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(M.destroyed)throw new Error("Worker was destroyed");return c})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var e=this;return _asyncToGenerator(function*(){var d;e.destroyed=!0,yield null==(d=e._transport)?void 0:d.destroy(),e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,d,r=!1,c=null){this.length=e,this.initialData=d,this.progressiveDone=r,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,d){for(const r of this._rangeListeners)r(e,d)}onDataProgress(e,d){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,d)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const d of this._progressiveReadListeners)d(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,d){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,d){var c,r=this;this._pdfInfo=e,this._transport=d,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(c=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),r.stats||{streamTypes:{},fontTypes:{}}}),function(){return c.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,d,r,c,f=!1){this._pageIndex=e,this._pageInfo=d,this._ownerDocument=c,this._transport=r,this._stats=f?new _display_utils.StatTimer:null,this._pdfBug=f,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:d=this.rotate,offsetX:r=0,offsetY:c=0,dontFlip:f=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:d,offsetX:r,offsetY:c,dontFlip:f})}getAnnotations({intent:e="display"}={}){const d=this._transport.getRenderingIntent(e);let r=this._annotationPromises.get(d.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,d.renderingIntent),this._annotationPromises.set(d.cacheKey,r),r=r.then(c=>{for(const f of c)void 0!==f.titleObj&&Object.defineProperty(f,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),f.titleObj.str)}),void 0!==f.contentsObj&&Object.defineProperty(f,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),f.contentsObj.str)});return c})),r}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var e=this;return _asyncToGenerator(function*(){var d;return(null==(d=e._transport._htmlForXfa)?void 0:d.children[e._pageIndex])||null})()}render({canvasContext:e,viewport:d,intent:r="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:f=null,imageLayer:T=null,canvasFactory:u=null,background:a=null,optionalContentConfigPromise:h=null,annotationCanvasMap:F=null}){var O,k;void 0!==(null==(O=arguments[0])?void 0:O.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(k=arguments[0])?void 0:k.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const y=this._transport.getRenderingIntent(r,c);this.pendingCleanup=!1,h||(h=this._transport.getOptionalContentConfig());let _=this._intentStates.get(y.cacheKey);_||(_=Object.create(null),this._intentStates.set(y.cacheKey,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const t=u||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),n=!!(y.renderingIntent&_util.RenderingIntentFlag.PRINT);_.displayReadyCapability||(_.displayReadyCapability=(0,_util.createPromiseCapability)(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(y));const S=B=>{_.renderTasks.delete(b),(this.cleanupAfterRender||n)&&(this.pendingCleanup=!0),this._tryCleanup(),B?(b.capability.reject(B),this._abortOperatorList({intentState:_,reason:B instanceof Error?B:new Error(B)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},b=new InternalRenderTask({callback:S,params:{canvasContext:e,viewport:d,transform:f,imageLayer:T,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:F,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:t,useRequestAnimationFrame:!n,pdfBug:this._pdfBug});(_.renderTasks||(_.renderTasks=new Set)).add(b);const A=b.task;return Promise.all([_.displayReadyCapability.promise,h]).then(([B,V])=>{this.pendingCleanup?S():(this._stats&&this._stats.time("Rendering"),b.initializeGraphics({transparency:B,optionalContentConfig:V}),b.operatorListChanged())}).catch(S),A}getOperatorList({intent:e="display",annotationMode:d=_util.AnnotationMode.ENABLE}={}){const c=this._transport.getRenderingIntent(e,d,!0);let T,f=this._intentStates.get(c.cacheKey);return f||(f=Object.create(null),this._intentStates.set(c.cacheKey,f)),f.opListReadCapability||(T=Object.create(null),T.operatorListChanged=function(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(T))},f.opListReadCapability=(0,_util.createPromiseCapability)(),(f.renderTasks||(f.renderTasks=new Set)).add(T),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)),f.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:d=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===d},{highWaterMark:100,size:c=>c.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const d=this.streamTextContent(e);return new Promise(function(r,c){const T=d.getReader(),u={items:[],styles:Object.create(null)};!function f(){T.read().then(function({value:a,done:h}){h?r(u):(Object.assign(u.styles,a.styles),u.items.push(...a.items),f())},c)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const e=[];for(const d of this._intentStates.values())if(this._abortOperatorList({intentState:d,reason:new Error("Page was destroyed."),force:!0}),!d.opListReadCapability)for(const r of d.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:d,operatorList:r}of this._intentStates.values())if(d.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(e,d){const r=this._intentStates.get(d);!r||(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(e))}_renderPageChunk(e,d){for(let r=0,c=e.length;r<c;r++)d.operatorList.fnArray.push(e.fnArray[r]),d.operatorList.argsArray.push(e.argsArray[r]);d.operatorList.lastChunk=e.lastChunk;for(const r of d.renderTasks)r.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:d}){const c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:d,annotationStorage:e&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),f=this._intentStates.get(d);f.streamReader=c;const T=()=>{c.read().then(({value:u,done:a})=>{a?f.streamReader=null:this._transport.destroyed||(this._renderPageChunk(u,f),T())},u=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const a of f.renderTasks)a.operatorListChanged();this._tryCleanup()}if(f.displayReadyCapability)f.displayReadyCapability.reject(u);else{if(!f.opListReadCapability)throw u;f.opListReadCapability.reject(u)}}})};T()}_abortOperatorList({intentState:e,reason:d,force:r=!1}){if(e.streamReader){if(!r){if(e.renderTasks.size>0)return;if(d instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:d,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(e.streamReader.cancel(new _util.AbortException(d.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[c,f]of this._intentStates)if(f===e){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,d){const r={data:structuredClone(e,d)};this._deferred.then(()=>{for(const c of this._listeners)c.call(this,r)})}addEventListener(e,d){this._listeners.push(d)}removeEventListener(e,d){const r=this._listeners.indexOf(d);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const M=null==(le=null==document?void 0:document.currentScript)?void 0:le.src;M&&(PDFWorkerUtil.fallbackWorkerSrc=M.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(M){return URL.createObjectURL(new Blob([`importScripts("${M}");`]))};class PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:M=null,port:e=null,verbosity:d=(0,_util.getVerbosityLevel)()}={}){if(e&&PDFWorker._workerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=M,this.destroyed=!1,this.verbosity=d,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return PDFWorker._workerPorts.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(M){this._port=M,this._messageHandler=new _message_handler.MessageHandler("main","worker",M),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let M=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,M)||(M=PDFWorkerUtil.createCDNWrapper(new URL(M,window.location).href));const e=new Worker(M),d=new _message_handler.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",c),d.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||r()};e.addEventListener("error",c),d.on("test",T=>{e.removeEventListener("error",c),this.destroyed?r():T?(this._messageHandler=d,this._port=e,this._webWorker=e,this._readyCapability.resolve(),d.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),d.destroy(),e.terminate())}),d.on("ready",T=>{if(e.removeEventListener("error",c),this.destroyed)r();else try{f()}catch(u){this._setupFakeWorker()}});const f=()=>{const T=new Uint8Array([255]);try{d.send("test",T,[T.buffer])}catch(u){(0,_util.warn)("Cannot use postMessage transfers."),T[0]=0,d.send("test",T)}};return void f()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(M=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const d="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(d+"_worker",d,e);M.setup(r,e);const c=new _message_handler.MessageHandler(d,d+"_worker",e);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(M=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${M.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(M){if(!(null==M?void 0:M.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(M.port)?this._workerPorts.get(M.port):new PDFWorker(M)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var M;try{return(null==(M=globalThis.pdfjsWorker)?void 0:M.WorkerMessageHandler)||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(e,d,r,c){ye(this,L,null),ye(this,Q,new Map),ye(this,m,new Map),ye(this,re,null),this.messageHandler=e,this.loadingTask=d,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:d.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,c.useWorkerFetch||(this.CMapReaderFactory=new c.CMapReaderFactory({baseUrl:c.cMapUrl,isCompressed:c.cMapPacked}),this.StandardFontDataFactory=new c.StandardFontDataFactory({baseUrl:c.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return ue(this,L)}getRenderingIntent(e,d=_util.AnnotationMode.ENABLE,r=!1){let c=_util.RenderingIntentFlag.DISPLAY,f="";switch(e){case"any":c=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":c=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(d){case _util.AnnotationMode.DISABLE:c+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:c+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:c+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${d}`)}return r&&(c+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:c,cacheKey:`${c}_${f}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of ue(this,Q).values())e.push(r._destroy());ue(this,Q).clear(),ue(this,m).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const d=this.messageHandler.sendWithPromise("Terminate",null);return e.push(d),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Pe(this,re,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:d}=this;e.on("GetReader",(r,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=f=>{this._lastProgress={loaded:f.loaded,total:f.total}},c.onPull=()=>{this._fullReader.read().then(function({value:f,done:T}){T?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f]))}).catch(f=>{c.error(f)})},c.onCancel=f=>{this._fullReader.cancel(f),c.ready.catch(T=>{if(!this.destroyed)throw T})}}),e.on("ReaderHeadersReady",r=>{const c=(0,_util.createPromiseCapability)(),f=this._fullReader;return f.headersReady.then(()=>{var T;(!f.isStreamingSupported||!f.isRangeSupported)&&(this._lastProgress&&(null==(T=d.onProgress)||T.call(d,this._lastProgress)),f.onProgress=u=>{var a;null==(a=d.onProgress)||a.call(d,{loaded:u.loaded,total:u.total})}),c.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},c.reject),c.promise}),e.on("GetRangeReader",(r,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const f=this._networkStream.getRangeReader(r.begin,r.end);f?(c.onPull=()=>{f.read().then(function({value:T,done:u}){u?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(T),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(T),1,[T]))}).catch(T=>{c.error(T)})},c.onCancel=T=>{f.cancel(T),c.ready.catch(u=>{if(!this.destroyed)throw u})}):c.close()}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,d._capability.resolve(new PDFDocumentProxy(r,this))}),e.on("DocException",function(r){let c;switch(r.name){case"PasswordException":c=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":c=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}d._capability.reject(c)}),e.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),d.onPassword){const c=f=>{f instanceof Error?this._passwordCapability.reject(f):this._passwordCapability.resolve({password:f})};try{d.onPassword(c,r.code)}catch(f){this._passwordCapability.reject(f)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),e.on("DataLoaded",r=>{var c;null==(c=d.onProgress)||c.call(d,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{this.destroyed||ue(this,Q).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,c,f])=>{var T;if(!this.destroyed&&!this.commonObjs.has(r))switch(c){case"Font":const u=this._params;if("error"in f){const F=f.error;(0,_util.warn)(`Error during font loading: ${F}`),this.commonObjs.resolve(r,F);break}let a=null;u.pdfBug&&(null==(T=globalThis.FontInspector)?void 0:T.enabled)&&(a={registerFont(F,y){globalThis.FontInspector.fontAdded(F,y)}});const h=new _font_loader.FontFaceObject(f,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(h).catch(F=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"FontPath":case"Image":this.commonObjs.resolve(r,f);break;default:throw new Error(`Got unknown common object type ${c}`)}}),e.on("obj",([r,c,f,T])=>{var a;if(this.destroyed)return;const u=ue(this,Q).get(c);if(!u.objs.has(r))switch(f){case"Image":u.objs.resolve(r,T),(null==(a=null==T?void 0:T.data)?void 0:a.length)>8e6&&(u.cleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(r,T);break;default:throw new Error(`Got unknown object type ${f}`)}}),e.on("DocProgress",r=>{var c;this.destroyed||null==(c=d.onProgress)||c.call(d,{loaded:r.loaded,total:r.total})}),e.on("DocStats",r=>{this.destroyed||Pe(this,L,Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:e}){var d,r;this.destroyed||null==(r=(d=this.loadingTask).onUnsupportedFeature)||r.call(d,e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const d=e-1,r=ue(this,m).get(d);if(r)return r;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:d}).then(f=>{if(this.destroyed)throw new Error("Transport destroyed");const T=new PDFPageProxy(d,f,this,this._params.ownerDocument,this._params.pdfBug);return ue(this,Q).set(d,T),T});return ue(this,m).set(d,c),c}getPageIndex(e){return"object"!=typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,d){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:d})}saveDocument(){var e,d;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(d=null==(e=this._fullReader)?void 0:e.filename)?d:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return ue(this,re)||Pe(this,re,this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>{var d,r,c,f;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!=(r=null==(d=this._fullReader)?void 0:d.filename)?r:null,contentLength:null!=(f=null==(c=this._fullReader)?void 0:c.contentLength)?f:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){var d=this;return _asyncToGenerator(function*(){if(yield d.messageHandler.sendWithPromise("Cleanup",null),!d.destroyed){for(const r of ue(d,Q).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);d.commonObjs.clear(),e||d.fontLoader.clear(),Pe(d,re,null),d._getFieldObjectsPromise=null,d._hasJSActionsPromise=null}})()}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}L=new WeakMap,Q=new WeakMap,m=new WeakMap,re=new WeakMap;class PDFObjects{constructor(){ye(this,se),ye(this,ne,Object.create(null))}get(e,d=null){if(d){const c=xe(this,se,Ke).call(this,e);return c.capability.promise.then(()=>d(c.data)),null}const r=ue(this,ne)[e];if(!(null==r?void 0:r.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const d=ue(this,ne)[e];return(null==d?void 0:d.capability.settled)||!1}resolve(e,d=null){const r=xe(this,se,Ke).call(this,e);r.data=d,r.capability.resolve()}clear(){Pe(this,ne,Object.create(null))}}ne=new WeakMap,se=new WeakSet,Ke=function(e){return ue(this,ne)[e]||(ue(this,ne)[e]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(e){this._internalRenderTask=e,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:e,params:d,objs:r,commonObjs:c,annotationCanvasMap:f,operatorList:T,pageIndex:u,canvasFactory:a,useRequestAnimationFrame:h=!1,pdfBug:F=!1}){this.callback=e,this.params=d,this.objs=r,this.commonObjs=c,this.annotationCanvasMap=f,this.operatorListIdx=null,this.operatorList=T,this._pageIndex=u,this.canvasFactory=a,this._pdfBug=F,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=d.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:d}){var a;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(a=globalThis.StepperManager)?void 0:a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:c,transform:f,imageLayer:T,background:u}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,T,d,this.annotationCanvasMap),this.gfx.beginDrawing({transform:f,viewport:c,transparency:e,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var e=this;return _asyncToGenerator(function*(){e.cancelled||(e.operatorListIdx=e.gfx.executeOperatorList(e.operatorList,e.operatorListIdx,e._continueBound,e.stepper),e.operatorListIdx===e.operatorList.argsArray.length&&(e.running=!1,e.operatorList.lastChunk&&(e.gfx.endDrawing(),e._canvas&&InternalRenderTask.canvasInUse.delete(e._canvas),e.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.StatTimer=L.RenderingCancelledException=L.PixelsPerInch=L.PageViewport=L.PDFDateString=L.DOMStandardFontDataFactory=L.DOMSVGFactory=L.DOMCanvasFactory=L.DOMCMapReaderFactory=void 0,L.deprecated=function(k){console.log("Deprecated API usage: "+k)},L.getFilenameFromUrl=function(k){const B=k.indexOf("#"),V=k.indexOf("?"),D=Math.min(B>0?B:k.length,V>0?V:k.length);return k.substring(k.lastIndexOf("/",D)+1,D)},L.getPdfFilenameFromUrl=function(k,B="document.pdf"){if("string"!=typeof k)return B;if(u(k))return(0,re.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),B;const D=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,I=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(k);let G=D.exec(I[1])||D.exec(I[2])||D.exec(I[3]);if(G&&(G=G[0],G.includes("%")))try{G=D.exec(decodeURIComponent(G))[0]}catch(R){}return G||B},L.getXfaPageViewport=function(k,{scale:B=1,rotation:V=0}){const{width:D,height:I}=k.attributes.style,G=[0,0,parseInt(D),parseInt(I)];return new f({viewBox:G,scale:B,rotation:V})},L.isDataScheme=u,L.isPdfFile=function(k){return"string"==typeof k&&/\.pdf$/i.test(k)},L.isValidFetchUrl=_,L.loadScript=function(k,B=!1){return new Promise((V,D)=>{const I=document.createElement("script");I.src=k,I.onload=function(G){B&&I.remove(),V(G)},I.onerror=function(){D(new Error(`Cannot load script at: ${I.src}`))},(document.head||document.documentElement).appendChild(I)})};var m=Q(6),re=Q(1);const O=class{};let S,se=O;function M(k){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(function*(k,B=!1){if(_(k,document.baseURI)){const V=yield fetch(k);if(!V.ok)throw new Error(V.statusText);return B?new Uint8Array(yield V.arrayBuffer()):(0,re.stringToBytes)(yield V.text())}return new Promise((V,D)=>{const I=new XMLHttpRequest;I.open("GET",k,!0),B&&(I.responseType="arraybuffer"),I.onreadystatechange=()=>{if(I.readyState===XMLHttpRequest.DONE){if(200===I.status||0===I.status){let G;if(B&&I.response?G=new Uint8Array(I.response):!B&&I.responseText&&(G=(0,re.stringToBytes)(I.responseText)),G)return void V(G)}D(new Error(I.statusText))}},I.send(null)})})).apply(this,arguments)}je(se,"CSS",96),je(se,"PDF",72),je(se,"PDF_TO_CSS_UNITS",O.CSS/O.PDF),L.PixelsPerInch=se,L.DOMCanvasFactory=class extends m.BaseCanvasFactory{constructor({ownerDocument:B=globalThis.document}={}){super(),this._document=B}_createCanvas(B,V){const D=this._document.createElement("canvas");return D.width=B,D.height=V,D}},L.DOMCMapReaderFactory=class extends m.BaseCMapReaderFactory{_fetchData(B,V){return M(B,this.isCompressed).then(D=>({cMapData:D,compressionType:V}))}},L.DOMStandardFontDataFactory=class extends m.BaseStandardFontDataFactory{_fetchData(B){return M(B,!0)}},L.DOMSVGFactory=class extends m.BaseSVGFactory{_createSVG(B){return document.createElementNS("http://www.w3.org/2000/svg",B)}};class f{constructor({viewBox:B,scale:V,rotation:D,offsetX:I=0,offsetY:G=0,dontFlip:R=!1}){this.viewBox=B,this.scale=V,this.rotation=D,this.offsetX=I,this.offsetY=G;const W=(B[2]+B[0])/2,v=(B[3]+B[1])/2;let l,o,P,g,E,s,C,x;switch((D%=360)<0&&(D+=360),D){case 180:l=-1,o=0,P=0,g=1;break;case 90:l=0,o=1,P=1,g=0;break;case 270:l=0,o=-1,P=-1,g=0;break;case 0:l=1,o=0,P=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}R&&(P=-P,g=-g),0===l?(E=Math.abs(v-B[1])*V+I,s=Math.abs(W-B[0])*V+G,C=Math.abs(B[3]-B[1])*V,x=Math.abs(B[2]-B[0])*V):(E=Math.abs(W-B[0])*V+I,s=Math.abs(v-B[1])*V+G,C=Math.abs(B[2]-B[0])*V,x=Math.abs(B[3]-B[1])*V),this.transform=[l*V,o*V,P*V,g*V,E-l*V*W-P*V*v,s-o*V*W-g*V*v],this.width=C,this.height=x}clone({scale:B=this.scale,rotation:V=this.rotation,offsetX:D=this.offsetX,offsetY:I=this.offsetY,dontFlip:G=!1}={}){return new f({viewBox:this.viewBox.slice(),scale:B,rotation:V,offsetX:D,offsetY:I,dontFlip:G})}convertToViewportPoint(B,V){return re.Util.applyTransform([B,V],this.transform)}convertToViewportRectangle(B){const V=re.Util.applyTransform([B[0],B[1]],this.transform),D=re.Util.applyTransform([B[2],B[3]],this.transform);return[V[0],V[1],D[0],D[1]]}convertToPdfPoint(B,V){return re.Util.applyInverseTransform([B,V],this.transform)}}function u(k){const B=k.length;let V=0;for(;V<B&&""===k[V].trim();)V++;return"data:"===k.substring(V,V+5).toLowerCase()}function _(k,B){try{const{protocol:V}=B?new URL(k,B):new URL(k);return"http:"===V||"https:"===V}catch(V){return!1}}L.PageViewport=f,L.RenderingCancelledException=class extends re.BaseException{constructor(B,V){super(B,"RenderingCancelledException"),this.type=V}},L.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(B){B in this.started&&(0,re.warn)(`Timer is already running for ${B}`),this.started[B]=Date.now()}timeEnd(B){B in this.started||(0,re.warn)(`Timer has not been started for ${B}`),this.times.push({name:B,start:this.started[B],end:Date.now()}),delete this.started[B]}toString(){const B=[];let V=0;for(const D of this.times){const I=D.name;I.length>V&&(V=I.length)}for(const D of this.times){const I=D.end-D.start;B.push(`${D.name.padEnd(V)} ${I}ms\n`)}return B.join("")}},L.PDFDateString=class{static toDateObject(B){if(!B||"string"!=typeof B)return null;S||(S=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const V=S.exec(B);if(!V)return null;const D=parseInt(V[1],10);let I=parseInt(V[2],10);I=I>=1&&I<=12?I-1:0;let G=parseInt(V[3],10);G=G>=1&&G<=31?G:1;let R=parseInt(V[4],10);R=R>=0&&R<=23?R:0;let W=parseInt(V[5],10);W=W>=0&&W<=59?W:0;let v=parseInt(V[6],10);v=v>=0&&v<=59?v:0;const l=V[7]||"Z";let o=parseInt(V[8],10);o=o>=0&&o<=23?o:0;let P=parseInt(V[9],10)||0;return P=P>=0&&P<=59?P:0,"-"===l?(R+=o,W+=P):"+"===l&&(R-=o,W-=P),new Date(Date.UTC(D,I,G,R,W,v))}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.BaseStandardFontDataFactory=L.BaseSVGFactory=L.BaseCanvasFactory=L.BaseCMapReaderFactory=void 0;var m=Q(1);class re{constructor(){this.constructor===re&&(0,m.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,d){if(e<=0||d<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,d);return{canvas:r,context:r.getContext("2d")}}reset(e,d,r){if(!e.canvas)throw new Error("Canvas is not specified");if(d<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=d,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,d){(0,m.unreachable)("Abstract method `_createCanvas` called.")}}L.BaseCanvasFactory=re;class ne{constructor({baseUrl:e=null,isCompressed:d=!1}){this.constructor===ne&&(0,m.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=d}fetch({name:e}){var d=this;return _asyncToGenerator(function*(){if(!d.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const r=d.baseUrl+e+(d.isCompressed?".bcmap":"");return d._fetchData(r,d.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE).catch(f=>{throw new Error(`Unable to load ${d.isCompressed?"binary ":""}CMap at: ${r}`)})})()}_fetchData(e,d){(0,m.unreachable)("Abstract method `_fetchData` called.")}}L.BaseCMapReaderFactory=ne;class se{constructor({baseUrl:e=null}){this.constructor===se&&(0,m.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}fetch({filename:e}){var d=this;return _asyncToGenerator(function*(){if(!d.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const r=`${d.baseUrl}${e}`;return d._fetchData(r).catch(c=>{throw new Error(`Unable to load font data at: ${r}`)})})()}_fetchData(e){(0,m.unreachable)("Abstract method `_fetchData` called.")}}L.BaseStandardFontDataFactory=se;class J{constructor(){this.constructor===J&&(0,m.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,d){if(e<=0||d<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",`${e}px`),r.setAttribute("height",`${d}px`),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${d}`),r}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,m.unreachable)("Abstract method `_createSVG` called.")}}L.BaseSVGFactory=J},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.FontLoader=L.FontFaceObject=void 0;var m=Q(1);class re{constructor({docId:M,onUnsupportedFeature:e,ownerDocument:d=globalThis.document,styleElement:r=null}){this.constructor===re&&(0,m.unreachable)("Cannot initialize BaseFontLoader."),this.docId=M,this._onUnsupportedFeature=e,this._document=d,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(M){this.nativeFontFaces.push(M),this._document.fonts.add(M)}insertRule(M){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));const d=e.sheet;d.insertRule(M,d.cssRules.length)}clear(){for(const M of this.nativeFontFaces)this._document.fonts.delete(M);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(M){var e=this;return _asyncToGenerator(function*(){if(M.attached||M.missingFile)return;if(M.attached=!0,e.isFontLoadingAPISupported){const r=M.createNativeFontFace();if(r){e.addNativeFontFace(r);try{yield r.loaded}catch(c){throw e._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,m.warn)(`Failed to load font '${r.family}': '${c}'.`),M.disableFontFace=!0,c}}return}const d=M.createFontFaceRule();if(d){if(e.insertRule(d),e.isSyncFontLoadingSupported)return;yield new Promise(r=>{const c=e._queueLoadingCallback(r);e._prepareFontLoadEvent([d],[M],c)})}})()}_queueLoadingCallback(M){(0,m.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var e;const M=!!(null==(e=this._document)?void 0:e.fonts);return(0,m.shadow)(this,"isFontLoadingAPISupported",M)}get isSyncFontLoadingSupported(){(0,m.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,m.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(M,e,d){(0,m.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ne;L.FontLoader=ne,L.FontLoader=ne=class extends re{constructor(M){super(M),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let M=!1;if("undefined"==typeof navigator)M=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==e?void 0:e[1])>=14&&(M=!0)}return(0,m.shadow)(this,"isSyncFontLoadingSupported",M)}_queueLoadingCallback(M){const d=this.loadingContext,r={id:"pdfjs-font-loading-"+d.nextRequestId++,done:!1,complete:function(){for((0,m.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;d.requests.length>0&&d.requests[0].done;){const c=d.requests.shift();setTimeout(c.callback,0)}},callback:M};return d.requests.push(r),r}get _loadTestFont(){return(0,m.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(M,e,d){function r(V,D){return V.charCodeAt(D)<<24|V.charCodeAt(D+1)<<16|V.charCodeAt(D+2)<<8|255&V.charCodeAt(D+3)}function c(V,D,I,G){return V.substring(0,D)+G+V.substring(D+I)}let f,T;const u=this._document.createElement("canvas");u.width=1,u.height=1;const a=u.getContext("2d");let h=0;const y=`lt${Date.now()}${this.loadTestFontId++}`;let _=this._loadTestFont;_=c(_,976,y.length,y);const S=1482184792;let b=r(_,16);for(f=0,T=y.length-3;f<T;f+=4)b=b-S+r(y,f)|0;f<y.length&&(b=b-S+r(y+"XXX",f)|0),_=c(_,16,4,(0,m.string32)(b));const A=`url(data:font/opentype;base64,${btoa(_)});`;this.insertRule(`@font-face {font-family:"${y}";src:${A}}`);const k=[];for(const V of e)k.push(V.loadedName);k.push(y);const B=this._document.createElement("div");B.style.visibility="hidden",B.style.width=B.style.height="10px",B.style.position="absolute",B.style.top=B.style.left="0px";for(const V of k){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=V,B.appendChild(D)}this._document.body.appendChild(B),function F(V,D){if(h++,h>30)return(0,m.warn)("Load test font never loaded."),void D();a.font="30px "+V,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0?D():setTimeout(F.bind(null,V,D))}(y,()=>{B.remove(),d.complete()})}},L.FontFaceObject=class{constructor(M,{isEvalSupported:e=!0,disableFontFace:d=!1,ignoreErrors:r=!1,onUnsupportedFeature:c,fontRegistry:f=null}){this.compiledGlyphs=Object.create(null);for(const T in M)this[T]=M[T];this.isEvalSupported=!1!==e,this.disableFontFace=!0===d,this.ignoreErrors=!0===r,this._onUnsupportedFeature=c,this.fontRegistry=f}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let M;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),M=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else M=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),M}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const M=(0,m.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(M)});`;let d;if(this.cssFontInfo){let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}else d=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),d}getPathGenerator(M,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let d;try{d=M.get(this.loadedName+"_path_"+e)}catch(r){if(!this.ignoreErrors)throw r;return this._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,m.warn)(`getPathGenerator - ignoring character: "${r}".`),this.compiledGlyphs[e]=function(c,f){}}if(this.isEvalSupported&&m.IsEvalSupportedCached.value){const r=[];for(const c of d){const f=void 0!==c.args?c.args.join(","):"";r.push("c.",c.cmd,"(",f,");\n")}return this.compiledGlyphs[e]=new Function("c","size",r.join(""))}return this.compiledGlyphs[e]=function(r,c){for(const f of d)"scale"===f.cmd&&(f.args=[c,-c]),r[f.cmd].apply(r,f.args)}}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.NodeStandardFontDataFactory=L.NodeCanvasFactory=L.NodeCMapReaderFactory=void 0;var m=Q(6),re=Q(3),ne=Q(1);let se=class{constructor(){(0,ne.unreachable)("Not implemented: NodeCanvasFactory")}};L.NodeCanvasFactory=se;let J=class{constructor(){(0,ne.unreachable)("Not implemented: NodeCMapReaderFactory")}};L.NodeCMapReaderFactory=J;let M=class{constructor(){(0,ne.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(L.NodeStandardFontDataFactory=M,re.isNodeJS){const e=function(d){return new Promise((r,c)=>{__webpack_require__(172).readFile(d,(T,u)=>{!T&&u?r(new Uint8Array(u)):c(new Error(T))})})};L.NodeCanvasFactory=se=class extends m.BaseCanvasFactory{_createCanvas(d,r){return __webpack_require__(3414).createCanvas(d,r)}},L.NodeCMapReaderFactory=J=class extends m.BaseCMapReaderFactory{_fetchData(d,r){return e(d).then(c=>({cMapData:c,compressionType:r}))}},L.NodeStandardFontDataFactory=M=class extends m.BaseStandardFontDataFactory{_fetchData(d){return e(d)}}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationStorage=void 0;var m=Q(1);L.AnnotationStorage=class{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(se,J){const M=this._storage.get(se);return void 0===M?J:Object.assign(J,M)}setValue(se,J){const M=this._storage.get(se);let e=!1;if(void 0!==M)for(const[d,r]of Object.entries(J))M[d]!==r&&(e=!0,M[d]=r);else e=!0,this._storage.set(se,J);e&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,m.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.CanvasGraphics=void 0;var m=Q(1),re=Q(11),ne=Q(5);const M=4096,f=16;function a(v){if(v._transformStack&&(v._transformStack=[]),!v.mozCurrentTransform){v._originalSave=v.save,v._originalRestore=v.restore,v._originalRotate=v.rotate,v._originalScale=v.scale,v._originalTranslate=v.translate,v._originalTransform=v.transform,v._originalSetTransform=v.setTransform,v._originalResetTransform=v.resetTransform,v._transformMatrix=v._transformMatrix||[1,0,0,1,0,0],v._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(v),"lineWidth");v._setLineWidth=l.set,v._getLineWidth=l.get,Object.defineProperty(v,"lineWidth",{set:function(P){this._setLineWidth(1.000001*P)},get:function(){return this._getLineWidth()}})}catch(l){}Object.defineProperty(v,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(v,"mozCurrentTransformInverse",{get:function(){const[o,P,g,E,s,C]=this._transformMatrix,x=o*E-P*g,N=P*g-o*E;return[E/x,P/N,g/N,o/x,(E*s-g*C)/N,(P*s-o*C)/x]}}),v.save=function(){const o=this._transformMatrix;this._transformStack.push(o),this._transformMatrix=o.slice(0,6),this._originalSave()},v.restore=function(){0===this._transformStack.length&&(0,m.warn)("Tried to restore a ctx when the stack was already empty.");const o=this._transformStack.pop();o&&(this._transformMatrix=o,this._originalRestore())},v.translate=function(o,P){const g=this._transformMatrix;g[4]=g[0]*o+g[2]*P+g[4],g[5]=g[1]*o+g[3]*P+g[5],this._originalTranslate(o,P)},v.scale=function(o,P){const g=this._transformMatrix;g[0]*=o,g[1]*=o,g[2]*=P,g[3]*=P,this._originalScale(o,P)},v.transform=function(o,P,g,E,s,C){const x=this._transformMatrix;this._transformMatrix=[x[0]*o+x[2]*P,x[1]*o+x[3]*P,x[0]*g+x[2]*E,x[1]*g+x[3]*E,x[0]*s+x[2]*C+x[4],x[1]*s+x[3]*C+x[5]],v._originalTransform(o,P,g,E,s,C)},v.setTransform=function(o,P,g,E,s,C){this._transformMatrix=[o,P,g,E,s,C],v._originalSetTransform(o,P,g,E,s,C)},v.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],v._originalResetTransform()},v.rotate=function(o){const P=Math.cos(o),g=Math.sin(o),E=this._transformMatrix;this._transformMatrix=[E[0]*P+E[2]*g,E[1]*P+E[3]*g,E[0]*-g+E[2]*P,E[1]*-g+E[3]*P,E[4],E[5]],this._originalRotate(o)}}}class h{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,o,P,g){let E;return void 0!==this.cache[l]?(E=this.cache[l],this.canvasFactory.reset(E,o,P),E.context.setTransform(1,0,0,1,0,0)):(E=this.canvasFactory.create(o,P),this.cache[l]=E),g&&a(E.context),E}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}class y{constructor(l,o){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=m.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=m.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,o])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,o){this.x=l,this.y=o}updatePathMinMax(l,o,P){[o,P]=m.Util.applyTransform([o,P],l),this.minX=Math.min(this.minX,o),this.minY=Math.min(this.minY,P),this.maxX=Math.max(this.maxX,o),this.maxY=Math.max(this.maxY,P)}updateCurvePathMinMax(l,o,P,g,E,s,C,x,N){const p=m.Util.bezierBoundingBox(o,P,g,E,s,C,x,N);this.updatePathMinMax(l,p[0],p[1]),this.updatePathMinMax(l,p[2],p[3])}getPathBoundingBox(l=re.PathType.FILL,o=null){const P=[this.minX,this.minY,this.maxX,this.maxY];if(l===re.PathType.STROKE){o||(0,m.unreachable)("Stroke bounding box must include transform.");const g=m.Util.singularValueDecompose2dScale(o),E=g[0]*this.lineWidth/2,s=g[1]*this.lineWidth/2;P[0]-=E,P[1]-=s,P[2]+=E,P[3]+=s}return P}updateClipFromPath(){const l=m.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=re.PathType.FILL,o=null){return m.Util.intersect(this.clipBox,this.getPathBoundingBox(l,o))}}function _(v,l,o=null){if("undefined"!=typeof ImageData&&l instanceof ImageData)return void v.putImageData(l,0,0);const P=l.height,g=l.width,E=P%f,s=(P-E)/f,C=0===E?s:s+1,x=v.createImageData(g,f);let p,N=0;const j=l.data,q=x.data;let X,K,ee,oe,$,ae,i,w;if(o)switch(o.length){case 1:$=o[0],ae=o[0],i=o[0],w=o[0];break;case 4:$=o[0],ae=o[1],i=o[2],w=o[3]}if(l.kind===m.ImageKind.GRAYSCALE_1BPP){const U=j.byteLength,H=new Uint32Array(q.buffer,0,q.byteLength>>2),z=H.length,te=g+7>>3;let ce=4294967295,he=m.IsLittleEndianCached.value?4278190080:255;for(w&&255===w[0]&&0===w[255]&&([ce,he]=[he,ce]),X=0;X<C;X++){for(ee=X<s?f:E,p=0,K=0;K<ee;K++){const pe=U-N;let ge=0;const _e=pe>te?g:8*pe-7,ve=-8&_e;let Ce=0,me=0;for(;ge<ve;ge+=8)me=j[N++],H[p++]=128&me?ce:he,H[p++]=64&me?ce:he,H[p++]=32&me?ce:he,H[p++]=16&me?ce:he,H[p++]=8&me?ce:he,H[p++]=4&me?ce:he,H[p++]=2&me?ce:he,H[p++]=1&me?ce:he;for(;ge<_e;ge++)0===Ce&&(me=j[N++],Ce=128),H[p++]=me&Ce?ce:he,Ce>>=1}for(;p<z;)H[p++]=0;v.putImageData(x,0,X*f)}}else if(l.kind===m.ImageKind.RGBA_32BPP){const U=!!($||ae||i);for(K=0,oe=g*f*4,X=0;X<s;X++){if(q.set(j.subarray(N,N+oe)),N+=oe,U)for(let H=0;H<oe;H+=4)$&&(q[H+0]=$[q[H+0]]),ae&&(q[H+1]=ae[q[H+1]]),i&&(q[H+2]=i[q[H+2]]);v.putImageData(x,0,K),K+=f}if(X<C){if(oe=g*E*4,q.set(j.subarray(N,N+oe)),U)for(let H=0;H<oe;H+=4)$&&(q[H+0]=$[q[H+0]]),ae&&(q[H+1]=ae[q[H+1]]),i&&(q[H+2]=i[q[H+2]]);v.putImageData(x,0,K)}}else{if(l.kind!==m.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const U=!!($||ae||i);for(ee=f,oe=g*ee,X=0;X<C;X++){for(X>=s&&(ee=E,oe=g*ee),p=0,K=oe;K--;)q[p++]=j[N++],q[p++]=j[N++],q[p++]=j[N++],q[p++]=255;if(U)for(let H=0;H<p;H+=4)$&&(q[H+0]=$[q[H+0]]),ae&&(q[H+1]=ae[q[H+1]]),i&&(q[H+2]=i[q[H+2]]);v.putImageData(x,0,X*f)}}}}function t(v,l){const o=l.height,P=l.width,g=o%f,E=(o-g)/f,s=0===g?E:E+1,C=v.createImageData(P,f);let x=0;const N=l.data,p=C.data;for(let j=0;j<s;j++){const q=j<E?f:g;let X=3;for(let K=0;K<q;K++){let ee,oe=0;for(let $=0;$<P;$++)oe||(ee=N[x++],oe=128),p[X]=ee&oe?0:255,X+=4,oe>>=1}v.putImageData(C,0,j*f)}}function n(v,l){const o=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let P=0,g=o.length;P<g;P++){const E=o[P];void 0!==v[E]&&(l[E]=v[E])}void 0!==v.setLineDash&&(l.setLineDash(v.getLineDash()),l.lineDashOffset=v.lineDashOffset)}function S(v){v.strokeStyle="#000000",v.fillStyle="#000000",v.fillRule="nonzero",v.globalAlpha=1,v.lineWidth=1,v.lineCap="butt",v.lineJoin="miter",v.miterLimit=10,v.globalCompositeOperation="source-over",v.font="10px sans-serif",void 0!==v.setLineDash&&(v.setLineDash([]),v.lineDashOffset=0)}function b(v,l,o,P){const g=v.length;for(let E=3;E<g;E+=4){const s=v[E];if(0===s)v[E-3]=l,v[E-2]=o,v[E-1]=P;else if(s<255){const C=255-s;v[E-3]=v[E-3]*s+l*C>>8,v[E-2]=v[E-2]*s+o*C>>8,v[E-1]=v[E-1]*s+P*C>>8}}}function A(v,l,o){const P=v.length;for(let E=3;E<P;E+=4)l[E]=l[E]*(o?o[v[E]]:v[E])*.00392156862745098|0}function O(v,l,o){const P=v.length;for(let g=3;g<P;g+=4){const E=77*v[g-3]+152*v[g-2]+28*v[g-1];l[g]=o?l[g]*o[E>>8]>>8:l[g]*E>>16}}function V(v,l){const o=m.Util.singularValueDecompose2dScale(v);o[0]=Math.fround(o[0]),o[1]=Math.fround(o[1]);const P=Math.fround((globalThis.devicePixelRatio||1)*ne.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:o[0]<=P||o[1]<=P}const D=["butt","round","square"],I=["miter","round","bevel"],G={},R={};class W{constructor(l,o,P,g,E,s,C){this.ctx=l,this.current=new y(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=o,this.objs=P,this.canvasFactory=g,this.imageLayer=E,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=s,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=C,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,l&&a(l),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:l,viewport:o,transparency:P=!1,background:g=null}){const E=this.ctx.canvas.width,s=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=g||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,E,s),this.ctx.restore(),P){const C=this.cachedCanvases.getCanvas("transparent",E,s,!0);this.compositeCtx=this.ctx,this.transparentCanvas=C.canvas,this.ctx=C.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),S(this.ctx),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,o.transform),this.viewportScale=o.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,o,P,g){const E=l.argsArray,s=l.fnArray;let C=o||0;const x=E.length;if(x===C)return C;const N=x-C>10&&"function"==typeof P,p=N?Date.now()+15:0;let j=0;const q=this.commonObjs,X=this.objs;let K;for(;;){if(void 0!==g&&C===g.nextBreakPoint)return g.breakIt(C,P),C;if(K=s[C],K!==m.OPS.dependency)this[K].apply(this,E[C]);else for(const ee of E[C]){const oe=ee.startsWith("g_")?q:X;if(!oe.has(ee))return oe.get(ee,P),C}if(C++,C===x)return C;if(N&&++j>10){if(Date.now()>p)return P(),C;j=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,o){const P=l.width,g=l.height;let p,j,E=Math.max(Math.hypot(o[0],o[1]),1),s=Math.max(Math.hypot(o[2],o[3]),1),C=P,x=g,N="prescale1";for(;E>2&&C>1||s>2&&x>1;){let q=C,X=x;E>2&&C>1&&(q=Math.ceil(C/2),E/=C/q),s>2&&x>1&&(X=Math.ceil(x/2),s/=x/X),p=this.cachedCanvases.getCanvas(N,q,X),j=p.context,j.clearRect(0,0,q,X),j.drawImage(l,0,0,C,x,0,0,q,X),l=p.canvas,C=q,x=X,N="prescale1"===N?"prescale2":"prescale1"}return{img:l,paintWidth:C,paintHeight:x}}_createMaskCanvas(l){const o=this.ctx,P=l.width,g=l.height,E=this.current.fillColor,s=this.current.patternFill,C=this.cachedCanvases.getCanvas("maskCanvas",P,g);t(C.context,l);let p=m.Util.transform(o.mozCurrentTransform,[1/P,0,0,-1/g,0,0]);p=m.Util.transform(p,[1,0,0,1,0,-g]);const j=m.Util.applyTransform([0,0],p),q=m.Util.applyTransform([P,g],p),X=m.Util.normalizeRect([j[0],j[1],q[0],q[1]]),K=Math.ceil(X[2]-X[0]),ee=Math.ceil(X[3]-X[1]),oe=this.cachedCanvases.getCanvas("fillCanvas",K,ee,!0),$=oe.context,ae=Math.min(j[0],q[0]),i=Math.min(j[1],q[1]);$.translate(-ae,-i),$.transform.apply($,p);const w=this._scaleImage(C.canvas,$.mozCurrentTransformInverse);$.imageSmoothingEnabled=V($.mozCurrentTransform,l.interpolate),$.drawImage(w.img,0,0,w.img.width,w.img.height,0,0,P,g),$.globalCompositeOperation="source-in";const U=m.Util.transform($.mozCurrentTransformInverse,[1,0,0,1,-ae,-i]);return $.fillStyle=s?E.getPattern(o,this,U,re.PathType.FILL):E,$.fillRect(0,0,P,g),{canvas:oe.canvas,offsetX:Math.round(ae),offsetY:Math.round(i)}}setLineWidth(l){this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=D[l]}setLineJoin(l){this.ctx.lineJoin=I[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,o){const P=this.ctx;void 0!==P.setLineDash&&(P.setLineDash(l),P.lineDashOffset=o)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let o=0,P=l.length;o<P;o++){const g=l[o],s=g[1];switch(g[0]){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=g[1];break;case"ca":this.current.fillAlpha=g[1],this.ctx.globalAlpha=g[1];break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=s}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const g=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=g.context;const E=this.ctx;E.setTransform.apply(E,this.suspendedCtx.mozCurrentTransform),n(this.suspendedCtx,E),function(v,l){if(v._removeMirroring)throw new Error("Context is already forwarding operations.");v.__originalSave=v.save,v.__originalRestore=v.restore,v.__originalRotate=v.rotate,v.__originalScale=v.scale,v.__originalTranslate=v.translate,v.__originalTransform=v.transform,v.__originalSetTransform=v.setTransform,v.__originalResetTransform=v.resetTransform,v.__originalClip=v.clip,v.__originalMoveTo=v.moveTo,v.__originalLineTo=v.lineTo,v.__originalBezierCurveTo=v.bezierCurveTo,v.__originalRect=v.rect,v.__originalClosePath=v.closePath,v.__originalBeginPath=v.beginPath,v._removeMirroring=()=>{v.save=v.__originalSave,v.restore=v.__originalRestore,v.rotate=v.__originalRotate,v.scale=v.__originalScale,v.translate=v.__originalTranslate,v.transform=v.__originalTransform,v.setTransform=v.__originalSetTransform,v.resetTransform=v.__originalResetTransform,v.clip=v.__originalClip,v.moveTo=v.__originalMoveTo,v.lineTo=v.__originalLineTo,v.bezierCurveTo=v.__originalBezierCurveTo,v.rect=v.__originalRect,v.closePath=v.__originalClosePath,v.beginPath=v.__originalBeginPath,delete v._removeMirroring},v.save=function(){l.save(),this.__originalSave()},v.restore=function(){l.restore(),this.__originalRestore()},v.translate=function(P,g){l.translate(P,g),this.__originalTranslate(P,g)},v.scale=function(P,g){l.scale(P,g),this.__originalScale(P,g)},v.transform=function(P,g,E,s,C,x){l.transform(P,g,E,s,C,x),this.__originalTransform(P,g,E,s,C,x)},v.setTransform=function(P,g,E,s,C,x){l.setTransform(P,g,E,s,C,x),this.__originalSetTransform(P,g,E,s,C,x)},v.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},v.rotate=function(P){l.rotate(P),this.__originalRotate(P)},v.clip=function(P){l.clip(P),this.__originalClip(P)},v.moveTo=function(o,P){l.moveTo(o,P),this.__originalMoveTo(o,P)},v.lineTo=function(o,P){l.lineTo(o,P),this.__originalLineTo(o,P)},v.bezierCurveTo=function(o,P,g,E,s,C){l.bezierCurveTo(o,P,g,E,s,C),this.__originalBezierCurveTo(o,P,g,E,s,C)},v.rect=function(o,P,g,E){l.rect(o,P,g,E),this.__originalRect(o,P,g,E)},v.closePath=function(){l.closePath(),this.__originalClosePath()},v.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(E,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),n(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function(v,l,o,P){const g=P[0],E=P[1],s=P[2]-g,C=P[3]-E;0===s||0===C||(function(v,l,o,P,g,E,s,C,x,N,p){const j=!!E,q=j?E[0]:0,X=j?E[1]:0,K=j?E[2]:0;let ee;ee="Luminosity"===g?O:A;const $=Math.min(P,Math.ceil(1048576/o));for(let ae=0;ae<P;ae+=$){const i=Math.min($,P-ae),w=v.getImageData(C-N,ae+(x-p),o,i),U=l.getImageData(C,ae+x,o,i);j&&b(w.data,q,X,K),ee(w.data,U.data,s),l.putImageData(U,C,ae+x)}}(l.context,o,s,C,l.subtype,l.backdrop,l.transferMap,g,E,l.offsetX,l.offsetY),v.save(),v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),v.drawImage(o.canvas,0,0),v.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(n(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),n(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(l,o,P,g,E,s){this.ctx.transform(l,o,P,g,E,s),this._cachedGetSinglePixelWidth=null}constructPath(l,o){const P=this.ctx,g=this.current;let C,x,E=g.x,s=g.y;for(let N=0,p=0,j=l.length;N<j;N++)switch(0|l[N]){case m.OPS.rectangle:E=o[p++],s=o[p++];const q=o[p++],X=o[p++],K=E+q,ee=s+X;P.moveTo(E,s),0===q||0===X?P.lineTo(K,ee):(P.lineTo(K,s),P.lineTo(K,ee),P.lineTo(E,ee)),g.updatePathMinMax(P.mozCurrentTransform,E,s),g.updatePathMinMax(P.mozCurrentTransform,K,ee),P.closePath();break;case m.OPS.moveTo:E=o[p++],s=o[p++],P.moveTo(E,s),g.updatePathMinMax(P.mozCurrentTransform,E,s);break;case m.OPS.lineTo:E=o[p++],s=o[p++],P.lineTo(E,s),g.updatePathMinMax(P.mozCurrentTransform,E,s);break;case m.OPS.curveTo:C=E,x=s,E=o[p+4],s=o[p+5],P.bezierCurveTo(o[p],o[p+1],o[p+2],o[p+3],E,s),g.updateCurvePathMinMax(P.mozCurrentTransform,C,x,o[p],o[p+1],o[p+2],o[p+3],E,s),p+=6;break;case m.OPS.curveTo2:C=E,x=s,P.bezierCurveTo(E,s,o[p],o[p+1],o[p+2],o[p+3]),g.updateCurvePathMinMax(P.mozCurrentTransform,C,x,E,s,o[p],o[p+1],o[p+2],o[p+3]),E=o[p+2],s=o[p+3],p+=4;break;case m.OPS.curveTo3:C=E,x=s,E=o[p+2],s=o[p+3],P.bezierCurveTo(o[p],o[p+1],E,s,E,s),g.updateCurvePathMinMax(P.mozCurrentTransform,C,x,o[p],o[p+1],E,s,E,s),p+=4;break;case m.OPS.closePath:P.closePath()}g.setCurrentPoint(E,s)}closePath(){this.ctx.closePath()}stroke(l){l=void 0===l||l;const o=this.ctx,P=this.current.strokeColor;if(o.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof P&&(null==P?void 0:P.getPattern)){const g=this.getSinglePixelWidth();o.save(),o.strokeStyle=P.getPattern(o,this,o.mozCurrentTransformInverse,re.PathType.STROKE),o.lineWidth=Math.max(g,this.current.lineWidth),o.stroke(),o.restore()}else{const g=this.getSinglePixelWidth();g<0&&-g>=this.current.lineWidth?(o.save(),o.resetTransform(),o.lineWidth=Math.floor(this._combinedScaleFactor),o.stroke(),o.restore()):(o.lineWidth=Math.max(g,this.current.lineWidth),o.stroke())}l&&this.consumePath(this.current.getClippedPathBoundingBox()),o.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=void 0===l||l;const o=this.ctx,P=this.current.fillColor;let E=!1;this.current.patternFill&&(o.save(),o.fillStyle=P.getPattern(o,this,o.mozCurrentTransformInverse,re.PathType.FILL),E=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(o.fill("evenodd"),this.pendingEOFill=!1):o.fill()),E&&o.restore(),l&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=G}eoClip(){this.pendingClip=R}beginText(){this.current.textMatrix=m.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,o=this.ctx;if(void 0!==l){o.save(),o.beginPath();for(let P=0;P<l.length;P++){const g=l[P];o.setTransform.apply(o,g.transform),o.translate(g.x,g.y),g.addToPath(o,g.fontSize)}o.restore(),o.clip(),o.beginPath(),delete this.pendingTextPaths}else o.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,o){const P=this.commonObjs.get(l),g=this.current;if(!P)throw new Error(`Can't find font for ${l}`);if(g.fontMatrix=P.fontMatrix||m.FONT_IDENTITY_MATRIX,(0===g.fontMatrix[0]||0===g.fontMatrix[3])&&(0,m.warn)("Invalid font matrix for font "+l),o<0?(o=-o,g.fontDirection=-1):g.fontDirection=1,this.current.font=P,this.current.fontSize=o,P.isType3Font)return;let s="normal";P.black?s="900":P.bold&&(s="bold");const C=P.italic?"italic":"normal",x=`"${P.loadedName||"sans-serif"}", ${P.fallbackName}`;let N=o;o<16?N=16:o>100&&(N=100),this.current.fontSizeScale=o/N,this.ctx.font=`${C} ${s} ${N}px ${x}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,o){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=o}setLeadingMoveText(l,o){this.setLeading(-o),this.moveText(l,o)}setTextMatrix(l,o,P,g,E,s){this.current.textMatrix=[l,o,P,g,E,s],this.current.textMatrixScale=Math.hypot(l,o),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,o,P,g,E){const s=this.ctx,C=this.current,x=C.font,N=C.textRenderingMode,p=C.fontSize/C.fontSizeScale,j=N&m.TextRenderingMode.FILL_STROKE_MASK,q=!!(N&m.TextRenderingMode.ADD_TO_PATH_FLAG),X=C.patternFill&&!x.missingFile;let K;(x.disableFontFace||q||X)&&(K=x.getPathGenerator(this.commonObjs,l)),x.disableFontFace||X?(s.save(),s.translate(o,P),s.beginPath(),K(s,p),g&&s.setTransform.apply(s,g),(j===m.TextRenderingMode.FILL||j===m.TextRenderingMode.FILL_STROKE)&&s.fill(),(j===m.TextRenderingMode.STROKE||j===m.TextRenderingMode.FILL_STROKE)&&(E&&(s.resetTransform(),s.lineWidth=Math.floor(this._combinedScaleFactor)),s.stroke()),s.restore()):((j===m.TextRenderingMode.FILL||j===m.TextRenderingMode.FILL_STROKE)&&s.fillText(l,o,P),(j===m.TextRenderingMode.STROKE||j===m.TextRenderingMode.FILL_STROKE)&&(E?(s.save(),s.moveTo(o,P),s.resetTransform(),s.lineWidth=Math.floor(this._combinedScaleFactor),s.strokeText(l,0,0),s.restore()):s.strokeText(l,o,P))),q&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:o,y:P,fontSize:p,addToPath:K})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const o=l.getImageData(0,0,10,10).data;let P=!1;for(let g=3;g<o.length;g+=4)if(o[g]>0&&o[g]<255){P=!0;break}return(0,m.shadow)(this,"isFontSubpixelAAEnabled",P)}showText(l){const o=this.current,P=o.font;if(P.isType3Font)return this.showType3Text(l);const g=o.fontSize;if(0===g)return;const E=this.ctx,s=o.fontSizeScale,C=o.charSpacing,x=o.wordSpacing,N=o.fontDirection,p=o.textHScale*N,j=l.length,q=P.vertical,X=q?1:-1,K=P.defaultVMetrics,ee=g*o.fontMatrix[0],oe=o.textRenderingMode===m.TextRenderingMode.FILL&&!P.disableFontFace&&!o.patternFill;let $;if(E.save(),E.transform.apply(E,o.textMatrix),E.translate(o.x,o.y+o.textRise),E.scale(p,N>0?-1:1),o.patternFill){E.save();const z=o.fillColor.getPattern(E,this,E.mozCurrentTransformInverse,re.PathType.FILL);$=E.mozCurrentTransform,E.restore(),E.fillStyle=z}let ae=o.lineWidth,i=!1;const w=o.textMatrixScale;if(0===w||0===ae){const z=o.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;(z===m.TextRenderingMode.STROKE||z===m.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,ae=this.getSinglePixelWidth(),i=ae<0)}else ae/=w;1!==s&&(E.scale(s,s),ae/=s),E.lineWidth=ae;let H,U=0;for(H=0;H<j;++H){const z=l[H];if("number"==typeof z){U+=X*z*g/1e3;continue}let te=!1;const ce=(z.isSpace?x:0)+C,he=z.fontChar,pe=z.accent;let ge,_e,Ce,ve=z.width;if(q){const me=z.vmetric||K,Se=-(z.vmetric?me[1]:.5*ve)*ee;ve=me?-me[0]:ve,ge=Se/s,_e=(U+me[2]*ee)/s}else ge=U/s,_e=0;if(P.remeasure&&ve>0){const me=1e3*E.measureText(he).width/g*s;if(ve<me&&this.isFontSubpixelAAEnabled){const Se=ve/me;te=!0,E.save(),E.scale(Se,1),ge/=Se}else ve!==me&&(ge+=(ve-me)/2e3*g/s)}this.contentVisible&&(z.isInFont||P.missingFile)&&(oe&&!pe?E.fillText(he,ge,_e):(this.paintChar(he,ge,_e,$,i),pe&&this.paintChar(pe.fontChar,ge+g*pe.offset.x/s,_e-g*pe.offset.y/s,$,i))),Ce=q?ve*ee-ce*N:ve*ee+ce*N,U+=Ce,te&&E.restore()}q?o.y-=U:o.x+=U*p,E.restore(),this.compose()}showType3Text(l){const o=this.ctx,P=this.current,g=P.font,E=P.fontSize,s=P.fontDirection,C=g.vertical?1:-1,x=P.charSpacing,N=P.wordSpacing,p=P.textHScale*s,j=P.fontMatrix||m.FONT_IDENTITY_MATRIX,q=l.length;let K,ee,oe,$;if(P.textRenderingMode!==m.TextRenderingMode.INVISIBLE&&0!==E){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,P.textMatrix),o.translate(P.x,P.y),o.scale(p,s),K=0;K<q;++K){if(ee=l[K],"number"==typeof ee){$=C*ee*E/1e3,this.ctx.translate($,0),P.x+=$*p;continue}const ae=(ee.isSpace?N:0)+x,i=g.charProcOperatorList[ee.operatorListId];i?(this.contentVisible&&(this.processingType3=ee,this.save(),o.scale(E,E),o.transform.apply(o,j),this.executeOperatorList(i),this.restore()),oe=m.Util.applyTransform([ee.width,0],j)[0]*E+ae,o.translate(oe,0),P.x+=oe*p):(0,m.warn)(`Type3 character "${ee.operatorListId}" is not available.`)}o.restore(),this.processingType3=null}}setCharWidth(l,o){}setCharWidthAndBounds(l,o,P,g,E,s){this.ctx.rect(P,g,E-P,s-g),this.clip(),this.endPath()}getColorN_Pattern(l){let o;if("TilingPattern"===l[0]){const P=l[1],g=this.baseTransform||this.ctx.mozCurrentTransform.slice();o=new re.TilingPattern(l,P,this.ctx,{createCanvasGraphics:s=>new W(s,this.commonObjs,this.objs,this.canvasFactory)},g)}else o=this._getPattern(l[1],l[2]);return o}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,o,P){const g=m.Util.makeHexColor(l,o,P);this.ctx.strokeStyle=g,this.current.strokeColor=g}setFillRGBColor(l,o,P){const g=m.Util.makeHexColor(l,o,P);this.ctx.fillStyle=g,this.current.fillColor=g,this.current.patternFill=!1}_getPattern(l,o=null){let P;return this.cachedPatterns.has(l)?P=this.cachedPatterns.get(l):(P=(0,re.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,P)),o&&(P.matrix=o),P}shadingFill(l){if(!this.contentVisible)return;const o=this.ctx;this.save();const P=this._getPattern(l);o.fillStyle=P.getPattern(o,this,o.mozCurrentTransformInverse,re.PathType.SHADING);const g=o.mozCurrentTransformInverse;if(g){const E=o.canvas,s=E.width,C=E.height,x=m.Util.applyTransform([0,0],g),N=m.Util.applyTransform([0,C],g),p=m.Util.applyTransform([s,0],g),j=m.Util.applyTransform([s,C],g),q=Math.min(x[0],N[0],p[0],j[0]),X=Math.min(x[1],N[1],p[1],j[1]),K=Math.max(x[0],N[0],p[0],j[0]),ee=Math.max(x[1],N[1],p[1],j[1]);this.ctx.fillRect(q,X,K-q,ee-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,m.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,m.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,o){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,o)&&(this.ctx.rect(o[0],o[1],o[2]-o[0],o[3]-o[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,o[0],o[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,o[2],o[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const o=this.ctx;l.isolated||(0,m.info)("TODO: Support non-isolated groups."),l.knockout&&(0,m.warn)("Knockout groups not supported.");const P=o.mozCurrentTransform;if(l.matrix&&o.transform.apply(o,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let g=m.Util.getAxialAlignedBoundingBox(l.bbox,o.mozCurrentTransform);g=m.Util.intersect(g,[0,0,o.canvas.width,o.canvas.height])||[0,0,0,0];const s=Math.floor(g[0]),C=Math.floor(g[1]);let x=Math.max(Math.ceil(g[2])-s,1),N=Math.max(Math.ceil(g[3])-C,1),p=1,j=1;x>M&&(p=x/M,x=M),N>M&&(j=N/M,N=M),this.current.startNewPathAndClipBox([0,0,x,N]);let q="groupAt"+this.groupLevel;l.smask&&(q+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas(q,x,N,!0),K=X.context;K.scale(1/p,1/j),K.translate(-s,-C),K.transform.apply(K,P),l.smask?this.smaskStack.push({canvas:X.canvas,context:K,offsetX:s,offsetY:C,scaleX:p,scaleY:j,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(o.setTransform(1,0,0,1,0,0),o.translate(s,C),o.scale(p,j),o.save()),n(o,K),this.ctx=K,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const o=this.ctx,P=this.groupStack.pop();if(this.ctx=P,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const g=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,g);const E=m.Util.getAxialAlignedBoundingBox([0,0,o.canvas.width,o.canvas.height],g);this.ctx.drawImage(o.canvas,0,0),this.ctx.restore(),this.compose(E)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,o,P,g,E){if(this.save(),Array.isArray(o)&&4===o.length){const s=o[2]-o[0],C=o[3]-o[1];if(E&&this.annotationCanvasMap){(P=P.slice())[4]-=o[0],P[5]-=o[1],(o=o.slice())[0]=o[1]=0,o[2]=s,o[3]=C;const[x,N]=m.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:p}=this,j=Math.ceil(s*this.outputScaleX*p),q=Math.ceil(C*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(j,q);const{canvas:X,context:K}=this.annotationCanvas;X.style.width=`calc(${s}px * var(--viewport-scale-factor))`,X.style.height=`calc(${C}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(l,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=K,this.ctx.setTransform(x,0,0,-N,0,C*N),a(this.ctx),S(this.ctx)}else S(this.ctx),this.ctx.rect(o[0],o[1],s,C),this.clip(),this.endPath()}this.current=new y(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,P),this.transform.apply(this,g)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const o=this.ctx,P=l.width,g=l.height,E=this.processingType3;if(E&&void 0===E.compiled&&(E.compiled=P<=1e3&&g<=1e3?function(v){const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),P=v.width,g=v.height,E=P+1;let s,C,x,N;const p=new Uint8Array(E*(g+1)),j=P+7&-8,q=v.data,X=new Uint8Array(j*g);let K=0;for(s=0,C=q.length;s<C;s++){const i=q[s];let w=128;for(;w>0;)X[K++]=i&w?0:255,w>>=1}let ee=0;for(K=0,0!==X[K]&&(p[0]=1,++ee),x=1;x<P;x++)X[K]!==X[K+1]&&(p[x]=X[K]?2:1,++ee),K++;for(0!==X[K]&&(p[x]=2,++ee),s=1;s<g;s++){K=s*j,N=s*E,X[K-j]!==X[K]&&(p[N]=X[K]?1:8,++ee);let i=(X[K]?4:0)+(X[K-j]?8:0);for(x=1;x<P;x++)i=(i>>2)+(X[K+1]?4:0)+(X[K-j+1]?8:0),o[i]&&(p[N+x]=o[i],++ee),K++;if(X[K-j]!==X[K]&&(p[N+x]=X[K]?2:4,++ee),ee>1e3)return null}for(K=j*(g-1),N=s*E,0!==X[K]&&(p[N]=8,++ee),x=1;x<P;x++)X[K]!==X[K+1]&&(p[N+x]=X[K]?4:8,++ee),K++;if(0!==X[K]&&(p[N+x]=4,++ee),ee>1e3)return null;const oe=new Int32Array([0,E,-1,0,-E,0,0,0,1]),$=[];for(s=0;ee&&s<=g;s++){let i=s*E;const w=i+P;for(;i<w&&!p[i];)i++;if(i===w)continue;const U=[i%E,s],H=i;let z=p[i];do{const te=oe[z];do{i+=te}while(!p[i]);const ce=p[i];5!==ce&&10!==ce?(z=ce,p[i]=0):(z=ce&51*z>>4,p[i]&=z>>2|z<<2),U.push(i%E,i/E|0),p[i]||--ee}while(H!==i);$.push(U),--s}return function(i){i.save(),i.scale(1/P,-1/g),i.translate(0,-g),i.beginPath();for(let w=0,U=$.length;w<U;w++){const H=$[w];i.moveTo(H[0],H[1]);for(let z=2,te=H.length;z<te;z+=2)i.lineTo(H[z],H[z+1])}i.fill(),i.beginPath(),i.restore()}}({data:l.data,width:P,height:g}):null),null==E?void 0:E.compiled)return void E.compiled(o);const s=this._createMaskCanvas(l),C=s.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(C,s.offsetX,s.offsetY),o.restore(),this.compose()}paintImageMaskXObjectRepeat(l,o,P=0,g=0,E,s){if(!this.contentVisible)return;const C=this.ctx;C.save();const x=C.mozCurrentTransform;C.transform(o,P,g,E,0,0);const N=this._createMaskCanvas(l);C.setTransform(1,0,0,1,0,0);for(let p=0,j=s.length;p<j;p+=2){const q=m.Util.transform(x,[o,P,g,E,s[p],s[p+1]]),[X,K]=m.Util.applyTransform([0,0],q);C.drawImage(N.canvas,X,K)}C.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const o=this.ctx,P=this.current.fillColor,g=this.current.patternFill;for(let E=0,s=l.length;E<s;E++){const C=l[E],x=C.width,N=C.height,p=this.cachedCanvases.getCanvas("maskCanvas",x,N),j=p.context;j.save(),t(j,C),j.globalCompositeOperation="source-in",j.fillStyle=g?P.getPattern(j,this,o.mozCurrentTransformInverse,re.PathType.FILL):P,j.fillRect(0,0,x,N),j.restore(),o.save(),o.transform.apply(o,C.transform),o.scale(1,-1),o.drawImage(p.canvas,0,0,x,N,0,-1,1,1),o.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const o=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);o?this.paintInlineImageXObject(o):(0,m.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,o,P,g){if(!this.contentVisible)return;const E=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);if(!E)return void(0,m.warn)("Dependent image isn't ready yet");const s=E.width,C=E.height,x=[];for(let N=0,p=g.length;N<p;N+=2)x.push({transform:[o,0,0,P,g[N],g[N+1]],x:0,y:0,w:s,h:C});this.paintInlineImageXObjectGroup(E,x)}paintInlineImageXObject(l){if(!this.contentVisible)return;const o=l.width,P=l.height,g=this.ctx;let E;if(this.save(),g.scale(1/o,-1/P),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)E=l;else{const C=this.cachedCanvases.getCanvas("inlineImage",o,P);_(C.context,l,this.current.transferMaps),E=C.canvas}const s=this._scaleImage(E,g.mozCurrentTransformInverse);if(g.imageSmoothingEnabled=V(g.mozCurrentTransform,l.interpolate),g.drawImage(s.img,0,0,s.paintWidth,s.paintHeight,0,-P,o,P),this.imageLayer){const C=this.getCanvasPosition(0,-P);this.imageLayer.appendImage({imgData:l,left:C[0],top:C[1],width:o/g.mozCurrentTransformInverse[0],height:P/g.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,o){if(!this.contentVisible)return;const P=this.ctx,g=l.width,E=l.height,s=this.cachedCanvases.getCanvas("inlineImage",g,E);_(s.context,l,this.current.transferMaps);for(let x=0,N=o.length;x<N;x++){const p=o[x];if(P.save(),P.transform.apply(P,p.transform),P.scale(1,-1),P.drawImage(s.canvas,p.x,p.y,p.w,p.h,0,-1,1,1),this.imageLayer){const j=this.getCanvasPosition(p.x,p.y);this.imageLayer.appendImage({imgData:l,left:j[0],top:j[1],width:g,height:E})}P.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,o){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,o){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(o)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const o=this.ctx;this.pendingClip&&(this.pendingClip===R?o.clip("evenodd"):o.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),o.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform,o=Math.abs(l[0]*l[3]-l[2]*l[1]),P=l[0]**2+l[2]**2,g=l[1]**2+l[3]**2,E=Math.sqrt(Math.max(P,g))/o;this._cachedGetSinglePixelWidth=P!==g&&this._combinedScaleFactor*E>1?-this._combinedScaleFactor*E:o>Number.EPSILON?E:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(l,o){const P=this.ctx.mozCurrentTransform;return[P[0]*l+P[2]*o+P[4],P[1]*l+P[3]*o+P[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}L.CanvasGraphics=W;for(const v in m.OPS)void 0!==W.prototype[v]&&(W.prototype[m.OPS[v]]=W.prototype[v])},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.TilingPattern=L.PathType=void 0,L.getShadingPattern=function(u){switch(u[0]){case"RadialAxial":return new J(u);case"Mesh":return new d(u);case"Dummy":return new r}throw new Error(`Unknown IR type: ${u[0]}`)};var m=Q(1);const re={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ne(u,a){if(!a||"undefined"==typeof Path2D)return;const h=a[2]-a[0],F=a[3]-a[1],y=new Path2D;y.rect(a[0],a[1],h,F),u.clip(y)}L.PathType=re;class se{constructor(){this.constructor===se&&(0,m.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,m.unreachable)("Abstract method `getPattern` called.")}}class J extends se{constructor(a){super(),this._type=a[1],this._bbox=a[2],this._colorStops=a[3],this._p0=a[4],this._p1=a[5],this._r0=a[6],this._r1=a[7],this.matrix=null}_createGradient(a){let h;"axial"===this._type?h=a.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(h=a.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const F of this._colorStops)h.addColorStop(F[0],F[1]);return h}getPattern(a,h,F,y){let _;if(y===re.STROKE||y===re.FILL){const t=h.current.getClippedPathBoundingBox(y,a.mozCurrentTransform)||[0,0,0,0],n=Math.ceil(t[2]-t[0])||1,S=Math.ceil(t[3]-t[1])||1,b=h.cachedCanvases.getCanvas("pattern",n,S,!0),A=b.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-t[0],-t[1]),F=m.Util.transform(F,[1,0,0,1,t[0],t[1]]),A.transform.apply(A,h.baseTransform),this.matrix&&A.transform.apply(A,this.matrix),ne(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),_=a.createPattern(b.canvas,"no-repeat");const O=new DOMMatrix(F);try{_.setTransform(O)}catch(k){(0,m.warn)(`RadialAxialShadingPattern.getPattern: "${null==k?void 0:k.message}".`)}}else ne(a,this._bbox),_=this._createGradient(a);return _}}function M(u,a,h,F,y,_,t,n){const S=a.coords,b=a.colors,A=u.data,O=4*u.width;let k;S[h+1]>S[F+1]&&(k=h,h=F,F=k,k=_,_=t,t=k),S[F+1]>S[y+1]&&(k=F,F=y,y=k,k=t,t=n,n=k),S[h+1]>S[F+1]&&(k=h,h=F,F=k,k=_,_=t,t=k);const B=(S[h]+a.offsetX)*a.scaleX,V=(S[h+1]+a.offsetY)*a.scaleY,D=(S[F]+a.offsetX)*a.scaleX,I=(S[F+1]+a.offsetY)*a.scaleY,G=(S[y]+a.offsetX)*a.scaleX,R=(S[y+1]+a.offsetY)*a.scaleY;if(V>=R)return;const W=b[_],v=b[_+1],l=b[_+2],o=b[t],P=b[t+1],g=b[t+2],E=b[n],s=b[n+1],C=b[n+2],x=Math.round(V),N=Math.round(R);let p,j,q,X,K,ee,oe,$;for(let ae=x;ae<=N;ae++){if(ae<I){let z;z=ae<V?0:(V-ae)/(V-I),p=B-(B-D)*z,j=W-(W-o)*z,q=v-(v-P)*z,X=l-(l-g)*z}else{let z;z=ae>R?1:I===R?0:(I-ae)/(I-R),p=D-(D-G)*z,j=o-(o-E)*z,q=P-(P-s)*z,X=g-(g-C)*z}let i;i=ae<V?0:ae>R?1:(V-ae)/(V-R),K=B-(B-G)*i,ee=W-(W-E)*i,oe=v-(v-s)*i,$=l-(l-C)*i;const w=Math.round(Math.min(p,K)),U=Math.round(Math.max(p,K));let H=O*ae+4*w;for(let z=w;z<=U;z++)i=(p-z)/(p-K),i<0?i=0:i>1&&(i=1),A[H++]=j-(j-ee)*i|0,A[H++]=q-(q-oe)*i|0,A[H++]=X-(X-$)*i|0,A[H++]=255}}function e(u,a,h){const F=a.coords,y=a.colors;let _,t;switch(a.type){case"lattice":const n=a.verticesPerRow,S=Math.floor(F.length/n)-1,b=n-1;for(_=0;_<S;_++){let A=_*n;for(let O=0;O<b;O++,A++)M(u,h,F[A],F[A+1],F[A+n],y[A],y[A+1],y[A+n]),M(u,h,F[A+n+1],F[A+1],F[A+n],y[A+n+1],y[A+1],y[A+n])}break;case"triangles":for(_=0,t=F.length;_<t;_+=3)M(u,h,F[_],F[_+1],F[_+2],y[_],y[_+1],y[_+2]);break;default:throw new Error("illegal figure")}}class d extends se{constructor(a){super(),this._coords=a[2],this._colors=a[3],this._figures=a[4],this._bounds=a[5],this._bbox=a[7],this._background=a[8],this.matrix=null}_createMeshCanvas(a,h,F){const n=Math.floor(this._bounds[0]),S=Math.floor(this._bounds[1]),b=Math.ceil(this._bounds[2])-n,A=Math.ceil(this._bounds[3])-S,O=Math.min(Math.ceil(Math.abs(b*a[0]*1.1)),3e3),k=Math.min(Math.ceil(Math.abs(A*a[1]*1.1)),3e3),B=b/O,V=A/k,D={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-S,scaleX:1/B,scaleY:1/V},R=F.getCanvas("mesh",O+4,k+4,!1),W=R.context,v=W.createImageData(O,k);if(h){const o=v.data;for(let P=0,g=o.length;P<g;P+=4)o[P]=h[0],o[P+1]=h[1],o[P+2]=h[2],o[P+3]=255}for(const o of this._figures)e(v,o,D);return W.putImageData(v,2,2),{canvas:R.canvas,offsetX:n-2*B,offsetY:S-2*V,scaleX:B,scaleY:V}}getPattern(a,h,F,y){let _;if(ne(a,this._bbox),y===re.SHADING)_=m.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(_=m.Util.singularValueDecompose2dScale(h.baseTransform),this.matrix){const n=m.Util.singularValueDecompose2dScale(this.matrix);_=[_[0]*n[0],_[1]*n[1]]}const t=this._createMeshCanvas(_,y===re.SHADING?null:this._background,h.cachedCanvases);return y!==re.SHADING&&(a.setTransform.apply(a,h.baseTransform),this.matrix&&a.transform.apply(a,this.matrix)),a.translate(t.offsetX,t.offsetY),a.scale(t.scaleX,t.scaleY),a.createPattern(t.canvas,"no-repeat")}}class r extends se{getPattern(){return"hotpink"}}class T{static get MAX_PATTERN_SIZE(){return(0,m.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(a,h,F,y,_){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=h,this.ctx=F,this.canvasGraphicsFactory=y,this.baseTransform=_}createPatternCanvas(a){const h=this.operatorList,F=this.bbox,y=this.xstep,_=this.ystep,t=this.paintType,S=this.color,b=this.canvasGraphicsFactory;(0,m.info)("TilingType: "+this.tilingType);const A=F[0],O=F[1],k=F[2],B=F[3],V=m.Util.singularValueDecompose2dScale(this.matrix),D=m.Util.singularValueDecompose2dScale(this.baseTransform),I=[V[0]*D[0],V[1]*D[1]],G=this.getSizeAndScale(y,this.ctx.canvas.width,I[0]),R=this.getSizeAndScale(_,this.ctx.canvas.height,I[1]),W=a.cachedCanvases.getCanvas("pattern",G.size,R.size,!0),v=W.context,l=b.createCanvasGraphics(v);l.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(l,t,S);let o=A,P=O,g=k,E=B;return A<0&&(o=0,g+=Math.abs(A)),O<0&&(P=0,E+=Math.abs(O)),v.translate(-G.scale*o,-R.scale*P),l.transform(G.scale,0,0,R.scale,0,0),v.save(),this.clipBbox(l,o,P,g,E),l.baseTransform=l.ctx.mozCurrentTransform.slice(),l.executeOperatorList(h),l.endDrawing(),{canvas:W.canvas,scaleX:G.scale,scaleY:R.scale,offsetX:o,offsetY:P}}getSizeAndScale(a,h,F){a=Math.abs(a);const y=Math.max(T.MAX_PATTERN_SIZE,h);let _=Math.ceil(a*F);return _>=y?_=y:F=_/a,{scale:F,size:_}}clipBbox(a,h,F,y,_){a.ctx.rect(h,F,y-h,_-F),a.clip(),a.endPath()}setFillAndStrokeStyleToContext(a,h,F){const y=a.ctx,_=a.current;switch(h){case 1:const t=this.ctx;y.fillStyle=t.fillStyle,y.strokeStyle=t.strokeStyle,_.fillColor=t.fillStyle,_.strokeColor=t.strokeStyle;break;case 2:const n=m.Util.makeHexColor(F[0],F[1],F[2]);y.fillStyle=n,y.strokeStyle=n,_.fillColor=n,_.strokeColor=n;break;default:throw new m.FormatError(`Unsupported paint type: ${h}`)}}getPattern(a,h,F,y){let _=F;y!==re.SHADING&&(_=m.Util.transform(_,h.baseTransform),this.matrix&&(_=m.Util.transform(_,this.matrix)));const t=this.createPatternCanvas(h);let n=new DOMMatrix(_);n=n.translate(t.offsetX,t.offsetY),n=n.scale(1/t.scaleX,1/t.scaleY);const S=a.createPattern(t.canvas,"repeat");try{S.setTransform(n)}catch(b){(0,m.warn)(`TilingPattern.getPattern: "${null==b?void 0:b.message}".`)}return S}}L.TilingPattern=T},(le,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.GlobalWorkerOptions=void 0;const Q=Object.create(null);L.GlobalWorkerOptions=Q,Q.workerPort=void 0===Q.workerPort?null:Q.workerPort,Q.workerSrc=void 0===Q.workerSrc?"":Q.workerSrc},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MessageHandler=void 0;var m=Q(1);function se(M){switch(M instanceof Error||"object"==typeof M&&null!==M||(0,m.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),M.name){case"AbortException":return new m.AbortException(M.message);case"MissingPDFException":return new m.MissingPDFException(M.message);case"PasswordException":return new m.PasswordException(M.message,M.code);case"UnexpectedResponseException":return new m.UnexpectedResponseException(M.message,M.status);case"UnknownErrorException":return new m.UnknownErrorException(M.message,M.details);default:return new m.UnknownErrorException(M.message,M.toString())}}L.MessageHandler=class{constructor(e,d,r){this.sourceName=e,this.targetName=d,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=c=>{const f=c.data;if(f.targetName!==this.sourceName)return;if(f.stream)return void this._processStreamMessage(f);if(f.callback){const u=f.callbackId,a=this.callbackCapabilities[u];if(!a)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],1===f.callback)a.resolve(f.data);else{if(2!==f.callback)throw new Error("Unexpected callback case");a.reject(se(f.reason))}return}const T=this.actionHandler[f.action];if(!T)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){const u=this.sourceName,a=f.sourceName;new Promise(function(h){h(T(f.data))}).then(function(h){r.postMessage({sourceName:u,targetName:a,callback:1,callbackId:f.callbackId,data:h})},function(h){r.postMessage({sourceName:u,targetName:a,callback:2,callbackId:f.callbackId,reason:se(h)})})}else f.streamId?this._createStreamSink(f):T(f.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,d){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=d}send(e,d,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:d},r)}sendWithPromise(e,d,r){const c=this.callbackId++,f=(0,m.createPromiseCapability)();this.callbackCapabilities[c]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:c,data:d},r)}catch(T){f.reject(T)}return f.promise}sendWithStream(e,d,r,c){const f=this.streamId++,T=this.sourceName,u=this.targetName,a=this.comObj;return new ReadableStream({start:h=>{const F=(0,m.createPromiseCapability)();return this.streamControllers[f]={controller:h,startCall:F,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:T,targetName:u,action:e,streamId:f,data:d,desiredSize:h.desiredSize},c),F.promise},pull:h=>{const F=(0,m.createPromiseCapability)();return this.streamControllers[f].pullCall=F,a.postMessage({sourceName:T,targetName:u,stream:6,streamId:f,desiredSize:h.desiredSize}),F.promise},cancel:h=>{(0,m.assert)(h instanceof Error,"cancel must have a valid reason");const F=(0,m.createPromiseCapability)();return this.streamControllers[f].cancelCall=F,this.streamControllers[f].isClosed=!0,a.postMessage({sourceName:T,targetName:u,stream:1,streamId:f,reason:se(h)}),F.promise}},r)}_createStreamSink(e){const d=e.streamId,r=this.sourceName,c=e.sourceName,f=this.comObj,T=this,u=this.actionHandler[e.action],a={enqueue(h,F=1,y){if(this.isCancelled)return;const _=this.desiredSize;this.desiredSize-=F,_>0&&this.desiredSize<=0&&(this.sinkCapability=(0,m.createPromiseCapability)(),this.ready=this.sinkCapability.promise),f.postMessage({sourceName:r,targetName:c,stream:4,streamId:d,chunk:h},y)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:r,targetName:c,stream:3,streamId:d}),delete T.streamSinks[d])},error(h){(0,m.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:r,targetName:c,stream:5,streamId:d,reason:se(h)}))},sinkCapability:(0,m.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[d]=a,new Promise(function(h){h(u(e.data,a))}).then(function(){f.postMessage({sourceName:r,targetName:c,stream:8,streamId:d,success:!0})},function(h){f.postMessage({sourceName:r,targetName:c,stream:8,streamId:d,reason:se(h)})})}_processStreamMessage(e){const d=e.streamId,r=this.sourceName,c=e.sourceName,f=this.comObj,T=this.streamControllers[d],u=this.streamSinks[d];switch(e.stream){case 8:e.success?T.startCall.resolve():T.startCall.reject(se(e.reason));break;case 7:e.success?T.pullCall.resolve():T.pullCall.reject(se(e.reason));break;case 6:if(!u){f.postMessage({sourceName:r,targetName:c,stream:7,streamId:d,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,new Promise(function(a){a(u.onPull&&u.onPull())}).then(function(){f.postMessage({sourceName:r,targetName:c,stream:7,streamId:d,success:!0})},function(a){f.postMessage({sourceName:r,targetName:c,stream:7,streamId:d,reason:se(a)})});break;case 4:if((0,m.assert)(T,"enqueue should have stream controller"),T.isClosed)break;T.controller.enqueue(e.chunk);break;case 3:if((0,m.assert)(T,"close should have stream controller"),T.isClosed)break;T.isClosed=!0,T.controller.close(),this._deleteStreamController(T,d);break;case 5:(0,m.assert)(T,"error should have stream controller"),T.controller.error(se(e.reason)),this._deleteStreamController(T,d);break;case 2:e.success?T.cancelCall.resolve():T.cancelCall.reject(se(e.reason)),this._deleteStreamController(T,d);break;case 1:if(!u)break;new Promise(function(a){a(u.onCancel&&u.onCancel(se(e.reason)))}).then(function(){f.postMessage({sourceName:r,targetName:c,stream:2,streamId:d,success:!0})},function(a){f.postMessage({sourceName:r,targetName:c,stream:2,streamId:d,reason:se(a)})}),u.sinkCapability.reject(se(e.reason)),u.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(e,d){var r=this;return _asyncToGenerator(function*(){yield Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete r.streamControllers[d]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(le,L,Q)=>{var ne,se;Object.defineProperty(L,"__esModule",{value:!0}),L.Metadata=void 0;var m=Q(1);ne=new WeakMap,se=new WeakMap,L.Metadata=class{constructor({parsedData:M,rawData:e}){ye(this,ne,void 0),ye(this,se,void 0),Pe(this,ne,M),Pe(this,se,e)}getRaw(){return ue(this,se)}get(M){var e;return null!=(e=ue(this,ne).get(M))?e:null}getAll(){return(0,m.objectFromMap)(ue(this,ne))}has(M){return ue(this,ne).has(M)}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.OptionalContentConfig=void 0;var m=Q(1);class re{constructor(J,M){this.visible=!0,this.name=J,this.intent=M}}L.OptionalContentConfig=class{constructor(J){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==J){this.name=J.name,this.creator=J.creator,this._order=J.order;for(const M of J.groups)this._groups.set(M.id,new re(M.name,M.intent));if("OFF"===J.baseState)for(const M of this._groups)M.visible=!1;for(const M of J.on)this._groups.get(M).visible=!0;for(const M of J.off)this._groups.get(M).visible=!1}}_evaluateVisibilityExpression(J){const M=J.length;if(M<2)return!0;const e=J[0];for(let d=1;d<M;d++){const r=J[d];let c;if(Array.isArray(r))c=this._evaluateVisibilityExpression(r);else{if(!this._groups.has(r))return(0,m.warn)(`Optional content group not found: ${r}`),!0;c=this._groups.get(r).visible}switch(e){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return"And"===e}isVisible(J){if(0===this._groups.size)return!0;if(!J)return(0,m.warn)("Optional content group not defined."),!0;if("OCG"===J.type)return this._groups.has(J.id)?this._groups.get(J.id).visible:((0,m.warn)(`Optional content group not found: ${J.id}`),!0);if("OCMD"===J.type){if(J.expression)return this._evaluateVisibilityExpression(J.expression);if(!J.policy||"AnyOn"===J.policy){for(const M of J.ids){if(!this._groups.has(M))return(0,m.warn)(`Optional content group not found: ${M}`),!0;if(this._groups.get(M).visible)return!0}return!1}if("AllOn"===J.policy){for(const M of J.ids){if(!this._groups.has(M))return(0,m.warn)(`Optional content group not found: ${M}`),!0;if(!this._groups.get(M).visible)return!1}return!0}if("AnyOff"===J.policy){for(const M of J.ids){if(!this._groups.has(M))return(0,m.warn)(`Optional content group not found: ${M}`),!0;if(!this._groups.get(M).visible)return!0}return!1}if("AllOff"===J.policy){for(const M of J.ids){if(!this._groups.has(M))return(0,m.warn)(`Optional content group not found: ${M}`),!0;if(this._groups.get(M).visible)return!1}return!0}return(0,m.warn)(`Unknown optional content policy ${J.policy}.`),!0}return(0,m.warn)(`Unknown group type ${J.type}.`),!0}setVisibility(J,M=!0){this._groups.has(J)?this._groups.get(J).visible=!!M:(0,m.warn)(`Optional content group not found: ${J}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,m.objectFromMap)(this._groups):null}getGroup(J){return this._groups.get(J)||null}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFDataTransportStream=void 0;var m=Q(1),re=Q(5);L.PDFDataTransportStream=class{constructor(e,d){(0,m.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const r=e.initialData;if((null==r?void 0:r.length)>0){const c=new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((c,f)=>{this._onReceiveData({begin:c,chunk:f})}),this._pdfDataRangeTransport.addProgressListener((c,f)=>{this._onProgress({loaded:c,total:f})}),this._pdfDataRangeTransport.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const d=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(d):this._queuedChunks.push(d);else{const r=this._rangeReaders.some(function(c){return c._begin===e.begin&&(c._enqueue(d),!0)});(0,m.assert)(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,d;return null!=(d=null==(e=this._fullRequestReader)?void 0:e._loaded)?d:0}_onProgress(e){if(void 0===e.total){const d=this._rangeReaders[0];(null==d?void 0:d.onProgress)&&d.onProgress({loaded:e.loaded})}else{const d=this._fullRequestReader;(null==d?void 0:d.onProgress)&&d.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const d=this._rangeReaders.indexOf(e);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,m.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new se(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,d){if(d<=this._progressiveDataLength)return null;const r=new J(this,e,d);return this._pdfDataRangeTransport.requestDataRange(e,d),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const d of this._rangeReaders.slice(0))d.cancel(e);this._pdfDataRangeTransport.abort()}};class se{constructor(e,d,r=!1,c=null){this._stream=e,this._done=r||!1,this._filename=(0,re.isPdfFile)(c)?c:null,this._queuedChunks=d||[],this._loaded=0;for(const f of this._queuedChunks)this._loaded+=f.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var e=this;return _asyncToGenerator(function*(){if(e._queuedChunks.length>0)return{value:e._queuedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const d=(0,m.createPromiseCapability)();return e._requests.push(d),d.promise})()}cancel(e){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class J{constructor(e,d,r){this._stream=e,this._begin=d,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var e=this;return _asyncToGenerator(function*(){if(e._queuedChunk){const r=e._queuedChunk;return e._queuedChunk=null,{value:r,done:!1}}if(e._done)return{value:void 0,done:!0};const d=(0,m.createPromiseCapability)();return e._requests.push(d),d.promise})()}cancel(e){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(le,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaText=void 0;class Q{static textContent(re){const ne=[],se={items:ne,styles:Object.create(null)};return function J(M){var r;if(!M)return;let e=null;const d=M.name;if("#text"===d)e=M.value;else{if(!Q.shouldBuildText(d))return;(null==(r=null==M?void 0:M.attributes)?void 0:r.textContent)?e=M.attributes.textContent:M.value&&(e=M.value)}if(null!==e&&ne.push({str:e}),M.children)for(const c of M.children)J(c)}(re),se}static shouldBuildText(re){return!("textarea"===re||"input"===re||"option"===re||"select"===re)}}L.XfaText=Q},(le,L,Q)=>{var P,Ze;Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationLayer=void 0;var m=Q(1),re=Q(5),ne=Q(9),se=Q(19),J=Q(20);const M=1e3,e=new WeakSet;function d(E){return{width:E[2]-E[0],height:E[3]-E[1]}}class r{static create(s){switch(s.data.annotationType){case m.AnnotationType.LINK:return new f(s);case m.AnnotationType.TEXT:return new T(s);case m.AnnotationType.WIDGET:switch(s.data.fieldType){case"Tx":return new a(s);case"Btn":return s.data.radioButton?new F(s):s.data.checkBox?new h(s):new y(s);case"Ch":return new _(s)}return new u(s);case m.AnnotationType.POPUP:return new t(s);case m.AnnotationType.FREETEXT:return new S(s);case m.AnnotationType.LINE:return new b(s);case m.AnnotationType.SQUARE:return new A(s);case m.AnnotationType.CIRCLE:return new O(s);case m.AnnotationType.POLYLINE:return new k(s);case m.AnnotationType.CARET:return new V(s);case m.AnnotationType.INK:return new D(s);case m.AnnotationType.POLYGON:return new B(s);case m.AnnotationType.HIGHLIGHT:return new I(s);case m.AnnotationType.UNDERLINE:return new G(s);case m.AnnotationType.SQUIGGLY:return new R(s);case m.AnnotationType.STRIKEOUT:return new W(s);case m.AnnotationType.STAMP:return new v(s);case m.AnnotationType.FILEATTACHMENT:return new l(s);default:return new c(s)}}}class c{constructor(s,{isRenderable:C=!1,ignoreBorder:x=!1,createQuadrilaterals:N=!1}={}){this.isRenderable=C,this.data=s.data,this.layer=s.layer,this.page=s.page,this.viewport=s.viewport,this.linkService=s.linkService,this.downloadManager=s.downloadManager,this.imageResourcesPath=s.imageResourcesPath,this.renderForms=s.renderForms,this.svgFactory=s.svgFactory,this.annotationStorage=s.annotationStorage,this.enableScripting=s.enableScripting,this.hasJSActions=s.hasJSActions,this._fieldObjects=s.fieldObjects,this._mouseState=s.mouseState,C&&(this.container=this._createContainer(x)),N&&(this.quadrilaterals=this._createQuadrilaterals(x))}_createContainer(s=!1){const C=this.data,x=this.page,N=this.viewport,p=document.createElement("section");let{width:j,height:q}=d(C.rect);p.setAttribute("data-annotation-id",C.id);const X=m.Util.normalizeRect([C.rect[0],x.view[3]-C.rect[1]+x.view[1],C.rect[2],x.view[3]-C.rect[3]+x.view[1]]);if(C.hasOwnCanvas){const K=N.transform.slice(),[ee,oe]=m.Util.singularValueDecompose2dScale(K);j=Math.ceil(j*ee),q=Math.ceil(q*oe),X[0]*=ee,X[1]*=oe;for(let $=0;$<4;$++)K[$]=Math.sign(K[$]);p.style.transform=`matrix(${K.join(",")})`}else p.style.transform=`matrix(${N.transform.join(",")})`;if(p.style.transformOrigin=`${-X[0]}px ${-X[1]}px`,!s&&C.borderStyle.width>0){p.style.borderWidth=`${C.borderStyle.width}px`,C.borderStyle.style!==m.AnnotationBorderStyleType.UNDERLINE&&(j-=2*C.borderStyle.width,q-=2*C.borderStyle.width);const K=C.borderStyle.horizontalCornerRadius,ee=C.borderStyle.verticalCornerRadius;switch((K>0||ee>0)&&(p.style.borderRadius=`${K}px / ${ee}px`),C.borderStyle.style){case m.AnnotationBorderStyleType.SOLID:p.style.borderStyle="solid";break;case m.AnnotationBorderStyleType.DASHED:p.style.borderStyle="dashed";break;case m.AnnotationBorderStyleType.BEVELED:(0,m.warn)("Unimplemented border style: beveled");break;case m.AnnotationBorderStyleType.INSET:(0,m.warn)("Unimplemented border style: inset");break;case m.AnnotationBorderStyleType.UNDERLINE:p.style.borderBottomStyle="solid"}C.borderColor||C.color?p.style.borderColor=m.Util.makeHexColor(0|C.color[0],0|C.color[1],0|C.color[2]):p.style.borderWidth=0}return p.style.left=`${X[0]}px`,p.style.top=`${X[1]}px`,C.hasOwnCanvas?p.style.width=p.style.height="auto":(p.style.width=`${j}px`,p.style.height=`${q}px`),p}_createQuadrilaterals(s=!1){if(!this.data.quadPoints)return null;const C=[],x=this.data.rect;for(const N of this.data.quadPoints)this.data.rect=[N[2].x,N[2].y,N[1].x,N[1].y],C.push(this._createContainer(s));return this.data.rect=x,C}_createPopup(s,C){let x=this.container;this.quadrilaterals&&(s=s||this.quadrilaterals,x=this.quadrilaterals[0]),s||((s=document.createElement("div")).style.height=x.style.height,s.style.width=x.style.width,x.appendChild(s));const p=new n({container:x,trigger:s,color:C.color,titleObj:C.titleObj,modificationDate:C.modificationDate,contentsObj:C.contentsObj,richText:C.richText,hideWrapper:!0}).render();p.style.left=x.style.width,x.appendChild(p)}_renderQuadrilaterals(s){for(const C of this.quadrilaterals)C.className=s;return this.quadrilaterals}render(){(0,m.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(s,C=null){const x=[];if(this._fieldObjects){const N=this._fieldObjects[s];if(N)for(const{page:p,id:j,exportValues:q}of N){if(-1===p||j===C)continue;const X="string"==typeof q?q:null,K=document.getElementById(j);!K||e.has(K)?x.push({id:j,exportValue:X,domElement:K}):(0,m.warn)(`_getElementsByName - element not allowed: ${j}`)}return x}for(const N of document.getElementsByName(s)){const{id:p,exportValue:j}=N;p!==C&&(!e.has(N)||x.push({id:p,exportValue:j,domElement:N}))}return x}static get platform(){const s="undefined"!=typeof navigator?navigator.platform:"";return(0,m.shadow)(this,"platform",{isWin:s.includes("Win"),isMac:s.includes("Mac")})}}class f extends c{constructor(s,C=null){super(s,{isRenderable:!!(s.data.url||s.data.dest||s.data.action||s.data.isTooltipOnly||s.data.resetForm||s.data.actions&&(s.data.actions.Action||s.data.actions["Mouse Up"]||s.data.actions["Mouse Down"])),ignoreBorder:!!(null==C?void 0:C.ignoreBorder),createQuadrilaterals:!0})}render(){var N;const{data:s,linkService:C}=this,x=document.createElement("a");if(s.url)C.addLinkAttributes||(0,m.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(N=C.addLinkAttributes)||N.call(C,x,s.url,s.newWindow);else if(s.action)this._bindNamedAction(x,s.action);else if(s.dest)this._bindLink(x,s.dest);else{let p=!1;s.actions&&(s.actions.Action||s.actions["Mouse Up"]||s.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(p=!0,this._bindJSAction(x,s)),s.resetForm?this._bindResetFormAction(x,s.resetForm):p||this._bindLink(x,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((p,j)=>{const q=0===j?x:x.cloneNode();return p.appendChild(q),p}):(this.container.className="linkAnnotation",this.container.appendChild(x),this.container)}_bindLink(s,C){s.href=this.linkService.getDestinationHash(C),s.onclick=()=>(C&&this.linkService.goToDestination(C),!1),(C||""===C)&&(s.className="internalLink")}_bindNamedAction(s,C){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeNamedAction(C),!1),s.className="internalLink"}_bindJSAction(s,C){s.href=this.linkService.getAnchorUrl("");const x=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const N of Object.keys(C.actions)){const p=x.get(N);!p||(s[p]=()=>{var j;return null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C.id,name:N}}),!1})}s.onclick||(s.onclick=()=>!1),s.className="internalLink"}_bindResetFormAction(s,C){const x=s.onclick;if(x||(s.href=this.linkService.getAnchorUrl("")),s.className="internalLink",!this._fieldObjects)return(0,m.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(x||(s.onclick=()=>!1));s.onclick=()=>{var ee;x&&x();const{fields:N,refs:p,include:j}=C,q=[];if(0!==N.length||0!==p.length){const oe=new Set(p);for(const $ of N){const ae=this._fieldObjects[$]||[];for(const{id:i}of ae)oe.add(i)}for(const $ of Object.values(this._fieldObjects))for(const ae of $)oe.has(ae.id)===j&&q.push(ae)}else for(const oe of Object.values(this._fieldObjects))q.push(...oe);const X=this.annotationStorage,K=[];for(const oe of q){const{id:$}=oe;switch(K.push($),oe.type){case"text":{const i=oe.defaultValue||"";X.setValue($,{value:i,valueAsString:i});break}case"checkbox":case"radiobutton":X.setValue($,{value:oe.defaultValue===oe.exportValues});break;case"combobox":case"listbox":X.setValue($,{value:oe.defaultValue||""});break;default:continue}const ae=document.getElementById($);!ae||!e.has(ae)||ae.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(ee=this.linkService.eventBus)||ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:K,name:"ResetForm"}})),!1}}}class T extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str))})}render(){this.container.className="textAnnotation";const s=document.createElement("img");return s.style.height=this.container.style.height,s.style.width=this.container.style.width,s.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",s.alt="[{{type}} Annotation]",s.dataset.l10nId="text_annotation_type",s.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(s,this.data),this.container.appendChild(s),this.container}}class u extends c{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(s){const{isWin:C,isMac:x}=c.platform;return C&&s.ctrlKey||x&&s.metaKey}_setEventListener(s,C,x,N){C.includes("mouse")?s.addEventListener(C,p=>{var j;null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:x,value:N(p),shift:p.shiftKey,modifier:this._getKeyModifier(p)}})}):s.addEventListener(C,p=>{var j;null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:x,value:N(p)}})})}_setEventListeners(s,C,x){var N;for(const[p,j]of C)("Action"===j||(null==(N=this.data.actions)?void 0:N[j]))&&this._setEventListener(s,p,j,x)}_setBackgroundColor(s){const C=this.data.backgroundColor||null;s.style.backgroundColor=null===C?"transparent":m.Util.makeHexColor(C[0],C[1],C[2])}_dispatchEventFromSandbox(s,C){const x=(p,j,q)=>{const X=q.detail[p];q.target.style[j]=se.ColorConverters[`${X[0]}_HTML`](X.slice(1))},N={display:p=>{const j=p.detail.display%2==1;p.target.style.visibility=j?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:j,print:0===p.detail.display||3===p.detail.display})},print:p=>{this.annotationStorage.setValue(this.data.id,{print:p.detail.print})},hidden:p=>{p.target.style.visibility=p.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:p.detail.hidden})},focus:p=>{setTimeout(()=>p.target.focus({preventScroll:!1}),0)},userName:p=>{p.target.title=p.detail.userName},readonly:p=>{p.detail.readonly?p.target.setAttribute("readonly",""):p.target.removeAttribute("readonly")},required:p=>{p.detail.required?p.target.setAttribute("required",""):p.target.removeAttribute("required")},bgColor:p=>{x("bgColor","backgroundColor",p)},fillColor:p=>{x("fillColor","backgroundColor",p)},fgColor:p=>{x("fgColor","color",p)},textColor:p=>{x("textColor","color",p)},borderColor:p=>{x("borderColor","borderColor",p)},strokeColor:p=>{x("strokeColor","borderColor",p)}};for(const p of Object.keys(C.detail)){const j=s[p]||N[p];j&&j(C)}}}class a extends u{constructor(s){super(s,{isRenderable:s.renderForms||!s.data.hasAppearance&&!!s.data.fieldValue})}setPropertyOnSiblings(s,C,x,N){const p=this.annotationStorage;for(const j of this._getElementsByName(s.name,s.id))j.domElement&&(j.domElement[C]=x),p.setValue(j.id,{[N]:x})}render(){var N;const s=this.annotationStorage,C=this.data.id;this.container.className="textWidgetAnnotation";let x=null;if(this.renderForms){const p=s.getValue(C,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),j=p.valueAsString||p.value||"",q={userValue:null,formattedValue:null};this.data.multiLine?(x=document.createElement("textarea"),x.textContent=j):(x=document.createElement("input"),x.type="text",x.setAttribute("value",j)),e.add(x),x.disabled=this.data.readOnly,x.name=this.data.fieldName,x.tabIndex=M,q.userValue=j,x.setAttribute("id",C),x.addEventListener("input",K=>{s.setValue(C,{value:K.target.value}),this.setPropertyOnSiblings(x,"value",K.target.value,"value")}),x.addEventListener("resetform",K=>{x.value=q.userValue=this.data.defaultFieldValue||"",delete q.formattedValue});let X=K=>{q.formattedValue&&(K.target.value=q.formattedValue),K.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){x.addEventListener("focus",ee=>{q.userValue&&(ee.target.value=q.userValue)}),x.addEventListener("updatefromsandbox",ee=>{this._dispatchEventFromSandbox({value($){q.userValue=$.detail.value||"",s.setValue(C,{value:q.userValue.toString()}),q.formattedValue||($.target.value=q.userValue)},valueAsString($){q.formattedValue=$.detail.valueAsString||"",$.target!==document.activeElement&&($.target.value=q.formattedValue),s.setValue(C,{formattedValue:q.formattedValue})},selRange($){const[ae,i]=$.detail.selRange;ae>=0&&i<$.target.value.length&&$.target.setSelectionRange(ae,i)}},ee)}),x.addEventListener("keydown",ee=>{var $;let oe=-1;"Escape"===ee.key?oe=0:"Enter"===ee.key?oe=2:"Tab"===ee.key&&(oe=3),-1!==oe&&(q.userValue=ee.target.value,null==($=this.linkService.eventBus)||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:ee.target.value,willCommit:!0,commitKey:oe,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}}))});const K=X;X=null,x.addEventListener("blur",ee=>{var oe;q.userValue=ee.target.value,this._mouseState.isDown&&(null==(oe=this.linkService.eventBus)||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:ee.target.value,willCommit:!0,commitKey:1,selStart:ee.target.selectionStart,selEnd:ee.target.selectionEnd}})),K(ee)}),(null==(N=this.data.actions)?void 0:N.Keystroke)&&x.addEventListener("beforeinput",ee=>{var U;q.formattedValue="";const{data:oe,target:$}=ee,{value:ae,selectionStart:i,selectionEnd:w}=$;null==(U=this.linkService.eventBus)||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:ae,change:oe,willCommit:!1,selStart:i,selEnd:w}})}),this._setEventListeners(x,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.value)}if(X&&x.addEventListener("blur",X),null!==this.data.maxLen&&(x.maxLength=this.data.maxLen),this.data.comb){const ee=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;x.classList.add("comb"),x.style.letterSpacing=`calc(${ee}px - 1ch)`}}else x=document.createElement("div"),x.textContent=this.data.fieldValue,x.style.verticalAlign="middle",x.style.display="table-cell";return this._setTextStyle(x),this._setBackgroundColor(x),this.container.appendChild(x),this.container}_setTextStyle(s){const{fontSize:x,fontColor:N}=this.data.defaultAppearanceData,p=s.style;x&&(p.fontSize=`${x}px`),p.color=m.Util.makeHexColor(N[0],N[1],N[2]),null!==this.data.textAlignment&&(p.textAlign=["left","center","right"][this.data.textAlignment])}}class h extends u{constructor(s){super(s,{isRenderable:s.renderForms})}render(){const s=this.annotationStorage,C=this.data,x=C.id;let N=s.getValue(x,{value:C.exportValue===C.fieldValue}).value;"string"==typeof N&&(N="Off"!==N,s.setValue(x,{value:N})),this.container.className="buttonWidgetAnnotation checkBox";const p=document.createElement("input");return e.add(p),p.disabled=C.readOnly,p.type="checkbox",p.name=C.fieldName,N&&p.setAttribute("checked",!0),p.setAttribute("id",x),p.setAttribute("exportValue",C.exportValue),p.tabIndex=M,p.addEventListener("change",j=>{const{name:q,checked:X}=j.target;for(const K of this._getElementsByName(q,x)){const ee=X&&K.exportValue===C.exportValue;K.domElement&&(K.domElement.checked=ee),s.setValue(K.id,{value:ee})}s.setValue(x,{value:X})}),p.addEventListener("resetform",j=>{j.target.checked=(C.defaultFieldValue||"Off")===C.exportValue}),this.enableScripting&&this.hasJSActions&&(p.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(X){X.target.checked="Off"!==X.detail.value,s.setValue(x,{value:X.target.checked})}},j)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)),this._setBackgroundColor(p),this.container.appendChild(p),this.container}}class F extends u{constructor(s){super(s,{isRenderable:s.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const s=this.annotationStorage,C=this.data,x=C.id;let N=s.getValue(x,{value:C.fieldValue===C.buttonValue}).value;"string"==typeof N&&(N=N!==C.buttonValue,s.setValue(x,{value:N}));const p=document.createElement("input");if(e.add(p),p.disabled=C.readOnly,p.type="radio",p.name=C.fieldName,N&&p.setAttribute("checked",!0),p.setAttribute("id",x),p.tabIndex=M,p.addEventListener("change",j=>{const{name:q,checked:X}=j.target;for(const K of this._getElementsByName(q,x))s.setValue(K.id,{value:!1});s.setValue(x,{value:X})}),p.addEventListener("resetform",j=>{const q=C.defaultFieldValue;j.target.checked=null!=q&&q===C.buttonValue}),this.enableScripting&&this.hasJSActions){const j=C.buttonValue;p.addEventListener("updatefromsandbox",q=>{this._dispatchEventFromSandbox({value:K=>{const ee=j===K.detail.value;for(const oe of this._getElementsByName(K.target.name)){const $=ee&&oe.id===x;oe.domElement&&(oe.domElement.checked=$),s.setValue(oe.id,{value:$})}}},q)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)}return this._setBackgroundColor(p),this.container.appendChild(p),this.container}}class y extends f{constructor(s){super(s,{ignoreBorder:s.data.hasAppearance})}render(){const s=super.render();return s.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(s.title=this.data.alternativeText),s}}class _ extends u{constructor(s){super(s,{isRenderable:s.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const s=this.annotationStorage,C=this.data.id;s.getValue(C,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:x}=this.data.defaultAppearanceData;x||(x=9);const N=`calc(${x}px * var(--zoom-factor))`,p=document.createElement("select");e.add(p),p.disabled=this.data.readOnly,p.name=this.data.fieldName,p.setAttribute("id",C),p.tabIndex=M,p.style.fontSize=`${x}px`,this.data.combo||(p.size=this.data.options.length,this.data.multiSelect&&(p.multiple=!0)),p.addEventListener("resetform",X=>{const K=this.data.defaultFieldValue;for(const ee of p.options)ee.selected=ee.value===K});for(const X of this.data.options){const K=document.createElement("option");K.textContent=X.displayValue,K.value=X.exportValue,this.data.combo&&(K.style.fontSize=N),this.data.fieldValue.includes(X.exportValue)&&K.setAttribute("selected",!0),p.appendChild(K)}const j=(X,K)=>{const ee=K?"value":"textContent",oe=X.target.options;return X.target.multiple?Array.prototype.filter.call(oe,$=>$.selected).map($=>$[ee]):-1===oe.selectedIndex?null:oe[oe.selectedIndex][ee]},q=X=>Array.prototype.map.call(X.target.options,ee=>({displayValue:ee.textContent,exportValue:ee.value}));return this.enableScripting&&this.hasJSActions?(p.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value(ee){const oe=ee.detail.value,$=new Set(Array.isArray(oe)?oe:[oe]);for(const ae of p.options)ae.selected=$.has(ae.value);s.setValue(C,{value:j(ee,!0)})},multipleSelection(ee){p.multiple=!0},remove(ee){const oe=p.options,$=ee.detail.remove;oe[$].selected=!1,p.remove($),oe.length>0&&-1===Array.prototype.findIndex.call(oe,i=>i.selected)&&(oe[0].selected=!0),s.setValue(C,{value:j(ee,!0),items:q(ee)})},clear(ee){for(;0!==p.length;)p.remove(0);s.setValue(C,{value:null,items:[]})},insert(ee){const{index:oe,displayValue:$,exportValue:ae}=ee.detail.insert,i=document.createElement("option");i.textContent=$,i.value=ae,p.insertBefore(i,p.children[oe]),s.setValue(C,{value:j(ee,!0),items:q(ee)})},items(ee){const{items:oe}=ee.detail;for(;0!==p.length;)p.remove(0);for(const $ of oe){const{displayValue:ae,exportValue:i}=$,w=document.createElement("option");w.textContent=ae,w.value=i,p.appendChild(w)}p.options.length>0&&(p.options[0].selected=!0),s.setValue(C,{value:j(ee,!0),items:q(ee)})},indices(ee){const oe=new Set(ee.detail.indices);for(const $ of ee.target.options)$.selected=oe.has($.index);s.setValue(C,{value:j(ee,!0)})},editable(ee){ee.target.disabled=!ee.detail.editable}},X)}),p.addEventListener("input",X=>{var oe;const K=j(X,!0),ee=j(X,!1);s.setValue(C,{value:K}),null==(oe=this.linkService.eventBus)||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:ee,changeEx:K,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],X=>X.target.checked)):p.addEventListener("input",function(X){s.setValue(C,{value:j(X)})}),this._setBackgroundColor(p),this.container.appendChild(p),this.container}}class t extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!((null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const x=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===x.length)return this.container;const N=new n({container:this.container,trigger:Array.from(x),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),p=this.page,j=m.Util.normalizeRect([this.data.parentRect[0],p.view[3]-this.data.parentRect[1]+p.view[1],this.data.parentRect[2],p.view[3]-this.data.parentRect[3]+p.view[1]]),q=j[0]+this.data.parentRect[2]-this.data.parentRect[0],X=j[1];return this.container.style.transformOrigin=`${-q}px ${-X}px`,this.container.style.left=`${q}px`,this.container.style.top=`${X}px`,this.container.appendChild(N.render()),this.container}}class n{constructor(s){this.container=s.container,this.trigger=s.trigger,this.color=s.color,this.titleObj=s.titleObj,this.modificationDate=s.modificationDate,this.contentsObj=s.contentsObj,this.richText=s.richText,this.hideWrapper=s.hideWrapper||!1,this.pinned=!1}render(){var q,X;const C=document.createElement("div");C.className="popupWrapper",this.hideElement=this.hideWrapper?C:this.container,this.hideElement.hidden=!0;const x=document.createElement("div");x.className="popup";const N=this.color;N&&(x.style.backgroundColor=m.Util.makeHexColor(0|.7*(255-N[0])+N[0],0|.7*(255-N[1])+N[1],0|.7*(255-N[2])+N[2]));const p=document.createElement("h1");p.dir=this.titleObj.dir,p.textContent=this.titleObj.str,x.appendChild(p);const j=re.PDFDateString.toDateObject(this.modificationDate);if(j){const K=document.createElement("span");K.className="popupDate",K.textContent="{{date}}, {{time}}",K.dataset.l10nId="annotation_date_string",K.dataset.l10nArgs=JSON.stringify({date:j.toLocaleDateString(),time:j.toLocaleTimeString()}),x.appendChild(K)}if(!(null==(q=this.richText)?void 0:q.str)||(null==(X=this.contentsObj)?void 0:X.str)&&this.contentsObj.str!==this.richText.str){const K=this._formatContents(this.contentsObj);x.appendChild(K)}else J.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:x}),x.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const K of this.trigger)K.addEventListener("click",this._toggle.bind(this)),K.addEventListener("mouseover",this._show.bind(this,!1)),K.addEventListener("mouseout",this._hide.bind(this,!1));return x.addEventListener("click",this._hide.bind(this,!0)),C.appendChild(x),C}_formatContents({str:s,dir:C}){const x=document.createElement("p");x.className="popupContent",x.dir=C;const N=s.split(/(?:\r\n?|\n)/);for(let p=0,j=N.length;p<j;++p)x.appendChild(document.createTextNode(N[p])),p<j-1&&x.appendChild(document.createElement("br"));return x}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(s=!1){s&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(s=!0){s&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class S extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const s=this.data,{width:C,height:x}=d(s.rect),N=this.svgFactory.create(C,x),p=this.svgFactory.createElement("svg:line");return p.setAttribute("x1",s.rect[2]-s.lineCoordinates[0]),p.setAttribute("y1",s.rect[3]-s.lineCoordinates[1]),p.setAttribute("x2",s.rect[2]-s.lineCoordinates[2]),p.setAttribute("y2",s.rect[3]-s.lineCoordinates[3]),p.setAttribute("stroke-width",s.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),N.appendChild(p),this.container.append(N),this._createPopup(p,s),this.container}}class A extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const s=this.data,{width:C,height:x}=d(s.rect),N=this.svgFactory.create(C,x),p=s.borderStyle.width,j=this.svgFactory.createElement("svg:rect");return j.setAttribute("x",p/2),j.setAttribute("y",p/2),j.setAttribute("width",C-p),j.setAttribute("height",x-p),j.setAttribute("stroke-width",p||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),N.appendChild(j),this.container.append(N),this._createPopup(j,s),this.container}}class O extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const s=this.data,{width:C,height:x}=d(s.rect),N=this.svgFactory.create(C,x),p=s.borderStyle.width,j=this.svgFactory.createElement("svg:ellipse");return j.setAttribute("cx",C/2),j.setAttribute("cy",x/2),j.setAttribute("rx",C/2-p/2),j.setAttribute("ry",x/2-p/2),j.setAttribute("stroke-width",p||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),N.appendChild(j),this.container.append(N),this._createPopup(j,s),this.container}}class k extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const s=this.data,{width:C,height:x}=d(s.rect),N=this.svgFactory.create(C,x);let p=[];for(const q of s.vertices)p.push(q.x-s.rect[0]+","+(s.rect[3]-q.y));p=p.join(" ");const j=this.svgFactory.createElement(this.svgElementName);return j.setAttribute("points",p),j.setAttribute("stroke-width",s.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),N.appendChild(j),this.container.append(N),this._createPopup(j,s),this.container}}class B extends k{constructor(s){super(s),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class V extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class D extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const s=this.data,{width:C,height:x}=d(s.rect),N=this.svgFactory.create(C,x);for(const p of s.inkLists){let j=[];for(const X of p)j.push(`${X.x-s.rect[0]},${s.rect[3]-X.y}`);j=j.join(" ");const q=this.svgFactory.createElement(this.svgElementName);q.setAttribute("points",j),q.setAttribute("stroke-width",s.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),this._createPopup(q,s),N.appendChild(q)}return this.container.append(N),this.container}}class I extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class G extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class R extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class W extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class v extends c{constructor(s){var x,N,p;super(s,{isRenderable:!!(s.data.hasPopup||(null==(x=s.data.titleObj)?void 0:x.str)||(null==(N=s.data.contentsObj)?void 0:N.str)||(null==(p=s.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class l extends c{constructor(s){var N;super(s,{isRenderable:!0});const{filename:C,content:x}=this.data.file;this.filename=(0,re.getFilenameFromUrl)(C),this.content=x,null==(N=this.linkService.eventBus)||N.dispatch("fileattachmentannotation",{source:this,id:(0,m.stringToPDFString)(C),filename:C,content:x})}render(){var C,x;this.container.className="fileAttachmentAnnotation";const s=document.createElement("div");return s.style.height=this.container.style.height,s.style.width=this.container.style.width,s.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(C=this.data.titleObj)?void 0:C.str)||(null==(x=this.data.contentsObj)?void 0:x.str)||this.data.richText)&&this._createPopup(s,this.data),this.container.appendChild(s),this.container}_download(){var s;null==(s=this.downloadManager)||s.openOrDownloadData(this.container,this.content,this.filename)}}class o{static render(s){const C=[],x=[];for(const p of s.annotations){if(!p)continue;const{width:j,height:q}=d(p.rect);if(!(j<=0||q<=0)){if(p.annotationType===m.AnnotationType.POPUP){x.push(p);continue}C.push(p)}}x.length&&C.push(...x);const N=s.div;for(const p of C){const j=r.create({data:p,layer:N,page:s.page,viewport:s.viewport,linkService:s.linkService,downloadManager:s.downloadManager,imageResourcesPath:s.imageResourcesPath||"",renderForms:!1!==s.renderForms,svgFactory:new re.DOMSVGFactory,annotationStorage:s.annotationStorage||new ne.AnnotationStorage,enableScripting:s.enableScripting,hasJSActions:s.hasJSActions,fieldObjects:s.fieldObjects,mouseState:s.mouseState||{isDown:!1}});if(j.isRenderable){const q=j.render();if(p.hidden&&(q.style.visibility="hidden"),Array.isArray(q))for(const X of q)N.appendChild(X);else j instanceof t?N.prepend(q):N.appendChild(q)}}xe(this,P,Ze).call(this,N,s.annotationCanvasMap)}static update(s){const{page:C,viewport:x,annotations:N,annotationCanvasMap:p,div:j}=s,q=x.transform,X=`matrix(${q.join(",")})`;let K,ee;for(const oe of N){const $=j.querySelectorAll(`[data-annotation-id="${oe.id}"]`);if($)for(const ae of $)if(oe.hasOwnCanvas){const i=m.Util.normalizeRect([oe.rect[0],C.view[3]-oe.rect[1]+C.view[1],oe.rect[2],C.view[3]-oe.rect[3]+C.view[1]]);if(!ee){K=Math.abs(q[0]||q[1]);const H=q.slice();for(let z=0;z<4;z++)H[z]=Math.sign(H[z]);ee=`matrix(${H.join(",")})`}const w=i[0]*K,U=i[1]*K;ae.style.left=`${w}px`,ae.style.top=`${U}px`,ae.style.transformOrigin=`${-w}px ${-U}px`,ae.style.transform=ee}else ae.style.transform=X}xe(this,P,Ze).call(this,j,p),j.hidden=!1}}P=new WeakSet,Ze=function(s,C){if(C){for(const[x,N]of C){const p=s.querySelector(`[data-annotation-id="${x}"]`);if(!p)continue;const{firstChild:j}=p;"CANVAS"===j.nodeName?p.replaceChild(N,j):p.insertBefore(N,j)}C.clear()}},ye(o,P),L.AnnotationLayer=o},(le,L)=>{function Q(re){return Math.floor(255*Math.max(0,Math.min(1,re))).toString(16).padStart(2,"0")}Object.defineProperty(L,"__esModule",{value:!0}),L.ColorConverters=void 0,L.ColorConverters=class{static CMYK_G([ne,se,J,M]){return["G",1-Math.min(1,.3*ne+.59*J+.11*se+M)]}static G_CMYK([ne]){return["CMYK",0,0,0,1-ne]}static G_RGB([ne]){return["RGB",ne,ne,ne]}static G_HTML([ne]){const se=Q(ne);return`#${se}${se}${se}`}static RGB_G([ne,se,J]){return["G",.3*ne+.59*se+.11*J]}static RGB_HTML([ne,se,J]){return`#${Q(ne)}${Q(se)}${Q(J)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ne,se,J,M]){return["RGB",1-Math.min(1,ne+M),1-Math.min(1,J+M),1-Math.min(1,se+M)]}static CMYK_HTML(ne){return this.RGB_HTML(this.CMYK_RGB(ne))}static RGB_CMYK([ne,se,J]){const M=1-ne,e=1-se,d=1-J;return["CMYK",M,e,d,Math.min(M,e,d)]}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaLayer=void 0;var m=Q(1),re=Q(17);L.XfaLayer=class{static setupStorage(J,M,e,d,r){const c=d.getValue(M,{value:null});switch(e.name){case"textarea":if(null!==c.value&&(J.textContent=c.value),"print"===r)break;J.addEventListener("input",f=>{d.setValue(M,{value:f.target.value})});break;case"input":if("radio"===e.attributes.type||"checkbox"===e.attributes.type){if(c.value===e.attributes.xfaOn?J.setAttribute("checked",!0):c.value===e.attributes.xfaOff&&J.removeAttribute("checked"),"print"===r)break;J.addEventListener("change",f=>{d.setValue(M,{value:f.target.getAttribute(f.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==c.value&&J.setAttribute("value",c.value),"print"===r)break;J.addEventListener("input",f=>{d.setValue(M,{value:f.target.value})})}break;case"select":if(null!==c.value)for(const f of e.children)f.attributes.value===c.value&&(f.attributes.selected=!0);J.addEventListener("input",f=>{const T=f.target.options;d.setValue(M,{value:-1===T.selectedIndex?"":T[T.selectedIndex].value})})}}static setAttributes({html:J,element:M,storage:e=null,intent:d,linkService:r}){var T;const{attributes:c}=M,f=J instanceof HTMLAnchorElement;"radio"===c.type&&(c.name=`${c.name}-${d}`);for(const[u,a]of Object.entries(c))if(null!=a&&"dataId"!==u)if("style"!==u)if("textContent"===u)J.textContent=a;else if("class"===u)a.length&&J.setAttribute(u,a.join(" "));else{if(f&&("href"===u||"newWindow"===u))continue;J.setAttribute(u,a)}else Object.assign(J.style,a);f&&(r.addLinkAttributes||(0,m.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(T=r.addLinkAttributes)||T.call(r,J,c.href,c.newWindow)),e&&c.dataId&&this.setupStorage(J,c.dataId,M,e)}static render(J){var a;const M=J.annotationStorage,e=J.linkService,d=J.xfaHtml,r=J.intent||"display",c=document.createElement(d.name);d.attributes&&this.setAttributes({html:c,element:d,intent:r,linkService:e});const f=[[d,-1,c]],T=J.div;if(T.appendChild(c),J.viewport){const h=`matrix(${J.viewport.transform.join(",")})`;T.style.transform=h}"richText"!==r&&T.setAttribute("class","xfaLayer xfaFont");const u=[];for(;f.length>0;){const[h,F,y]=f[f.length-1];if(F+1===h.children.length){f.pop();continue}const _=h.children[++f[f.length-1][1]];if(null===_)continue;const{name:t}=_;if("#text"===t){const S=document.createTextNode(_.value);u.push(S),y.appendChild(S);continue}let n;if(n=(null==(a=null==_?void 0:_.attributes)?void 0:a.xmlns)?document.createElementNS(_.attributes.xmlns,t):document.createElement(t),y.appendChild(n),_.attributes&&this.setAttributes({html:n,element:_,storage:M,intent:r,linkService:e}),_.children&&_.children.length>0)f.push([_,-1,n]);else if(_.value){const S=document.createTextNode(_.value);re.XfaText.shouldBuildText(t)&&u.push(S),n.appendChild(S)}}for(const h of T.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:u}}static update(J){const M=`matrix(${J.viewport.transform.join(",")})`;J.div.style.transform=M,J.div.hidden=!1}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.renderTextLayer=function(F){const y=new a({textContent:F.textContent,textContentStream:F.textContentStream,container:F.container,viewport:F.viewport,textDivs:F.textDivs,textContentItemsStr:F.textContentItemsStr,enhanceTextSelection:F.enhanceTextSelection});return y._render(F.timeout),y};var m=Q(1);const J=new Map,M=/^\s+$/g;function d(F,y,_,t){const n=document.createElement("span"),S=F._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==y.str,hasEOL:y.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==y.str,hasEOL:y.hasEOL};F._textDivs.push(n);const b=m.Util.transform(F._viewport.transform,y.transform);let A=Math.atan2(b[1],b[0]);const O=_[y.fontName];O.vertical&&(A+=Math.PI/2);const k=Math.hypot(b[2],b[3]),B=k*function(F,y){const _=J.get(F);if(_)return _;y.save(),y.font=`30px ${F}`;const t=y.measureText("");let n=t.fontBoundingBoxAscent,S=Math.abs(t.fontBoundingBoxDescent);if(n){y.restore();const A=n/(n+S);return J.set(F,A),A}y.strokeStyle="red",y.clearRect(0,0,30,30),y.strokeText("g",0,0);let b=y.getImageData(0,0,30,30).data;S=0;for(let A=b.length-1-3;A>=0;A-=4)if(b[A]>0){S=Math.ceil(A/4/30);break}y.clearRect(0,0,30,30),y.strokeText("A",0,30),b=y.getImageData(0,0,30,30).data,n=0;for(let A=0,O=b.length;A<O;A+=4)if(b[A]>0){n=30-Math.floor(A/4/30);break}if(y.restore(),n){const A=n/(n+S);return J.set(F,A),A}return J.set(F,.8),.8}(O.fontFamily,t);let V,D;0===A?(V=b[4],D=b[5]-B):(V=b[4]+B*Math.sin(A),D=b[5]-B*Math.cos(A)),n.style.left=`${V}px`,n.style.top=`${D}px`,n.style.fontSize=`${k}px`,n.style.fontFamily=O.fontFamily,n.setAttribute("role","presentation"),n.textContent=y.str,n.dir=y.dir,F._fontInspectorEnabled&&(n.dataset.fontName=y.fontName),0!==A&&(S.angle=A*(180/Math.PI));let I=!1;if(y.str.length>1||F._enhanceTextSelection&&M.test(y.str))I=!0;else if(" "!==y.str&&y.transform[0]!==y.transform[3]){const G=Math.abs(y.transform[0]),R=Math.abs(y.transform[3]);G!==R&&Math.max(G,R)/Math.min(G,R)>1.5&&(I=!0)}if(I&&(S.canvasWidth=O.vertical?y.height*F._viewport.scale:y.width*F._viewport.scale),F._textDivProperties.set(n,S),F._textContentStream&&F._layoutText(n),F._enhanceTextSelection&&S.hasText){let G=1,R=0;0!==A&&(G=Math.cos(A),R=Math.sin(A));const W=(O.vertical?y.height:y.width)*F._viewport.scale,v=k;let l,o;0!==A?(l=[G,R,-R,G,V,D],o=m.Util.getAxialAlignedBoundingBox([0,0,W,v],l)):o=[V,D,V+W,D+v],F._bounds.push({left:o[0],top:o[1],right:o[2],bottom:o[3],div:n,size:[W,v],m:l})}}function r(F){if(F._canceled)return;const y=F._textDivs,_=F._capability,t=y.length;if(t>1e5)return F._renderingDone=!0,void _.resolve();if(!F._textContentStream)for(let n=0;n<t;n++)F._layoutText(y[n]);F._renderingDone=!0,_.resolve()}function c(F,y,_){let t=0;for(let n=0;n<_;n++){const S=F[y++];S>0&&(t=t?Math.min(S,t):S)}return t}function u(F,y){y.sort(function(n,S){return n.x1-S.x1||n.index-S.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const n of y){let S=0;for(;S<t.length&&t[S].end<=n.y1;)S++;let b=t.length-1;for(;b>=0&&t[b].start>=n.y2;)b--;let A,O,k,B,V=-1/0;for(k=S;k<=b;k++){let G;A=t[k],O=A.boundary,G=O.x2>n.x1?O.index>n.index?O.x1New:n.x1:void 0===O.x2New?(O.x2+n.x1)/2:O.x2New,G>V&&(V=G)}for(n.x1New=V,k=S;k<=b;k++)A=t[k],O=A.boundary,void 0===O.x2New?O.x2>n.x1?O.index>n.index&&(O.x2New=O.x2):O.x2New=V:O.x2New>V&&(O.x2New=Math.max(V,O.x2));const D=[];let I=null;for(k=S;k<=b;k++){A=t[k],O=A.boundary;const G=O.x2>n.x2?O:n;I===G?D[D.length-1].end=A.end:(D.push({start:A.start,end:A.end,boundary:G}),I=G)}for(t[S].start<n.y1&&(D[0].start=n.y1,D.unshift({start:t[S].start,end:n.y1,boundary:t[S].boundary})),n.y2<t[b].end&&(D[D.length-1].end=n.y2,D.push({start:n.y2,end:t[b].end,boundary:t[b].boundary})),k=S;k<=b;k++){if(A=t[k],O=A.boundary,void 0!==O.x2New)continue;let G=!1;for(B=S-1;!G&&B>=0&&t[B].start>=O.y1;B--)G=t[B].boundary===O;for(B=b+1;!G&&B<t.length&&t[B].end<=O.y2;B++)G=t[B].boundary===O;for(B=0;!G&&B<D.length;B++)G=D[B].boundary===O;G||(O.x2New=V)}Array.prototype.splice.apply(t,[S,b-S+1].concat(D))}for(const n of t){const S=n.boundary;void 0===S.x2New&&(S.x2New=Math.max(F,S.x2))}}class a{constructor({textContent:y,textContentStream:_,container:t,viewport:n,textDivs:S,textContentItemsStr:b,enhanceTextSelection:A}){var O;this._textContent=y,this._textContentStream=_,this._container=t,this._document=t.ownerDocument,this._viewport=n,this._textDivs=S||[],this._textContentItemsStr=b||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!!(null==(O=globalThis.FontInspector)?void 0:O.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,m.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new m.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(y,_){for(let t=0,n=y.length;t<n;t++)if(void 0!==y[t].str)this._textContentItemsStr.push(y[t].str),d(this,y[t],_,this._layoutTextCtx);else if("beginMarkedContentProps"===y[t].type||"beginMarkedContent"===y[t].type){const S=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==y[t].id&&this._container.setAttribute("id",`${y[t].id}`),S.appendChild(this._container)}else"endMarkedContent"===y[t].type&&(this._container=this._container.parentNode)}_layoutText(y){const _=this._textDivProperties.get(y);let t="";if(0!==_.canvasWidth&&_.hasText){const{fontSize:n,fontFamily:S}=y.style;(n!==this._layoutTextLastFontSize||S!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${n} ${S}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=S);const{width:b}=this._layoutTextCtx.measureText(y.textContent);if(b>0){const A=_.canvasWidth/b;this._enhanceTextSelection&&(_.scale=A),t=`scaleX(${A})`}}if(0!==_.angle&&(t=`rotate(${_.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(_.originalTransform=t),y.style.transform=t),_.hasText&&this._container.appendChild(y),_.hasEOL){const n=document.createElement("br");n.setAttribute("role","presentation"),this._container.appendChild(n)}}_render(y=0){const _=(0,m.createPromiseCapability)();let t=Object.create(null);const n=this._document.createElement("canvas");if(n.height=n.width=30,n.mozOpaque=!0,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),_.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const S=()=>{this._reader.read().then(({value:b,done:A})=>{A?_.resolve():(Object.assign(t,b.styles),this._processItems(b.items,t),S())},_.reject)};this._reader=this._textContentStream.getReader(),S()}}_.promise.then(()=>{t=null,y?this._renderTimer=setTimeout(()=>{r(this),this._renderTimer=null},y):r(this)},this._capability.reject)}expandTextDivs(y=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(F){const y=F._bounds,_=F._viewport,t=function(F,y,_){const t=_.map(function(S,b){return{x1:S.left,y1:S.top,x2:S.right,y2:S.bottom,index:b,x1New:void 0,x2New:void 0}});u(F,t);const n=new Array(_.length);for(const S of t)n[S.index]={left:S.x1New,top:0,right:S.x2New,bottom:0};_.map(function(S,b){const A=n[b],O=t[b];O.x1=S.top,O.y1=F-A.right,O.x2=S.bottom,O.y2=F-A.left,O.index=b,O.x1New=void 0,O.x2New=void 0}),u(y,t);for(const S of t){const b=S.index;n[b].top=S.x1New,n[b].bottom=S.x2New}return n}(_.width,_.height,y);for(let n=0;n<t.length;n++){const S=y[n].div,b=F._textDivProperties.get(S);if(0===b.angle){b.paddingLeft=y[n].left-t[n].left,b.paddingTop=y[n].top-t[n].top,b.paddingRight=t[n].right-y[n].right,b.paddingBottom=t[n].bottom-y[n].bottom,F._textDivProperties.set(S,b);continue}const A=t[n],O=y[n],k=O.m,B=k[0],V=k[1],D=[[0,0],[0,O.size[1]],[O.size[0],0],O.size],I=new Float64Array(64);for(let R=0,W=D.length;R<W;R++){const v=m.Util.applyTransform(D[R],k);I[R+0]=B&&(A.left-v[0])/B,I[R+4]=V&&(A.top-v[1])/V,I[R+8]=B&&(A.right-v[0])/B,I[R+12]=V&&(A.bottom-v[1])/V,I[R+16]=V&&(A.left-v[0])/-V,I[R+20]=B&&(A.top-v[1])/B,I[R+24]=V&&(A.right-v[0])/-V,I[R+28]=B&&(A.bottom-v[1])/B,I[R+32]=B&&(A.left-v[0])/-B,I[R+36]=V&&(A.top-v[1])/-V,I[R+40]=B&&(A.right-v[0])/-B,I[R+44]=V&&(A.bottom-v[1])/-V,I[R+48]=V&&(A.left-v[0])/V,I[R+52]=B&&(A.top-v[1])/-B,I[R+56]=V&&(A.right-v[0])/V,I[R+60]=B&&(A.bottom-v[1])/-B}const G=1+Math.min(Math.abs(B),Math.abs(V));b.paddingLeft=c(I,32,16)/G,b.paddingTop=c(I,48,16)/G,b.paddingRight=c(I,0,16)/G,b.paddingBottom=c(I,16,16)/G,F._textDivProperties.set(S,b)}}(this),this._bounds=null);const _=[],t=[];for(let n=0,S=this._textDivs.length;n<S;n++){const b=this._textDivs[n],A=this._textDivProperties.get(b);!A.hasText||(y?(_.length=0,t.length=0,A.originalTransform&&_.push(A.originalTransform),A.paddingTop>0?(t.push(`${A.paddingTop}px`),_.push(`translateY(${-A.paddingTop}px)`)):t.push(0),t.push(A.paddingRight>0?A.paddingRight/A.scale+"px":0),t.push(A.paddingBottom>0?`${A.paddingBottom}px`:0),A.paddingLeft>0?(t.push(A.paddingLeft/A.scale+"px"),_.push(`translateX(${-A.paddingLeft/A.scale}px)`)):t.push(0),b.style.padding=t.join(" "),_.length&&(b.style.transform=_.join(" "))):(b.style.padding=null,b.style.transform=A.originalTransform))}}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.SVGGraphics=void 0;var m=Q(1),re=Q(5),ne=Q(3);let se=class{constructor(){(0,m.unreachable)("Not implemented: SVGGraphics")}};L.SVGGraphics=se;{let u=function(t){let n=[];const S=[];for(const b of t)"save"!==b.fn?"restore"===b.fn?n=S.pop():n.push(b):(n.push({fnId:92,fn:"group",items:[]}),S.push(n),n=n[n.length-1].items);return n},a=function(t){if(Number.isInteger(t))return t.toString();const n=t.toFixed(10);let S=n.length-1;if("0"!==n[S])return n;do{S--}while("0"===n[S]);return n.substring(0,"."===n[S]?S:S+1)},h=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${a(t[0])} ${a(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const n=180*Math.acos(t[0])/Math.PI;return`rotate(${a(n)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${a(t[4])} ${a(t[5])})`;return`matrix(${a(t[0])} ${a(t[1])} ${a(t[2])} ${a(t[3])} ${a(t[4])} ${a(t[5])})`};const J={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},M="http://www.w3.org/XML/1998/namespace",e="http://www.w3.org/1999/xlink",d=["butt","round","square"],r=["miter","round","bevel"],c=function(t,n="",S=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!S)return URL.createObjectURL(new Blob([t],{type:n}));const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${n};base64,`;for(let O=0,k=t.length;O<k;O+=3){const B=255&t[O],V=255&t[O+1],D=255&t[O+2];A+=b[B>>2]+b[(3&B)<<4|V>>4]+b[O+1<k?(15&V)<<2|D>>6:64]+b[O+2<k?63&D:64]}return A},f=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),S=new Int32Array(256);for(let D=0;D<256;D++){let I=D;for(let G=0;G<8;G++)I=1&I?3988292384^I>>1&2147483647:I>>1&2147483647;S[D]=I}function A(D,I,G,R){let W=R;const v=I.length;G[W]=v>>24&255,G[W+1]=v>>16&255,G[W+2]=v>>8&255,G[W+3]=255&v,W+=4,G[W]=255&D.charCodeAt(0),G[W+1]=255&D.charCodeAt(1),G[W+2]=255&D.charCodeAt(2),G[W+3]=255&D.charCodeAt(3),W+=4,G.set(I,W),W+=I.length;const l=function(D,I,G){let R=-1;for(let W=I;W<G;W++)R=R>>>8^S[255&(R^D[W])];return-1^R}(G,R+4,W);G[W]=l>>24&255,G[W+1]=l>>16&255,G[W+2]=l>>8&255,G[W+3]=255&l}function B(D){let I=D.length;const G=65535,R=Math.ceil(I/G),W=new Uint8Array(2+I+5*R+4);let v=0;W[v++]=120,W[v++]=156;let l=0;for(;I>G;)W[v++]=0,W[v++]=255,W[v++]=255,W[v++]=0,W[v++]=0,W.set(D.subarray(l,l+G),v),v+=G,l+=G,I-=G;W[v++]=1,W[v++]=255&I,W[v++]=I>>8&255,W[v++]=255&~I,W[v++]=(65535&~I)>>8&255,W.set(D.subarray(l),v),v+=D.length-l;const o=function(D,I,G){let R=1,W=0;for(let v=0;v<G;++v)R=(R+(255&D[v]))%65521,W=(W+R)%65521;return W<<16|R}(D,0,D.length);return W[v++]=o>>24&255,W[v++]=o>>16&255,W[v++]=o>>8&255,W[v++]=255&o,W}return function(I,G,R){return function(D,I,G,R){const W=D.width,v=D.height;let l,o,P;const g=D.data;switch(I){case m.ImageKind.GRAYSCALE_1BPP:o=0,l=1,P=W+7>>3;break;case m.ImageKind.RGB_24BPP:o=2,l=8,P=3*W;break;case m.ImageKind.RGBA_32BPP:o=6,l=8,P=4*W;break;default:throw new Error("invalid format")}const E=new Uint8Array((1+P)*v);let s=0,C=0;for(let X=0;X<v;++X)E[s++]=0,E.set(g.subarray(C,C+P),s),C+=P,s+=P;if(I===m.ImageKind.GRAYSCALE_1BPP&&R){s=0;for(let X=0;X<v;X++){s++;for(let K=0;K<P;K++)E[s++]^=255}}const x=new Uint8Array([W>>24&255,W>>16&255,W>>8&255,255&W,v>>24&255,v>>16&255,v>>8&255,255&v,l,o,0,0,0]),N=function(D){if(!ne.isNodeJS)return B(D);try{let I;I=parseInt(process.versions.node)>=8?D:Buffer.from(D);const G=__webpack_require__(2258).deflateSync(I,{level:9});return G instanceof Uint8Array?G:new Uint8Array(G)}catch(I){(0,m.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+I)}return B(D)}(E),j=new Uint8Array(t.length+36+x.length+N.length);let q=0;return j.set(t,q),q+=t.length,A("IHDR",x,j,q),q+=12+x.length,A("IDATA",N,j,q),q+=12+N.length,A("IEND",new Uint8Array(0),j,q),c(j,"image/png",G)}(I,void 0===I.kind?m.ImageKind.GRAYSCALE_1BPP:I.kind,G,R)}}();class T{constructor(){this.fontSizeScale=1,this.fontWeight=J.fontWeight,this.fontSize=0,this.textMatrix=m.IDENTITY_MATRIX,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=m.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=J.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,S){this.x=n,this.y=S}}let F=0,y=0,_=0;L.SVGGraphics=se=class{constructor(t,n,S=!1){this.svgFactory=new re.DOMSVGFactory,this.current=new T,this.transformMatrix=m.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!S,this._operatorIdMapping=[];for(const b in m.OPS)this._operatorIdMapping[m.OPS[b]]=b}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const n=t.fnArray,S=t.argsArray;for(let b=0,A=n.length;b<A;b++)if(n[b]===m.OPS.dependency)for(const O of S[b]){const k=O.startsWith("g_")?this.commonObjs:this.objs,B=new Promise(V=>{k.get(O,V)});this.current.dependencies.push(B)}return Promise.all(this.current.dependencies)}transform(t,n,S,b,A,O){this.transformMatrix=m.Util.transform(this.transformMatrix,[t,n,S,b,A,O]),this.tgrp=null}getSVG(t,n){this.viewport=n;const S=this._initialize(n);return this.loadDependencies(t).then(()=>(this.transformMatrix=m.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),S))}convertOpList(t){const n=this._operatorIdMapping,S=t.argsArray,b=t.fnArray,A=[];for(let O=0,k=b.length;O<k;O++){const B=b[O];A.push({fnId:B,fn:n[B],args:S[O]})}return u(A)}executeOpTree(t){for(const n of t){const S=n.fn,A=n.args;switch(0|n.fnId){case m.OPS.beginText:this.beginText();break;case m.OPS.dependency:break;case m.OPS.setLeading:this.setLeading(A);break;case m.OPS.setLeadingMoveText:this.setLeadingMoveText(A[0],A[1]);break;case m.OPS.setFont:this.setFont(A);break;case m.OPS.showText:case m.OPS.showSpacedText:this.showText(A[0]);break;case m.OPS.endText:this.endText();break;case m.OPS.moveText:this.moveText(A[0],A[1]);break;case m.OPS.setCharSpacing:this.setCharSpacing(A[0]);break;case m.OPS.setWordSpacing:this.setWordSpacing(A[0]);break;case m.OPS.setHScale:this.setHScale(A[0]);break;case m.OPS.setTextMatrix:this.setTextMatrix(A[0],A[1],A[2],A[3],A[4],A[5]);break;case m.OPS.setTextRise:this.setTextRise(A[0]);break;case m.OPS.setTextRenderingMode:this.setTextRenderingMode(A[0]);break;case m.OPS.setLineWidth:this.setLineWidth(A[0]);break;case m.OPS.setLineJoin:this.setLineJoin(A[0]);break;case m.OPS.setLineCap:this.setLineCap(A[0]);break;case m.OPS.setMiterLimit:this.setMiterLimit(A[0]);break;case m.OPS.setFillRGBColor:this.setFillRGBColor(A[0],A[1],A[2]);break;case m.OPS.setStrokeRGBColor:this.setStrokeRGBColor(A[0],A[1],A[2]);break;case m.OPS.setStrokeColorN:this.setStrokeColorN(A);break;case m.OPS.setFillColorN:this.setFillColorN(A);break;case m.OPS.shadingFill:this.shadingFill(A[0]);break;case m.OPS.setDash:this.setDash(A[0],A[1]);break;case m.OPS.setRenderingIntent:this.setRenderingIntent(A[0]);break;case m.OPS.setFlatness:this.setFlatness(A[0]);break;case m.OPS.setGState:this.setGState(A[0]);break;case m.OPS.fill:this.fill();break;case m.OPS.eoFill:this.eoFill();break;case m.OPS.stroke:this.stroke();break;case m.OPS.fillStroke:this.fillStroke();break;case m.OPS.eoFillStroke:this.eoFillStroke();break;case m.OPS.clip:this.clip("nonzero");break;case m.OPS.eoClip:this.clip("evenodd");break;case m.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case m.OPS.paintImageXObject:this.paintImageXObject(A[0]);break;case m.OPS.paintInlineImageXObject:this.paintInlineImageXObject(A[0]);break;case m.OPS.paintImageMaskXObject:this.paintImageMaskXObject(A[0]);break;case m.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(A[0],A[1]);break;case m.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case m.OPS.closePath:this.closePath();break;case m.OPS.closeStroke:this.closeStroke();break;case m.OPS.closeFillStroke:this.closeFillStroke();break;case m.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case m.OPS.nextLine:this.nextLine();break;case m.OPS.transform:this.transform(A[0],A[1],A[2],A[3],A[4],A[5]);break;case m.OPS.constructPath:this.constructPath(A[0],A[1]);break;case m.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,m.warn)(`Unimplemented operator ${S}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,n,S,b,A,O){const k=this.current;k.textMatrix=k.lineMatrix=[t,n,S,b,A,O],k.textMatrixScale=Math.hypot(t,n),k.x=k.lineX=0,k.y=k.lineY=0,k.xcoords=[],k.ycoords=[],k.tspan=this.svgFactory.createElement("svg:tspan"),k.tspan.setAttributeNS(null,"font-family",k.fontFamily),k.tspan.setAttributeNS(null,"font-size",`${a(k.fontSize)}px`),k.tspan.setAttributeNS(null,"y",a(-k.y)),k.txtElement=this.svgFactory.createElement("svg:text"),k.txtElement.appendChild(k.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=m.IDENTITY_MATRIX,t.lineMatrix=m.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,n){const S=this.current;S.x=S.lineX+=t,S.y=S.lineY+=n,S.xcoords=[],S.ycoords=[],S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${a(S.fontSize)}px`),S.tspan.setAttributeNS(null,"y",a(-S.y))}showText(t){const n=this.current,S=n.font,b=n.fontSize;if(0===b)return;const A=n.fontSizeScale,O=n.charSpacing,k=n.wordSpacing,B=n.fontDirection,V=n.textHScale*B,D=S.vertical,I=D?1:-1,G=S.defaultVMetrics,R=b*n.fontMatrix[0];let W=0;for(const o of t){if(null===o){W+=B*k;continue}if("number"==typeof o){W+=I*o*b/1e3;continue}const P=(o.isSpace?k:0)+O,g=o.fontChar;let E,s,x,C=o.width;if(D){let N;const p=o.vmetric||G;N=o.vmetric?p[1]:.5*C,N=-N*R,C=p?-p[0]:C,E=N/A,s=(W+p[2]*R)/A}else E=W/A,s=0;(o.isInFont||S.missingFile)&&(n.xcoords.push(n.x+E),D&&n.ycoords.push(-n.y+s),n.tspan.textContent+=g),x=D?C*R-P*B:C*R+P*B,W+=x}n.tspan.setAttributeNS(null,"x",n.xcoords.map(a).join(" ")),n.tspan.setAttributeNS(null,"y",D?n.ycoords.map(a).join(" "):a(-n.y)),D?n.y-=W:n.x+=W*V,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${a(n.fontSize)}px`),n.fontStyle!==J.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==J.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const v=n.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;v===m.TextRenderingMode.FILL||v===m.TextRenderingMode.FILL_STROKE?(n.fillColor!==J.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===m.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(v===m.TextRenderingMode.STROKE||v===m.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let l=n.textMatrix;0!==n.textRise&&(l=l.slice(),l[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${h(l)} scale(${a(V)}, -1)`),n.txtElement.setAttributeNS(M,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const n=c(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${n}); }\n`}setFont(t){const n=this.current,S=this.commonObjs.get(t[0]);let b=t[1];n.font=S,this.embedFonts&&!S.missingFile&&!this.embeddedFonts[S.loadedName]&&(this.addFontStyle(S),this.embeddedFonts[S.loadedName]=S),n.fontMatrix=S.fontMatrix||m.FONT_IDENTITY_MATRIX;let A="normal";S.black?A="900":S.bold&&(A="bold");const O=S.italic?"italic":"normal";b<0?(b=-b,n.fontDirection=-1):n.fontDirection=1,n.fontSize=b,n.fontFamily=S.loadedName,n.fontWeight=A,n.fontStyle=O,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",a(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){var n;const t=this.current;t.textRenderingMode&m.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(n=t.txtElement)?void 0:n.hasChildNodes())&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=d[t]}setLineJoin(t){this.current.lineJoin=r[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,n,S){this.current.strokeColor=m.Util.makeHexColor(t,n,S)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,n,S){this.current.fillColor=m.Util.makeHexColor(t,n,S),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const n=this.viewport.width,S=this.viewport.height,b=m.Util.inverseTransform(this.transformMatrix),A=m.Util.applyTransform([0,0],b),O=m.Util.applyTransform([0,S],b),k=m.Util.applyTransform([n,0],b),B=m.Util.applyTransform([n,S],b),V=Math.min(A[0],O[0],k[0],B[0]),D=Math.min(A[1],O[1],k[1],B[1]),I=Math.max(A[0],O[0],k[0],B[0]),G=Math.max(A[1],O[1],k[1],B[1]),R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",V),R.setAttributeNS(null,"y",D),R.setAttributeNS(null,"width",I-V),R.setAttributeNS(null,"height",G-D),R.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&R.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(R)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const n=t[1],S=t[2],b=t[3]||m.IDENTITY_MATRIX,[A,O,k,B]=t[4],V=t[5],D=t[6],I=t[7],G="shading"+_++,[R,W,v,l]=m.Util.normalizeRect([...m.Util.applyTransform([A,O],b),...m.Util.applyTransform([k,B],b)]),[o,P]=m.Util.singularValueDecompose2dScale(b),g=V*o,E=D*P,s=this.svgFactory.createElement("svg:pattern");s.setAttributeNS(null,"id",G),s.setAttributeNS(null,"patternUnits","userSpaceOnUse"),s.setAttributeNS(null,"width",g),s.setAttributeNS(null,"height",E),s.setAttributeNS(null,"x",`${R}`),s.setAttributeNS(null,"y",`${W}`);const C=this.svg,x=this.transformMatrix,N=this.current.fillColor,p=this.current.strokeColor,j=this.svgFactory.create(v-R,l-W);if(this.svg=j,this.transformMatrix=b,2===I){const q=m.Util.makeHexColor(...n);this.current.fillColor=q,this.current.strokeColor=q}return this.executeOpTree(this.convertOpList(S)),this.svg=C,this.transformMatrix=x,this.current.fillColor=N,this.current.strokeColor=p,s.appendChild(j.childNodes[0]),this.defs.appendChild(s),`url(#${G})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const n="shading"+_++,S=t[3];let b;switch(t[1]){case"axial":const A=t[4],O=t[5];b=this.svgFactory.createElement("svg:linearGradient"),b.setAttributeNS(null,"id",n),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",A[0]),b.setAttributeNS(null,"y1",A[1]),b.setAttributeNS(null,"x2",O[0]),b.setAttributeNS(null,"y2",O[1]);break;case"radial":const k=t[4],B=t[5],V=t[6],D=t[7];b=this.svgFactory.createElement("svg:radialGradient"),b.setAttributeNS(null,"id",n),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",B[0]),b.setAttributeNS(null,"cy",B[1]),b.setAttributeNS(null,"r",D),b.setAttributeNS(null,"fx",k[0]),b.setAttributeNS(null,"fy",k[1]),b.setAttributeNS(null,"fr",V);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const A of S){const O=this.svgFactory.createElement("svg:stop");O.setAttributeNS(null,"offset",A[0]),O.setAttributeNS(null,"stop-color",A[1]),b.appendChild(O)}return this.defs.appendChild(b),`url(#${n})`;case"Mesh":return(0,m.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,n){this.current.dashArray=t,this.current.dashPhase=n}constructPath(t,n){const S=this.current;let b=S.x,A=S.y,O=[],k=0;for(const B of t)switch(0|B){case m.OPS.rectangle:b=n[k++],A=n[k++];const I=b+n[k++],G=A+n[k++];O.push("M",a(b),a(A),"L",a(I),a(A),"L",a(I),a(G),"L",a(b),a(G),"Z");break;case m.OPS.moveTo:b=n[k++],A=n[k++],O.push("M",a(b),a(A));break;case m.OPS.lineTo:b=n[k++],A=n[k++],O.push("L",a(b),a(A));break;case m.OPS.curveTo:b=n[k+4],A=n[k+5],O.push("C",a(n[k]),a(n[k+1]),a(n[k+2]),a(n[k+3]),a(b),a(A)),k+=6;break;case m.OPS.curveTo2:O.push("C",a(b),a(A),a(n[k]),a(n[k+1]),a(n[k+2]),a(n[k+3])),b=n[k+2],A=n[k+3],k+=4;break;case m.OPS.curveTo3:b=n[k+2],A=n[k+3],O.push("C",a(n[k]),a(n[k+1]),a(b),a(A),a(b),a(A)),k+=4;break;case m.OPS.closePath:O.push("Z")}O=O.join(" "),S.path&&t.length>0&&t[0]!==m.OPS.rectangle&&t[0]!==m.OPS.moveTo?O=S.path.getAttributeNS(null,"d")+O:(S.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(S.path)),S.path.setAttributeNS(null,"d",O),S.path.setAttributeNS(null,"fill","none"),S.element=S.path,S.setCurrentPoint(b,A)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const n="clippath"+F++,S=this.svgFactory.createElement("svg:clipPath");S.setAttributeNS(null,"id",n),S.setAttributeNS(null,"transform",h(this.transformMatrix));const b=t.element.cloneNode(!0);if(b.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,S.appendChild(b),this.defs.appendChild(S),t.activeClipUrl){t.clipGroup=null;for(const A of this.extraStack)A.clipGroup=null;S.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const n=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",n)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,S]of t)switch(n){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S);break;case"CA":this.setStrokeAlpha(S);break;case"ca":this.setFillAlpha(S);break;default:(0,m.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,n=1){const S=this.current;let b=S.dashArray;1!==n&&b.length>0&&(b=b.map(function(A){return n*A})),t.setAttributeNS(null,"stroke",S.strokeColor),t.setAttributeNS(null,"stroke-opacity",S.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",a(S.miterLimit)),t.setAttributeNS(null,"stroke-linecap",S.lineCap),t.setAttributeNS(null,"stroke-linejoin",S.lineJoin),t.setAttributeNS(null,"stroke-width",a(n*S.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",b.map(a).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",a(n*S.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);n?this.paintInlineImageXObject(n):(0,m.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,n){const S=t.width,b=t.height,A=f(t,this.forceDataSchema,!!n),O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",a(S)),O.setAttributeNS(null,"height",a(b)),this.current.element=O,this.clip("nonzero");const k=this.svgFactory.createElement("svg:image");k.setAttributeNS(e,"xlink:href",A),k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y",a(-b)),k.setAttributeNS(null,"width",a(S)+"px"),k.setAttributeNS(null,"height",a(b)+"px"),k.setAttributeNS(null,"transform",`scale(${a(1/S)} ${a(-1/b)})`),n?n.appendChild(k):this._ensureTransformGroup().appendChild(k)}paintImageMaskXObject(t){const n=this.current,S=t.width,b=t.height,A=n.fillColor;n.maskId="mask"+y++;const O=this.svgFactory.createElement("svg:mask");O.setAttributeNS(null,"id",n.maskId);const k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",a(S)),k.setAttributeNS(null,"height",a(b)),k.setAttributeNS(null,"fill",A),k.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.appendChild(O),this._ensureTransformGroup().appendChild(k),this.paintInlineImageXObject(t,O)}paintFormXObjectBegin(t,n){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),n){const S=n[2]-n[0],b=n[3]-n[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",n[0]),A.setAttributeNS(null,"y",n[1]),A.setAttributeNS(null,"width",a(S)),A.setAttributeNS(null,"height",a(b)),this.current.element=A,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const n=this.svgFactory.create(t.width,t.height),S=this.svgFactory.createElement("svg:defs");n.appendChild(S),this.defs=S;const b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",h(t.transform)),n.appendChild(b),this.svg=b,n}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNodeStream=void 0;var m=Q(1),re=Q(24);const ne=__webpack_require__(172),se=__webpack_require__(2001),J=__webpack_require__(3779),M=__webpack_require__(6558),e=/^file:\/\/\/[a-zA-Z]:\//;L.PDFNodeStream=class{constructor(_){this.source=_,this.url=function(y){const _=M.parse(y);return"file:"===_.protocol||_.host?_:/^[a-z]:[/\\]/i.test(y)?M.parse(`file:///${y}`):(_.host||(_.protocol="file:"),_)}(_.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&_.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _,t;return null!=(t=null==(_=this._fullRequestReader)?void 0:_._loaded)?t:0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new u(this),this._fullRequestReader}getRangeReader(_,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new F(this,_,t):new a(this,_,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(_){this._fullRequestReader&&this._fullRequestReader.cancel(_);for(const t of this._rangeRequestReaders.slice(0))t.cancel(_)}};class c{constructor(_){this._url=_.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=_.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,m.createPromiseCapability)(),this._headersCapability=(0,m.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var _=this;return _asyncToGenerator(function*(){if(yield _._readCapability.promise,_._done)return{value:void 0,done:!0};if(_._storedError)throw _._storedError;const t=_._readableStream.read();return null===t?(_._readCapability=(0,m.createPromiseCapability)(),_.read()):(_._loaded+=t.length,_.onProgress&&_.onProgress({loaded:_._loaded,total:_._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(_){this._readableStream?this._readableStream.destroy(_):this._error(_)}_error(_){this._storedError=_,this._readCapability.resolve()}_setReadableStream(_){this._readableStream=_,_.on("readable",()=>{this._readCapability.resolve()}),_.on("end",()=>{_.destroy(),this._done=!0,this._readCapability.resolve()}),_.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new m.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(_){this._url=_.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,m.createPromiseCapability)(),this._isStreamingSupported=!_.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var _=this;return _asyncToGenerator(function*(){if(yield _._readCapability.promise,_._done)return{value:void 0,done:!0};if(_._storedError)throw _._storedError;const t=_._readableStream.read();return null===t?(_._readCapability=(0,m.createPromiseCapability)(),_.read()):(_._loaded+=t.length,_.onProgress&&_.onProgress({loaded:_._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(_){this._readableStream?this._readableStream.destroy(_):this._error(_)}_error(_){this._storedError=_,this._readCapability.resolve()}_setReadableStream(_){this._readableStream=_,_.on("readable",()=>{this._readCapability.resolve()}),_.on("end",()=>{_.destroy(),this._done=!0,this._readCapability.resolve()}),_.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function T(y,_){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:_}}class u extends c{constructor(_){super(_);const t=n=>{if(404===n.statusCode){const O=new m.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=O,void this._headersCapability.reject(O)}this._headersCapability.resolve(),this._setReadableStream(n);const S=O=>this._readableStream.headers[O.toLowerCase()],{allowRangeRequests:b,suggestedLength:A}=(0,re.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:_.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=A||this._contentLength,this._filename=(0,re.extractFilenameFromHeader)(S)};this._request=null,this._request="http:"===this._url.protocol?se.request(T(this._url,_.httpHeaders),t):J.request(T(this._url,_.httpHeaders),t),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class a extends f{constructor(_,t,n){super(_),this._httpHeaders={};for(const b in _.httpHeaders){const A=_.httpHeaders[b];void 0!==A&&(this._httpHeaders[b]=A)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const S=b=>{if(404!==b.statusCode)this._setReadableStream(b);else{const A=new m.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A}};this._request=null,this._request="http:"===this._url.protocol?se.request(T(this._url,this._httpHeaders),S):J.request(T(this._url,this._httpHeaders),S),this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class h extends c{constructor(_){super(_);let t=decodeURIComponent(this._url.path);e.test(this._url.href)&&(t=t.replace(/^\//,"")),ne.lstat(t,(n,S)=>{if(n)return"ENOENT"===n.code&&(n=new m.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=S.size,this._setReadableStream(ne.createReadStream(t)),this._headersCapability.resolve()})}}class F extends f{constructor(_,t,n){super(_);let S=decodeURIComponent(this._url.path);e.test(this._url.href)&&(S=S.replace(/^\//,"")),this._setReadableStream(ne.createReadStream(S,{start:t,end:n-1}))}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.createResponseStatusError=function(d,r){return 404===d||0===d&&r.startsWith("file:")?new m.MissingPDFException('Missing PDF "'+r+'".'):new m.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${r}".`,d)},L.extractFilenameFromHeader=function(d){const r=d("Content-Disposition");if(r){let c=(0,re.getFilenameFromContentDispositionHeader)(r);if(c.includes("%"))try{c=decodeURIComponent(c)}catch(f){}if((0,ne.isPdfFile)(c))return c}return null},L.validateRangeRequestCapabilities=function({getResponseHeader:d,isHttp:r,rangeChunkSize:c,disableRange:f}){(0,m.assert)(c>0,"Range chunk size must be larger than zero");const T={allowRangeRequests:!1,suggestedLength:void 0},u=parseInt(d("Content-Length"),10);return!Number.isInteger(u)||(T.suggestedLength=u,u<=2*c)||f||!r||"bytes"!==d("Accept-Ranges")||"identity"!==(d("Content-Encoding")||"identity")||(T.allowRangeRequests=!0),T},L.validateResponseStatus=function(d){return 200===d||206===d};var m=Q(1),re=Q(25),ne=Q(5)},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.getFilenameFromContentDispositionHeader=function(ne){let se=!0,J=M("filename\\*","i").exec(ne);if(J){J=J[1];let u=c(J);return u=unescape(u),u=f(u),u=T(u),d(u)}if(J=function(u){const a=[];let h;const F=M("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=F.exec(u));){let[,_,t,n]=h;if(_=parseInt(_,10),_ in a){if(0===_)break}else a[_]=[t,n]}const y=[];for(let _=0;_<a.length&&_ in a;++_){let[t,n]=a[_];n=c(n),t&&(n=unescape(n),0===_&&(n=f(n))),y.push(n)}return y.join("")}(ne),J)return d(T(J));if(J=M("filename","i").exec(ne),J){J=J[1];let u=c(J);return u=T(u),d(u)}function M(u,a){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',a)}function e(u,a){if(u){if(!/^[\x00-\xFF]+$/.test(a))return a;try{const h=new TextDecoder(u,{fatal:!0}),F=(0,m.stringToBytes)(a);a=h.decode(F),se=!1}catch(h){}}return a}function d(u){return se&&/[\x80-\xff]/.test(u)&&(u=e("utf-8",u),se&&(u=e("iso-8859-1",u))),u}function c(u){if(u.startsWith('"')){const a=u.slice(1).split('\\"');for(let h=0;h<a.length;++h){const F=a[h].indexOf('"');-1!==F&&(a[h]=a[h].slice(0,F),a.length=h+1),a[h]=a[h].replace(/\\(.)/g,"$1")}u=a.join('"')}return u}function f(u){const a=u.indexOf("'");return-1===a?u:e(u.slice(0,a),u.slice(a+1).replace(/^[^']*'/,""))}function T(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,h,F,y){if("q"===F||"Q"===F)return e(h,y=(y=y.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(_,t){return String.fromCharCode(parseInt(t,16))}));try{y=atob(y)}catch(_){}return e(h,y)})}return""};var m=Q(1)},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNetworkStream=void 0;var m=Q(1),re=Q(24);class M{constructor(f,T={}){this.url=f,this.isHttp=/^https?:/i.test(f),this.httpHeaders=this.isHttp&&T.httpHeaders||Object.create(null),this.withCredentials=T.withCredentials||!1,this.getXhr=T.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(f,T,u){const a={begin:f,end:T};for(const h in u)a[h]=u[h];return this.request(a)}requestFull(f){return this.request(f)}request(f){const T=this.getXhr(),u=this.currXhrId++,a=this.pendingRequests[u]={xhr:T};T.open("GET",this.url),T.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const F=this.httpHeaders[h];void 0!==F&&T.setRequestHeader(h,F)}return this.isHttp&&"begin"in f&&"end"in f?(T.setRequestHeader("Range",`bytes=${f.begin}-${f.end-1}`),a.expectedStatus=206):a.expectedStatus=200,T.responseType="arraybuffer",f.onError&&(T.onerror=function(h){f.onError(T.status)}),T.onreadystatechange=this.onStateChange.bind(this,u),T.onprogress=this.onProgress.bind(this,u),a.onHeadersReceived=f.onHeadersReceived,a.onDone=f.onDone,a.onError=f.onError,a.onProgress=f.onProgress,T.send(null),u}onProgress(f,T){var a;const u=this.pendingRequests[f];!u||null==(a=u.onProgress)||a.call(u,T)}onStateChange(f,T){var _,t,n;const u=this.pendingRequests[f];if(!u)return;const a=u.xhr;if(a.readyState>=2&&u.onHeadersReceived&&(u.onHeadersReceived(),delete u.onHeadersReceived),4!==a.readyState||!(f in this.pendingRequests))return;if(delete this.pendingRequests[f],0===a.status&&this.isHttp)return void(null==(_=u.onError)||_.call(u,a.status));const h=a.status||200;if((200!==h||206!==u.expectedStatus)&&h!==u.expectedStatus)return void(null==(t=u.onError)||t.call(u,a.status));const y=function(c){const f=c.response;return"string"!=typeof f?f:(0,m.stringToBytes)(f).buffer}(a);if(206===h){const S=a.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(S);u.onDone({begin:parseInt(b[1],10),chunk:y})}else y?u.onDone({begin:0,chunk:y}):null==(n=u.onError)||n.call(u,a.status)}getRequestXhr(f){return this.pendingRequests[f].xhr}isPendingRequest(f){return f in this.pendingRequests}abortRequest(f){const T=this.pendingRequests[f].xhr;delete this.pendingRequests[f],T.abort()}}L.PDFNetworkStream=class{constructor(f){this._source=f,this._manager=new M(f.url,{httpHeaders:f.httpHeaders,withCredentials:f.withCredentials}),this._rangeChunkSize=f.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(f){const T=this._rangeRequestReaders.indexOf(f);T>=0&&this._rangeRequestReaders.splice(T,1)}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(f,T){const u=new r(this._manager,f,T);return u.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(u),u}cancelAllRequests(f){var T;null==(T=this._fullRequestReader)||T.cancel(f);for(const u of this._rangeRequestReaders.slice(0))u.cancel(f)}};class d{constructor(f,T){this._manager=f;const u={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=T.url,this._fullRequestId=f.requestFull(u),this._headersReceivedCapability=(0,m.createPromiseCapability)(),this._disableRange=T.disableRange||!1,this._contentLength=T.length,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const f=this._fullRequestId,T=this._manager.getRequestXhr(f),u=F=>T.getResponseHeader(F),{allowRangeRequests:a,suggestedLength:h}=(0,re.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,re.extractFilenameFromHeader)(u),this._isRangeSupported&&this._manager.abortRequest(f),this._headersReceivedCapability.resolve()}_onDone(f){if(f&&(this._requests.length>0?this._requests.shift().resolve({value:f.chunk,done:!1}):this._cachedChunks.push(f.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(f){this._storedError=(0,re.createResponseStatusError)(f,this._url),this._headersReceivedCapability.reject(this._storedError);for(const T of this._requests)T.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(f){var T;null==(T=this.onProgress)||T.call(this,{loaded:f.loaded,total:f.lengthComputable?f.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var f=this;return _asyncToGenerator(function*(){if(f._storedError)throw f._storedError;if(f._cachedChunks.length>0)return{value:f._cachedChunks.shift(),done:!1};if(f._done)return{value:void 0,done:!0};const T=(0,m.createPromiseCapability)();return f._requests.push(T),T.promise})()}cancel(f){this._done=!0,this._headersReceivedCapability.reject(f);for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class r{constructor(f,T,u){this._manager=f;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._requestId=f.requestRange(T,u,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var f;null==(f=this.onClosed)||f.call(this,this)}_onDone(f){const T=f.chunk;this._requests.length>0?this._requests.shift().resolve({value:T,done:!1}):this._queuedChunk=T,this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(f){this._storedError=(0,re.createResponseStatusError)(f,this._url);for(const T of this._requests)T.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(f){var T;this.isStreamingSupported||null==(T=this.onProgress)||T.call(this,{loaded:f.loaded})}get isStreamingSupported(){return!1}read(){var f=this;return _asyncToGenerator(function*(){if(f._storedError)throw f._storedError;if(null!==f._queuedChunk){const u=f._queuedChunk;return f._queuedChunk=null,{value:u,done:!1}}if(f._done)return{value:void 0,done:!0};const T=(0,m.createPromiseCapability)();return f._requests.push(T),T.promise})()}cancel(f){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(le,L,Q)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFFetchStream=void 0;var m=Q(1),re=Q(24);function ne(d,r,c){return{method:"GET",headers:d,signal:null==c?void 0:c.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function se(d){const r=new Headers;for(const c in d){const f=d[c];void 0!==f&&r.append(c,f)}return r}L.PDFFetchStream=class{constructor(r){this.source=r,this.isHttp=/^https?:/i.test(r.url),this.httpHeaders=this.isHttp&&r.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r,c;return null!=(c=null==(r=this._fullRequestReader)?void 0:r._loaded)?c:0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new M(this),this._fullRequestReader}getRangeReader(r,c){if(c<=this._progressiveDataLength)return null;const f=new e(this,r,c);return this._rangeRequestReaders.push(f),f}cancelAllRequests(r){this._fullRequestReader&&this._fullRequestReader.cancel(r);for(const c of this._rangeRequestReaders.slice(0))c.cancel(r)}};class M{constructor(r){this._stream=r,this._reader=null,this._loaded=0,this._filename=null;const c=r.source;this._withCredentials=c.withCredentials||!1,this._contentLength=c.length,this._headersCapability=(0,m.createPromiseCapability)(),this._disableRange=c.disableRange||!1,this._rangeChunkSize=c.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._headers=se(this._stream.httpHeaders);const f=c.url;fetch(f,ne(this._headers,this._withCredentials,this._abortController)).then(T=>{if(!(0,re.validateResponseStatus)(T.status))throw(0,re.createResponseStatusError)(T.status,f);this._reader=T.body.getReader(),this._headersCapability.resolve();const u=F=>T.headers.get(F),{allowRangeRequests:a,suggestedLength:h}=(0,re.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=h||this._contentLength,this._filename=(0,re.extractFilenameFromHeader)(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new m.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var r=this;return _asyncToGenerator(function*(){yield r._headersCapability.promise;const{value:c,done:f}=yield r._reader.read();return f?{value:c,done:f}:(r._loaded+=c.byteLength,r.onProgress&&r.onProgress({loaded:r._loaded,total:r._contentLength}),{value:new Uint8Array(c).buffer,done:!1})})()}cancel(r){this._reader&&this._reader.cancel(r),this._abortController&&this._abortController.abort()}}class e{constructor(r,c,f){this._stream=r,this._reader=null,this._loaded=0;const T=r.source;this._withCredentials=T.withCredentials||!1,this._readCapability=(0,m.createPromiseCapability)(),this._isStreamingSupported=!T.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=se(this._stream.httpHeaders),this._headers.append("Range",`bytes=${c}-${f-1}`);const u=T.url;fetch(u,ne(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,re.validateResponseStatus)(a.status))throw(0,re.createResponseStatusError)(a.status,u);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var r=this;return _asyncToGenerator(function*(){yield r._readCapability.promise;const{value:c,done:f}=yield r._reader.read();return f?{value:c,done:f}:(r._loaded+=c.byteLength,r.onProgress&&r.onProgress({loaded:r._loaded}),{value:new Uint8Array(c).buffer,done:!1})})()}cancel(r){this._reader&&this._reader.cancel(r),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(le){var L=__webpack_module_cache__[le];if(void 0!==L)return L.exports;var Q=__webpack_module_cache__[le]={exports:{}};return __webpack_modules__[le](Q,Q.exports,__w_pdfjs_require__),Q.exports}var __webpack_exports__={};return(()=>{var le=__webpack_exports__;Object.defineProperty(le,"__esModule",{value:!0}),Object.defineProperty(le,"AnnotationLayer",{enumerable:!0,get:function(){return re.AnnotationLayer}}),Object.defineProperty(le,"AnnotationMode",{enumerable:!0,get:function(){return L.AnnotationMode}}),Object.defineProperty(le,"CMapCompressionType",{enumerable:!0,get:function(){return L.CMapCompressionType}}),Object.defineProperty(le,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ne.GlobalWorkerOptions}}),Object.defineProperty(le,"InvalidPDFException",{enumerable:!0,get:function(){return L.InvalidPDFException}}),Object.defineProperty(le,"LoopbackPort",{enumerable:!0,get:function(){return Q.LoopbackPort}}),Object.defineProperty(le,"MissingPDFException",{enumerable:!0,get:function(){return L.MissingPDFException}}),Object.defineProperty(le,"OPS",{enumerable:!0,get:function(){return L.OPS}}),Object.defineProperty(le,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Q.PDFDataRangeTransport}}),Object.defineProperty(le,"PDFDateString",{enumerable:!0,get:function(){return m.PDFDateString}}),Object.defineProperty(le,"PDFWorker",{enumerable:!0,get:function(){return Q.PDFWorker}}),Object.defineProperty(le,"PasswordResponses",{enumerable:!0,get:function(){return L.PasswordResponses}}),Object.defineProperty(le,"PermissionFlag",{enumerable:!0,get:function(){return L.PermissionFlag}}),Object.defineProperty(le,"PixelsPerInch",{enumerable:!0,get:function(){return m.PixelsPerInch}}),Object.defineProperty(le,"RenderingCancelledException",{enumerable:!0,get:function(){return m.RenderingCancelledException}}),Object.defineProperty(le,"SVGGraphics",{enumerable:!0,get:function(){return M.SVGGraphics}}),Object.defineProperty(le,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return L.UNSUPPORTED_FEATURES}}),Object.defineProperty(le,"UnexpectedResponseException",{enumerable:!0,get:function(){return L.UnexpectedResponseException}}),Object.defineProperty(le,"Util",{enumerable:!0,get:function(){return L.Util}}),Object.defineProperty(le,"VerbosityLevel",{enumerable:!0,get:function(){return L.VerbosityLevel}}),Object.defineProperty(le,"XfaLayer",{enumerable:!0,get:function(){return e.XfaLayer}}),Object.defineProperty(le,"build",{enumerable:!0,get:function(){return Q.build}}),Object.defineProperty(le,"createPromiseCapability",{enumerable:!0,get:function(){return L.createPromiseCapability}}),Object.defineProperty(le,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return L.createValidAbsoluteUrl}}),Object.defineProperty(le,"getDocument",{enumerable:!0,get:function(){return Q.getDocument}}),Object.defineProperty(le,"getFilenameFromUrl",{enumerable:!0,get:function(){return m.getFilenameFromUrl}}),Object.defineProperty(le,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return m.getPdfFilenameFromUrl}}),Object.defineProperty(le,"getXfaPageViewport",{enumerable:!0,get:function(){return m.getXfaPageViewport}}),Object.defineProperty(le,"isPdfFile",{enumerable:!0,get:function(){return m.isPdfFile}}),Object.defineProperty(le,"loadScript",{enumerable:!0,get:function(){return m.loadScript}}),Object.defineProperty(le,"renderTextLayer",{enumerable:!0,get:function(){return J.renderTextLayer}}),Object.defineProperty(le,"shadow",{enumerable:!0,get:function(){return L.shadow}}),Object.defineProperty(le,"version",{enumerable:!0,get:function(){return Q.version}});var L=__w_pdfjs_require__(1),Q=__w_pdfjs_require__(4),m=__w_pdfjs_require__(5),re=__w_pdfjs_require__(18),ne=__w_pdfjs_require__(12),se=__w_pdfjs_require__(3),J=__w_pdfjs_require__(21),M=__w_pdfjs_require__(22),e=__w_pdfjs_require__(20);if(se.isNodeJS){const{PDFNodeStream:c}=__w_pdfjs_require__(23);(0,Q.setPDFNetworkStreamFactory)(f=>new c(f))}else{const{PDFNetworkStream:c}=__w_pdfjs_require__(26),{PDFFetchStream:f}=__w_pdfjs_require__(27);(0,Q.setPDFNetworkStreamFactory)(T=>(0,m.isValidFetchUrl)(T.url)?new f(T):new c(T))}})(),__webpack_exports__})()},module.exports=Q()},2813:function(le,L,Q){var m=Q(8926).default;le.exports=(()=>{"use strict";var re=[,(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultXfaLayerFactory=e.DefaultTextLayerFactory=e.DefaultStructTreeLayerFactory=e.DefaultAnnotationLayerFactory=void 0;var r=d(2),c=d(4),f=d(5),T=d(7),u=d(8),a=d(9);e.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(n,S,b=null,A="",O=!0,k=c.NullL10n,B=!1,V=null,D=null,I=null,G=null){return new r.AnnotationLayerBuilder({pageDiv:n,pdfPage:S,imageResourcesPath:A,renderForms:O,linkService:new f.SimpleLinkService,l10n:k,annotationStorage:b,enableScripting:B,hasJSActionsPromise:V,fieldObjectsPromise:I,mouseState:D,annotationCanvasMap:G})}};e.DefaultStructTreeLayerFactory=class{createStructTreeLayerBuilder(n){return new T.StructTreeLayerBuilder({pdfPage:n})}};e.DefaultTextLayerFactory=class{createTextLayerBuilder(n,S,b,A=!1,O,k){return new u.TextLayerBuilder({textLayerDiv:n,pageIndex:S,viewport:b,enhanceTextSelection:A,eventBus:O,highlighter:k})}};e.DefaultXfaLayerFactory=class{createXfaLayerBuilder(n,S,b=null,A=null){return new a.XfaLayerBuilder({pageDiv:n,pdfPage:S,annotationStorage:b,linkService:new f.SimpleLinkService,xfaHtml:A})}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayerBuilder=void 0;var r=d(3),c=d(4);e.AnnotationLayerBuilder=class{constructor({pageDiv:u,pdfPage:a,linkService:h,downloadManager:F,annotationStorage:y=null,imageResourcesPath:_="",renderForms:t=!0,l10n:n=c.NullL10n,enableScripting:S=!1,hasJSActionsPromise:b=null,fieldObjectsPromise:A=null,mouseState:O=null,annotationCanvasMap:k=null}){this.pageDiv=u,this.pdfPage=a,this.linkService=h,this.downloadManager=F,this.imageResourcesPath=_,this.renderForms=t,this.l10n=n,this.annotationStorage=y,this.enableScripting=S,this._hasJSActionsPromise=b,this._fieldObjectsPromise=A,this._mouseState=O,this._annotationCanvasMap=k,this.div=null,this._cancelled=!1}render(u,a="display"){var h=this;return m(function*(){const[F,y=!1,_=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:a}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===F.length)return;const t={viewport:u.clone({dontFlip:!0}),div:h.div,annotations:F,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:y,fieldObjects:_,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?r.AnnotationLayer.update(t):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),t.div=h.div,r.AnnotationLayer.render(t),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},M=>{let e;e="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:Q(6036),M.exports=e},(M,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.fixupLangCode=function(a){return c[null==a?void 0:a.toLowerCase()]||a},e.getL10nFallback=r;const d={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function r(a,h){switch(a){case"find_match_count":a=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":a=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return d[a]||""}const c={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};e.NullL10n={getLanguage:()=>m(function*(){return"en-us"})(),getDirection:()=>m(function*(){return"ltr"})(),get:(a,h=null,F=r(a,h))=>m(function*(){return function(a,h){return h?a.replace(/\{\{\s*(\w+)\s*\}\}/g,(F,y)=>y in h?h[y]:"{{"+y+"}}"):a}(F,h)})(),translate:a=>m(function*(){})()}},(M,e,d)=>{var h,F,Je,_,at;Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLinkService=e.PDFLinkService=e.LinkTarget=void 0;var r=d(6);const f={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function T(S,{url:b,target:A,rel:O,enabled:k=!0}={}){if(!b||"string"!=typeof b)throw new Error('A valid "url" parameter must provided.');const B=(0,r.removeNullCharacters)(b);k?S.href=S.title=B:(S.href="",S.title=`Disabled: ${B}`,S.onclick=()=>!1);let V="";switch(A){case f.NONE:break;case f.SELF:V="_self";break;case f.BLANK:V="_blank";break;case f.PARENT:V="_parent";break;case f.TOP:V="_top"}S.target=V,S.rel="string"==typeof O?O:"noopener noreferrer nofollow"}e.LinkTarget=f;const n=class{constructor({eventBus:b,externalLinkTarget:A=null,externalLinkRel:O=null,ignoreDestinationZoom:k=!1}={}){ye(this,F),ye(this,h,new Map),this.eventBus=b,this.externalLinkTarget=A,this.externalLinkRel=O,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=k,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(b,A=null){this.baseUrl=A,this.pdfDocument=b,ue(this,h).clear()}setViewer(b){this.pdfViewer=b}setHistory(b){this.pdfHistory=b}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(b){this.pdfViewer.currentPageNumber=b}get rotation(){return this.pdfViewer.pagesRotation}set rotation(b){this.pdfViewer.pagesRotation=b}goToDestination(b){var A=this;return m(function*(){var B;if(!A.pdfDocument)return;let O,k;"string"==typeof b?(O=b,k=yield A.pdfDocument.getDestination(b)):(O=null,k=yield b),Array.isArray(k)?xe(B=A,F,Je).call(B,b,O,k):console.error(`PDFLinkService.goToDestination: "${k}" is not a valid destination array, for dest="${b}".`)})()}goToPage(b){if(!this.pdfDocument)return;const A="string"==typeof b&&this.pdfViewer.pageLabelToPageNumber(b)||0|b;Number.isInteger(A)&&A>0&&A<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(A)),this.pdfViewer.scrollPageIntoView({pageNumber:A})):console.error(`PDFLinkService.goToPage: "${b}" is not a valid page.`)}addLinkAttributes(b,A,O=!1){T(b,{url:A,target:O?f.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(b){if("string"==typeof b){if(b.length>0)return this.getAnchorUrl("#"+escape(b))}else if(Array.isArray(b)){const A=JSON.stringify(b);if(A.length>0)return this.getAnchorUrl("#"+escape(A))}return this.getAnchorUrl("")}getAnchorUrl(b){return(this.baseUrl||"")+b}setHash(b){var k;if(!this.pdfDocument)return;let A,O;if(b.includes("=")){const B=(0,r.parseQueryString)(b);if(B.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:B.get("search").replace(/"/g,""),phraseSearch:"true"===B.get("phrase")}),B.has("page")&&(A=0|B.get("page")||1),B.has("zoom")){const V=B.get("zoom").split(","),D=V[0],I=parseFloat(D);D.includes("Fit")?"Fit"===D||"FitB"===D?O=[null,{name:D}]:"FitH"===D||"FitBH"===D||"FitV"===D||"FitBV"===D?O=[null,{name:D},V.length>1?0|V[1]:null]:"FitR"===D?5!==V.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):O=[null,{name:D},0|V[1],0|V[2],0|V[3],0|V[4]]:console.error(`PDFLinkService.setHash: "${D}" is not a valid zoom value.`):O=[null,{name:"XYZ"},V.length>1?0|V[1]:null,V.length>2?0|V[2]:null,I?I/100:D]}O?this.pdfViewer.scrollPageIntoView({pageNumber:A||this.page,destArray:O,allowNegativeOffset:!0}):A&&(this.page=A),B.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:B.get("pagemode")}),B.has("nameddest")&&this.goToDestination(B.get("nameddest"))}else{O=unescape(b);try{O=JSON.parse(O),Array.isArray(O)||(O=O.toString())}catch(B){}if("string"==typeof O||xe(k=n,_,at).call(k,O))return void this.goToDestination(O);console.error(`PDFLinkService.setHash: "${unescape(b)}" is not a valid destination.`)}}executeNamedAction(b){var A,O;switch(b){case"GoBack":null==(A=this.pdfHistory)||A.back();break;case"GoForward":null==(O=this.pdfHistory)||O.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}cachePageRef(b,A){if(!A)return;const O=0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`;ue(this,h).set(O,b)}_cachedPageNumber(b){if(!b)return null;const A=0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`;return ue(this,h).get(A)||null}isPageVisible(b){return this.pdfViewer.isPageVisible(b)}isPageCached(b){return this.pdfViewer.isPageCached(b)}};let u=n;h=new WeakMap,F=new WeakSet,Je=function(b,A=null,O){const k=O[0];let B;if("object"==typeof k&&null!==k){if(B=this._cachedPageNumber(k),!B)return void this.pdfDocument.getPageIndex(k).then(V=>{this.cachePageRef(V+1,k),xe(this,F,Je).call(this,b,A,O)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid page reference, for dest="${b}".`)})}else{if(!Number.isInteger(k))return void console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid destination reference, for dest="${b}".`);B=k+1}!B||B<1||B>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${B}" is not a valid page number, for dest="${b}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:A,explicitDest:O,pageNumber:B})),this.pdfViewer.scrollPageIntoView({pageNumber:B,destArray:O,ignoreDestinationZoom:this._ignoreDestinationZoom}))},_=new WeakSet,at=function(b){if(!Array.isArray(b))return!1;const A=b.length;if(A<2)return!1;const O=b[0];if(!("object"==typeof O&&Number.isInteger(O.num)&&Number.isInteger(O.gen)||Number.isInteger(O)&&O>=0))return!1;const k=b[1];if("object"!=typeof k||"string"!=typeof k.name)return!1;let B=!0;switch(k.name){case"XYZ":if(5!==A)return!1;break;case"Fit":case"FitB":return 2===A;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==A)return!1;break;case"FitR":if(6!==A)return!1;B=!1;break;default:return!1}for(let V=2;V<A;V++){const D=b[V];if(!("number"==typeof D||B&&null===D))return!1}return!0},ye(u,_),e.PDFLinkService=u;e.SimpleLinkService=class{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(b){}get rotation(){return 0}set rotation(b){}goToDestination(b){return m(function*(){})()}goToPage(b){}addLinkAttributes(b,A,O=!1){T(b,{url:A,enabled:this.externalLinkEnabled})}getDestinationHash(b){return"#"}getAnchorUrl(b){return"#"}setHash(b){}executeNamedAction(b){}cachePageRef(b,A){}isPageVisible(b){return!0}isPageCached(b){return!0}}},(M,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationStarted=e.VERTICAL_PADDING=e.UNKNOWN_SCALE=e.TextLayerMode=e.SpreadMode=e.SidebarView=e.ScrollMode=e.SCROLLBAR_PADDING=e.RenderingStates=e.RendererType=e.ProgressBar=e.PresentationModeState=e.OutputScale=e.MIN_SCALE=e.MAX_SCALE=e.MAX_AUTO_SCALE=e.DEFAULT_SCALE_VALUE=e.DEFAULT_SCALE_DELTA=e.DEFAULT_SCALE=e.AutoPrintRegExp=void 0,e.apiPageLayoutToViewerModes=function(i){let w=A.VERTICAL,U=O.NONE;switch(i){case"SinglePage":w=A.PAGE;break;case"OneColumn":break;case"TwoPageLeft":w=A.PAGE;case"TwoColumnLeft":U=O.ODD;break;case"TwoPageRight":w=A.PAGE;case"TwoColumnRight":U=O.EVEN}return{scrollMode:w,spreadMode:U}},e.apiPageModeToSidebarView=function(i){switch(i){case"UseNone":return n.NONE;case"UseThumbs":return n.THUMBS;case"UseOutlines":return n.OUTLINE;case"UseAttachments":return n.ATTACHMENTS;case"UseOC":return n.LAYERS}return n.NONE},e.approximateFraction=function(i){if(Math.floor(i)===i)return[i,1];const w=1/i;if(w>8)return[1,8];if(Math.floor(w)===w)return[1,w];const H=i>1?w:i;let pe,z=0,te=1,ce=1,he=1;for(;;){const ge=z+ce,_e=te+he;if(_e>8)break;H<=ge/_e?(ce=ge,he=_e):(z=ge,te=_e)}return pe=H-z/te<ce/he-H?H===i?[z,te]:[te,z]:H===i?[ce,he]:[he,ce],pe},e.backtrackBeforeAllVisibleElements=g,e.binarySearchFirstItem=v,e.getActiveOrFocusedElement=function(){let i=document,w=i.activeElement||i.querySelector(":focus");for(;null==w?void 0:w.shadowRoot;)i=w.shadowRoot,w=i.activeElement||i.querySelector(":focus");return w},e.getPageSizeInches=function({view:i,userUnit:w,rotate:U}){const[H,z,te,ce]=i,he=U%180!=0,pe=(te-H)/72*w,ge=(ce-z)/72*w;return{width:he?ge:pe,height:he?pe:ge}},e.getVisibleElements=function({scrollEl:i,views:w,sortByVisibility:U=!1,horizontal:H=!1,rtl:z=!1}){const te=i.scrollTop,ce=te+i.clientHeight,he=i.scrollLeft,pe=he+i.clientWidth;const ve=[],Ce=new Set,me=w.length;let Se=v(w,H?function(Y){const Z=Y.div,de=Z.offsetLeft+Z.clientLeft;return z?de<pe:de+Z.clientWidth>he}:function(Y){const Z=Y.div;return Z.offsetTop+Z.clientTop+Z.clientHeight>te});Se>0&&Se<me&&!H&&(Se=g(Se,w,te));let Me=H?pe:-1;for(let Y=Se;Y<me;Y++){const Z=w[Y],de=Z.div,fe=de.offsetLeft+de.clientLeft,be=de.offsetTop+de.clientTop,Ae=de.clientWidth,Le=de.clientHeight,Fe=fe+Ae,Re=be+Le;if(-1===Me)Re>=ce&&(Me=Re);else if((H?fe:be)>Me)break;if(Re<=te||be>=ce||Fe<=he||fe>=pe)continue;const Te=Math.max(0,te-be)+Math.max(0,Re-ce),De=(Ae-(Math.max(0,he-fe)+Math.max(0,Fe-pe)))/Ae;ve.push({id:Z.id,x:fe,y:be,view:Z,percent:(Le-Te)/Le*De*100|0,widthPercent:100*De|0}),Ce.add(Z.id)}const Ee=ve[0],ie=ve[ve.length-1];return U&&ve.sort(function(Y,Z){const de=Y.percent-Z.percent;return Math.abs(de)>.001?-de:Y.id-Z.id}),{first:Ee,last:ie,views:ve,ids:Ce}},e.isPortraitOrientation=function(i){return i.width<=i.height},e.isValidRotation=function(i){return Number.isInteger(i)&&i%90==0},e.isValidScrollMode=function(i){return Number.isInteger(i)&&Object.values(A).includes(i)&&i!==A.UNKNOWN},e.isValidSpreadMode=function(i){return Number.isInteger(i)&&Object.values(O).includes(i)&&i!==O.UNKNOWN},e.noContextMenuHandler=function(i){i.preventDefault()},e.normalizeWheelEventDelta=function(i){let w=C(i);return 0===i.deltaMode?w/=900:1===i.deltaMode&&(w/=30),w},e.normalizeWheelEventDirection=C,e.parseQueryString=function(i){const w=new Map;for(const[U,H]of new URLSearchParams(i))w.set(U.toLowerCase(),H);return w},e.removeNullCharacters=function(i,w=!1){return"string"!=typeof i?(console.error("The argument must be a string."),i):(w&&(i=i.replace(R," ")),i.replace(G,""))},e.roundToDivide=function(i,w){const U=i%w;return 0===U?i:Math.round(i-U+w)},e.scrollIntoView=function(i,w,U=!1){let H=i.offsetParent;if(!H)return void console.error("offsetParent is not set -- cannot scroll");let z=i.offsetTop+i.clientTop,te=i.offsetLeft+i.clientLeft;for(;H.clientHeight===H.scrollHeight&&H.clientWidth===H.scrollWidth||U&&(H.classList.contains("markedContent")||"hidden"===getComputedStyle(H).overflow);)if(z+=H.offsetTop,te+=H.offsetLeft,H=H.offsetParent,!H)return;w&&(void 0!==w.top&&(z+=w.top),void 0!==w.left&&(te+=w.left,H.scrollLeft=te)),H.scrollTop=z},e.watchScroll=function(i,w){const U=function(te){z||(z=window.requestAnimationFrame(function(){z=null;const he=i.scrollLeft,pe=H.lastX;he!==pe&&(H.right=he>pe),H.lastX=he;const ge=i.scrollTop,_e=H.lastY;ge!==_e&&(H.down=ge>_e),H.lastY=ge,w(H)}))},H={right:!0,down:!0,lastX:i.scrollLeft,lastY:i.scrollTop,_eventHandler:U};let z=null;return i.addEventListener("scroll",U,!0),H},e.DEFAULT_SCALE_VALUE="auto",e.DEFAULT_SCALE=1,e.DEFAULT_SCALE_DELTA=1.1,e.MIN_SCALE=.1,e.MAX_SCALE=10,e.UNKNOWN_SCALE=0,e.MAX_AUTO_SCALE=1.25,e.SCROLLBAR_PADDING=40,e.VERTICAL_PADDING=5;e.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},e.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const n={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};e.SidebarView=n,e.RendererType={CANVAS:"canvas",SVG:"svg"},e.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const A={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};e.ScrollMode=A;const O={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};e.SpreadMode=O,e.AutoPrintRegExp=/\bprint\s*\(/;e.OutputScale=class{constructor(){const w=window.devicePixelRatio||1;this.sx=w,this.sy=w}get scaled(){return 1!==this.sx||1!==this.sy}};const G=/\x00/g,R=/[\x01-\x1F]/g;function v(i,w,U=0){let H=U,z=i.length-1;if(z<0||!w(i[z]))return i.length;if(w(i[H]))return H;for(;H<z;){const te=H+z>>1;w(i[te])?z=te:H=te+1}return H}function g(i,w,U){if(i<2)return i;let H=w[i].div,z=H.offsetTop+H.clientTop;z>=U&&(H=w[i-1].div,z=H.offsetTop+H.clientTop);for(let te=i-2;te>=0&&(H=w[te].div,!(H.offsetTop+H.clientTop+H.clientHeight<=z));--te)i=te;return i}function C(i){let w=Math.hypot(i.deltaX,i.deltaY);const U=Math.atan2(i.deltaY,i.deltaX);return-.25*Math.PI<U&&U<.75*Math.PI&&(w=-w),w}const X=new Promise(function(i){window.requestAnimationFrame(i)});e.animationStarted=X;e.ProgressBar=class{constructor(w,{height:U,width:H,units:z}={}){this.visible=!0,this.div=document.querySelector(w+" .progress"),this.bar=this.div.parentNode,this.height=U||100,this.width=H||100,this.units=z||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(w){this._indeterminate=isNaN(w),this._percent=function(i,w,U){return Math.min(Math.max(i,w),U)}(w,0,100),this._updateBar()}setWidth(w){if(!w)return;const H=w.parentNode.offsetWidth-w.offsetWidth;H>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${H}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(M,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StructTreeLayerBuilder=void 0;const d={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r=/^H(\d+)$/;e.StructTreeLayerBuilder=class{constructor({pdfPage:T}){this.pdfPage=T}render(T){return this._walk(T)}_setAttributes(T,u){void 0!==T.alt&&u.setAttribute("aria-label",T.alt),void 0!==T.id&&u.setAttribute("aria-owns",T.id),void 0!==T.lang&&u.setAttribute("lang",T.lang)}_walk(T){if(!T)return null;const u=document.createElement("span");if("role"in T){const{role:a}=T,h=a.match(r);h?(u.setAttribute("role","heading"),u.setAttribute("aria-level",h[1])):d[a]&&u.setAttribute("role",d[a])}if(this._setAttributes(T,u),T.children)if(1===T.children.length&&"id"in T.children[0])this._setAttributes(T.children[0],u);else for(const a of T.children)u.appendChild(this._walk(a));return u}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerBuilder=void 0;var r=d(3);e.TextLayerBuilder=class{constructor({textLayerDiv:u,eventBus:a,pageIndex:h,viewport:F,highlighter:y=null,enhanceTextSelection:_=!1}){this.textLayerDiv=u,this.eventBus=a,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=F,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=y,this.enhanceTextSelection=_,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const u=document.createElement("div");u.className="endOfContent",this.textLayerDiv.appendChild(u)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(u=0){var h;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(h=this.highlighter)||h.setTextMapping(this.textDivs,this.textContentItemsStr);const a=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:a,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:u,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var F;this.textLayerDiv.appendChild(a),this._finishRendering(),null==(F=this.highlighter)||F.enable()},function(F){})}cancel(){var u;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(u=this.highlighter)||u.disable()}setTextContentStream(u){this.cancel(),this.textContentStream=u}setTextContent(u){this.cancel(),this.textContent=u}_bindMouse(){const u=this.textLayerDiv;let a=null;u.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(a&&(clearTimeout(a),a=null));const F=u.querySelector(".endOfContent");if(!F)return;let y=h.target!==u;if(y=y&&"none"!==window.getComputedStyle(F).getPropertyValue("-moz-user-select"),y){const _=u.getBoundingClientRect(),t=Math.max(0,(h.pageY-_.top)/_.height);F.style.top=(100*t).toFixed(2)+"%"}F.classList.add("active")}),u.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(a=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),a=null},300));const h=u.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))})}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayerBuilder=void 0;var r=d(3);e.XfaLayerBuilder=class{constructor({pageDiv:T,pdfPage:u,annotationStorage:a=null,linkService:h,xfaHtml:F=null}){this.pageDiv=T,this.pdfPage=u,this.annotationStorage=a,this.linkService=h,this.xfaHtml=F,this.div=null,this._cancelled=!1}render(T,u="display"){if("print"===u){const a={viewport:T.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u},h=document.createElement("div");this.pageDiv.appendChild(h),a.div=h;const F=r.XfaLayer.render(a);return Promise.resolve(F)}return this.pdfPage.getXfa().then(a=>{if(this._cancelled||!a)return{textDivs:[]};const h={viewport:T.clone({dontFlip:!0}),div:this.div,xfaHtml:a,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u};return this.div?r.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,r.XfaLayer.render(h))}).catch(a=>{console.error(a)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFViewer=e.PDFSinglePageViewer=void 0;var r=d(6),c=d(11);e.PDFViewer=class extends c.BaseViewer{};e.PDFSinglePageViewer=class extends c.BaseViewer{_resetView(){super._resetView(),this._scrollMode=r.ScrollMode.PAGE,this._spreadMode=r.SpreadMode.NONE}set scrollMode(a){}_updateScrollMode(){}set spreadMode(a){}_updateSpreadMode(){}}},(M,e,d)=>{var k,B,V,et,I,G,R,W,v,l,o,P,ot,E,lt,C,We,N,ct,j,ht,X,dt,ee,ut;Object.defineProperty(e,"__esModule",{value:!0}),e.PagesCountLimit=e.PDFPageViewBuffer=e.BaseViewer=void 0;var r=d(3),c=d(6),f=d(2),T=d(4),u=d(12),a=d(14),h=d(5),F=d(7),y=d(15),_=d(8),t=d(9);const S="enablePermissions",b={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};e.PagesCountLimit=b;class A{constructor(i){ye(this,V),ye(this,k,new Set),ye(this,B,0),Pe(this,B,i)}push(i){const w=ue(this,k);w.has(i)&&w.delete(i),w.add(i),w.size>ue(this,B)&&xe(this,V,et).call(this)}resize(i,w=null){Pe(this,B,i);const U=ue(this,k);if(w){const H=U.size;let z=1;for(const te of U)if(w.has(te.id)&&(U.delete(te),U.add(te)),++z>H)break}for(;U.size>ue(this,B);)xe(this,V,et).call(this)}has(i){return ue(this,k).has(i)}[Symbol.iterator](){return ue(this,k).keys()}}k=new WeakMap,B=new WeakMap,V=new WeakSet,et=function(){const i=ue(this,k).keys().next().value;null==i||i.destroy(),ue(this,k).delete(i)},e.PDFPageViewBuffer=A;const $=class{constructor(i){var U,H,z,te;if(ye(this,P),ye(this,E),ye(this,C),ye(this,N),ye(this,j),ye(this,X),ye(this,ee),ye(this,I,null),ye(this,G,r.AnnotationMode.ENABLE_FORMS),ye(this,R,null),ye(this,W,!1),ye(this,v,0),ye(this,l,null),ye(this,o,null),this.constructor===$)throw new Error("Cannot initialize BaseViewer.");const w="2.13.216";if(r.version!==w)throw new Error(`The API version "${r.version}" does not match the Viewer version "${w}".`);if(this.container=i.container,this.viewer=i.viewer||i.container.firstElementChild,"DIV"!==(null==(U=this.container)?void 0:U.tagName.toUpperCase())||"DIV"!==(null==(H=this.viewer)?void 0:H.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=i.eventBus,this.linkService=i.linkService||new h.SimpleLinkService,this.downloadManager=i.downloadManager||null,this.findController=i.findController||null,this._scriptingManager=i.scriptingManager||null,this.removePageBorders=i.removePageBorders||!1,this.textLayerMode=null!=(z=i.textLayerMode)?z:c.TextLayerMode.ENABLE,Pe(this,G,null!=(te=i.annotationMode)?te:r.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=i.imageResourcesPath||"",this.enablePrintAutoRotate=i.enablePrintAutoRotate||!1,this.renderer=i.renderer||c.RendererType.CANVAS,this.useOnlyCssZoom=i.useOnlyCssZoom||!1,this.maxCanvasPixels=i.maxCanvasPixels,this.l10n=i.l10n||T.NullL10n,Pe(this,W,i.enablePermissions||!1),this.defaultRenderingQueue=!i.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new a.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=i.renderingQueue,this._doc=document.documentElement,this.scroll=(0,c.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=c.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(i){return this._pages[i]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(i){return null==i?void 0:i.pdfPage})}get renderForms(){return ue(this,G)===r.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(i){if(!Number.isInteger(i))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(i,!0)||console.error(`currentPageNumber: "${i}" is not a valid page.`)}_setCurrentPageNumber(i,w=!1){var H,z;if(this._currentPageNumber===i)return w&&this._resetCurrentPageView(),!0;if(!(0<i&&i<=this.pagesCount))return!1;const U=this._currentPageNumber;return this._currentPageNumber=i,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:i,pageLabel:null!=(z=null==(H=this._pageLabels)?void 0:H[i-1])?z:null,previous:U}),w&&this._resetCurrentPageView(),!0}get currentPageLabel(){var i,w;return null!=(w=null==(i=this._pageLabels)?void 0:i[this._currentPageNumber-1])?w:null}set currentPageLabel(i){if(!this.pdfDocument)return;let w=0|i;if(this._pageLabels){const U=this._pageLabels.indexOf(i);U>=0&&(w=U+1)}this._setCurrentPageNumber(w,!0)||console.error(`currentPageLabel: "${i}" is not a valid page.`)}get currentScale(){return this._currentScale!==c.UNKNOWN_SCALE?this._currentScale:c.DEFAULT_SCALE}set currentScale(i){if(isNaN(i))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(i,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(i){!this.pdfDocument||this._setScale(i,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(i){if(!(0,c.isValidRotation)(i))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((i%=360)<0&&(i+=360),this._pagesRotation===i))return;this._pagesRotation=i;const w=this._currentPageNumber,U={rotation:i};for(const H of this._pages)H.update(U);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:i,pageNumber:w}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(i){var w=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=i,!i)return;const U=i.isPureXfa,H=i.numPages,z=i.getPage(1),te=i.getOptionalContentConfig(),ce=ue(this,W)?i.getPermissions():Promise.resolve();if(H>b.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const he=this._scrollMode=c.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:he})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:H})},()=>{}),this._onBeforeDraw=he=>{const pe=this._pages[he.pageNumber-1];!pe||ue(this,I).push(pe)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=he=>{he.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:he.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,ue(this,o)&&(document.removeEventListener("visibilitychange",ue(this,o)),Pe(this,o,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([z,ce]).then(([he,pe])=>{if(i!==this.pdfDocument)return;this._firstPageCapability.resolve(he),this._optionalContentConfigPromise=te,xe(this,P,ot).call(this,pe);const ge=this._scrollMode===c.ScrollMode.PAGE?null:this.viewer,_e=this.currentScale,ve=he.getViewport({scale:_e*r.PixelsPerInch.PDF_TO_CSS_UNITS}),Ce=this.textLayerMode===c.TextLayerMode.DISABLE||U?null:this,me=ue(this,G)!==r.AnnotationMode.DISABLE?this:null,Se=U?this:null;for(let Ee=1;Ee<=H;++Ee){const ie=new u.PDFPageView({container:ge,eventBus:this.eventBus,id:Ee,scale:_e,defaultViewport:ve.clone(),optionalContentConfigPromise:te,renderingQueue:this.renderingQueue,textLayerFactory:Ce,textLayerMode:this.textLayerMode,annotationLayerFactory:me,annotationMode:ue(this,G),xfaLayerFactory:Se,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(ie)}const Me=this._pages[0];Me&&(Me.setPdfPage(he),this.linkService.cachePageRef(1,he.ref)),this._scrollMode===c.ScrollMode.PAGE?xe(this,C,We).call(this):this._spreadMode!==c.SpreadMode.NONE&&this._updateSpreadMode(),xe(this,E,lt).call(this).then(m(function*(){if(w.findController&&w.findController.setDocument(i),w._scriptingManager&&w._scriptingManager.setDocument(i),i.loadingParams.disableAutoFetch||H>b.FORCE_LAZY_PAGE_INIT)return void w._pagesCapability.resolve();let Ee=H-1;if(Ee<=0)w._pagesCapability.resolve();else for(let ie=2;ie<=H;++ie){const Y=i.getPage(ie).then(Z=>{const de=w._pages[ie-1];de.pdfPage||de.setPdfPage(Z),w.linkService.cachePageRef(ie,Z.ref),0==--Ee&&w._pagesCapability.resolve()},Z=>{console.error(`Unable to get page ${ie} to initialize viewer`,Z),0==--Ee&&w._pagesCapability.resolve()});ie%b.PAUSE_EAGER_PAGE_INIT==0&&(yield Y)}})),this.eventBus.dispatch("pagesinit",{source:this}),i.getMetadata().then(({info:Ee})=>{i===this.pdfDocument&&Ee.Language&&(this.viewer.lang=Ee.Language)}),this.defaultRenderingQueue&&this.update()}).catch(he=>{console.error("Unable to initialize viewer",he),this._pagesCapability.reject(he)})}setPageLabels(i){var w,U;if(this.pdfDocument){i?Array.isArray(i)&&this.pdfDocument.numPages===i.length?this._pageLabels=i:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let H=0,z=this._pages.length;H<z;H++)this._pages[H].setPageLabel(null!=(U=null==(w=this._pageLabels)?void 0:w[H])?U:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=c.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Pe(this,I,new A(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,r.createPromiseCapability)(),this._onePageRenderedCapability=(0,r.createPromiseCapability)(),this._pagesCapability=(0,r.createPromiseCapability)(),this._scrollMode=c.ScrollMode.VERTICAL,this._previousScrollMode=c.ScrollMode.UNKNOWN,this._spreadMode=c.SpreadMode.NONE,Pe(this,l,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),ue(this,o)&&(document.removeEventListener("visibilitychange",ue(this,o)),Pe(this,o,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(S),null!==ue(this,R)&&(Pe(this,G,ue(this,R)),Pe(this,R,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:i,pageSpot:w=null,pageNumber:U=null}){if(this._scrollMode===c.ScrollMode.PAGE&&(U&&this._setCurrentPageNumber(U),xe(this,C,We).call(this),this.update()),!w&&!this.isInPresentationMode){const H=i.offsetLeft+i.clientLeft,z=H+i.clientWidth,{scrollLeft:te,clientWidth:ce}=this.container;(this._scrollMode===c.ScrollMode.HORIZONTAL||H<te||z>te+ce)&&(w={left:0,top:0})}(0,c.scrollIntoView)(i,w)}_setScaleUpdatePages(i,w,U=!1,H=!1){if(this._currentScaleValue=w.toString(),xe(this,N,ct).call(this,i))return void(H&&this.eventBus.dispatch("scalechanging",{source:this,scale:i,presetValue:w}));this._doc.style.setProperty("--zoom-factor",i),this._doc.style.setProperty("--viewport-scale-factor",i*r.PixelsPerInch.PDF_TO_CSS_UNITS);const z={scale:i};for(const te of this._pages)te.update(z);if(this._currentScale=i,!U){let ce,te=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(te=this._location.pageNumber,ce=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:te,destArray:ce,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:i,presetValue:H?w:void 0}),this.defaultRenderingQueue&&this.update(),Pe(this,v,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==c.SpreadMode.NONE&&this._scrollMode!==c.ScrollMode.HORIZONTAL?2:1}_setScale(i,w=!1){let U=parseFloat(i);if(U>0)this._setScaleUpdatePages(U,i,w,!1);else{const H=this._pages[this._currentPageNumber-1];if(!H)return;let z=c.SCROLLBAR_PADDING,te=c.VERTICAL_PADDING;this.isInPresentationMode?z=te=4:this.removePageBorders&&(z=te=0),this._scrollMode===c.ScrollMode.HORIZONTAL&&([z,te]=[te,z]);const ce=(this.container.clientWidth-z)/H.width*H.scale/this._pageWidthScaleFactor,he=(this.container.clientHeight-te)/H.height*H.scale;switch(i){case"page-actual":U=1;break;case"page-width":U=ce;break;case"page-height":U=he;break;case"page-fit":U=Math.min(ce,he);break;case"auto":const pe=(0,c.isPortraitOrientation)(H)?ce:Math.min(he,ce);U=Math.min(c.MAX_AUTO_SCALE,pe);break;default:return void console.error(`_setScale: "${i}" is an unknown zoom value.`)}this._setScaleUpdatePages(U,i,w,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(i){if(!this._pageLabels)return null;const w=this._pageLabels.indexOf(i);return w<0?null:w+1}scrollPageIntoView({pageNumber:i,destArray:w=null,allowNegativeOffset:U=!1,ignoreDestinationZoom:H=!1}){if(!this.pdfDocument)return;const z=Number.isInteger(i)&&this._pages[i-1];if(!z)return void console.error(`scrollPageIntoView: "${i}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!w)return void this._setCurrentPageNumber(i,!0);let ge,_e,te=0,ce=0,he=0,pe=0;const ve=z.rotation%180!=0,Ce=(ve?z.height:z.width)/z.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,me=(ve?z.width:z.height)/z.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS;let Se=0;switch(w[1].name){case"XYZ":te=w[2],ce=w[3],Se=w[4],te=null!==te?te:0,ce=null!==ce?ce:me;break;case"Fit":case"FitB":Se="page-fit";break;case"FitH":case"FitBH":ce=w[2],Se="page-width",null===ce&&this._location?(te=this._location.left,ce=this._location.top):("number"!=typeof ce||ce<0)&&(ce=me);break;case"FitV":case"FitBV":te=w[2],he=Ce,pe=me,Se="page-height";break;case"FitR":te=w[2],ce=w[3],he=w[4]-te,pe=w[5]-ce,ge=(this.container.clientWidth-(this.removePageBorders?0:c.SCROLLBAR_PADDING))/he/r.PixelsPerInch.PDF_TO_CSS_UNITS,_e=(this.container.clientHeight-(this.removePageBorders?0:c.VERTICAL_PADDING))/pe/r.PixelsPerInch.PDF_TO_CSS_UNITS,Se=Math.min(Math.abs(ge),Math.abs(_e));break;default:return void console.error(`scrollPageIntoView: "${w[1].name}" is not a valid destination type.`)}if(H||(Se&&Se!==this._currentScale?this.currentScaleValue=Se:this._currentScale===c.UNKNOWN_SCALE&&(this.currentScaleValue=c.DEFAULT_SCALE_VALUE)),"page-fit"===Se&&!w[4])return void this._scrollIntoView({pageDiv:z.div,pageNumber:i});const Me=[z.viewport.convertToViewportPoint(te,ce),z.viewport.convertToViewportPoint(te+he,ce+pe)];let Ee=Math.min(Me[0][0],Me[1][0]),ie=Math.min(Me[0][1],Me[1][1]);U||(Ee=Math.max(Ee,0),ie=Math.max(ie,0)),this._scrollIntoView({pageDiv:z.div,pageSpot:{left:Ee,top:ie},pageNumber:i})}_updateLocation(i){const w=this._currentScale,U=this._currentScaleValue,H=parseFloat(U)===w?Math.round(1e4*w)/100:U,z=i.id;let te="#page="+z;te+="&zoom="+H;const he=this.container,pe=this._pages[z-1].getPagePoint(he.scrollLeft-i.x,he.scrollTop-i.y),ge=Math.round(pe[0]),_e=Math.round(pe[1]);te+=","+ge+","+_e,this._location={pageNumber:z,scale:H,top:_e,left:ge,rotation:this._pagesRotation,pdfOpenParams:te}}update(){const i=this._getVisiblePages(),w=i.views,U=w.length;if(0===U)return;const H=Math.max(10,2*U+1);if(ue(this,I).resize(H,i.ids),this.renderingQueue.renderHighestPriority(i),!this.isInPresentationMode){const z=this._spreadMode===c.SpreadMode.NONE&&(this._scrollMode===c.ScrollMode.PAGE||this._scrollMode===c.ScrollMode.VERTICAL);let te=this._currentPageNumber,ce=!1;for(const he of w){if(he.percent<100)break;if(he.id===te&&z){ce=!0;break}}ce||(te=w[0].id),this._setCurrentPageNumber(te)}this._updateLocation(i.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(i){return this.container.contains(i)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===c.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===c.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const i=this._pages[this._currentPageNumber-1],w=i.div,U={id:i.id,x:w.offsetLeft+w.clientLeft,y:w.offsetTop+w.clientTop,view:i};return{first:U,last:U,views:[U],ids:new Set([i.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const i=this._scrollMode===c.ScrollMode.PAGE?ue(this,l).pages:this._pages,w=this._scrollMode===c.ScrollMode.HORIZONTAL;return(0,c.getVisibleElements)({scrollEl:this.container,views:i,sortByVisibility:!0,horizontal:w,rtl:w&&this._isContainerRtl})}isPageVisible(i){return!!this.pdfDocument&&(Number.isInteger(i)&&i>0&&i<=this.pagesCount?this._getVisiblePages().ids.has(i):(console.error(`isPageVisible: "${i}" is not a valid page.`),!1))}isPageCached(i){if(!this.pdfDocument)return!1;if(!(Number.isInteger(i)&&i>0&&i<=this.pagesCount))return console.error(`isPageCached: "${i}" is not a valid page.`),!1;const w=this._pages[i-1];return ue(this,I).has(w)}cleanup(){for(let i=0,w=this._pages.length;i<w;i++)this._pages[i]&&this._pages[i].renderingState!==c.RenderingStates.FINISHED&&this._pages[i].reset()}_cancelRendering(){for(let i=0,w=this._pages.length;i<w;i++)this._pages[i]&&this._pages[i].cancelRendering()}forceRendering(i){const w=i||this._getVisiblePages(),U=xe(this,X,dt).call(this,w),z=this.renderingQueue.getHighestPriority(w,this._pages,U,this._spreadMode!==c.SpreadMode.NONE&&this._scrollMode!==c.ScrollMode.HORIZONTAL);return xe(this,ee,ut).call(this,w.ids),!!z&&(xe(this,j,ht).call(this,z).then(()=>{this.renderingQueue.renderView(z)}),!0)}createTextLayerBuilder(i,w,U,H=!1,z,te){return new _.TextLayerBuilder({textLayerDiv:i,eventBus:z,pageIndex:w,viewport:U,enhanceTextSelection:!this.isInPresentationMode&&H,highlighter:te})}createTextHighlighter(i,w){return new y.TextHighlighter({eventBus:w,pageIndex:i,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(i,w,U=null,H="",z=!0,te=T.NullL10n,ce=null,he=null,pe=null,ge=null,_e=null){var ve,Ce,me,Se;return new f.AnnotationLayerBuilder({pageDiv:i,pdfPage:w,annotationStorage:U||(null==(ve=this.pdfDocument)?void 0:ve.annotationStorage),imageResourcesPath:H,renderForms:z,linkService:this.linkService,downloadManager:this.downloadManager,l10n:te,enableScripting:null!=ce?ce:this.enableScripting,hasJSActionsPromise:he||(null==(Ce=this.pdfDocument)?void 0:Ce.hasJSActions()),fieldObjectsPromise:ge||(null==(me=this.pdfDocument)?void 0:me.getFieldObjects()),mouseState:pe||(null==(Se=this._scriptingManager)?void 0:Se.mouseState),annotationCanvasMap:_e})}createXfaLayerBuilder(i,w,U=null){var H;return new t.XfaLayerBuilder({pageDiv:i,pdfPage:w,annotationStorage:U||(null==(H=this.pdfDocument)?void 0:H.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(i){return new F.StructTreeLayerBuilder({pdfPage:i})}get hasEqualPageSizes(){const i=this._pages[0];for(let w=1,U=this._pages.length;w<U;++w){const H=this._pages[w];if(H.width!==i.width||H.height!==i.height)return!1}return!0}getPagesOverview(){return this._pages.map(i=>{const w=i.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,c.isPortraitOrientation)(w)?{width:w.width,height:w.height,rotation:w.rotation}:{width:w.height,height:w.width,rotation:(w.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(i){if(!(i instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${i}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=i;const w={optionalContentConfigPromise:i};for(const U of this._pages)U.update(w);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:i})}get scrollMode(){return this._scrollMode}set scrollMode(i){if(this._scrollMode!==i){if(!(0,c.isValidScrollMode)(i))throw new Error(`Invalid scroll mode: ${i}`);this.pagesCount>b.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=i,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:i}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(i=null){const w=this._scrollMode,U=this.viewer;U.classList.toggle("scrollHorizontal",w===c.ScrollMode.HORIZONTAL),U.classList.toggle("scrollWrapped",w===c.ScrollMode.WRAPPED),this.pdfDocument&&i&&(w===c.ScrollMode.PAGE?xe(this,C,We).call(this):this._previousScrollMode===c.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(i,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(i){if(this._spreadMode!==i){if(!(0,c.isValidSpreadMode)(i))throw new Error(`Invalid spread mode: ${i}`);this._spreadMode=i,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:i}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(i=null){if(!this.pdfDocument)return;const w=this.viewer,U=this._pages;if(this._scrollMode===c.ScrollMode.PAGE)xe(this,C,We).call(this);else if(w.textContent="",this._spreadMode===c.SpreadMode.NONE)for(let H=0,z=U.length;H<z;++H)w.appendChild(U[H].div);else{const H=this._spreadMode-1;let z=null;for(let te=0,ce=U.length;te<ce;++te)null===z?(z=document.createElement("div"),z.className="spread",w.appendChild(z)):te%2===H&&(z=z.cloneNode(!1),w.appendChild(z)),z.appendChild(U[te].div)}!i||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(i,!0),this.update())}_getPageAdvance(i,w=!1){switch(this._scrollMode){case c.ScrollMode.WRAPPED:{const{views:U}=this._getVisiblePages(),H=new Map;for(const{id:z,y:te,percent:ce,widthPercent:he}of U){if(0===ce||he<100)continue;let pe=H.get(te);pe||H.set(te,pe||(pe=[])),pe.push(z)}for(const z of H.values()){const te=z.indexOf(i);if(-1===te)continue;const ce=z.length;if(1===ce)break;if(w)for(let he=te-1,pe=0;he>=pe;he--){const _e=z[he+1]-1;if(z[he]<_e)return i-_e}else for(let he=te+1,pe=ce;he<pe;he++){const _e=z[he-1]+1;if(z[he]>_e)return _e-i}if(w){const he=z[0];if(he<i)return i-he+1}else{const he=z[ce-1];if(he>i)return he-i+1}break}break}case c.ScrollMode.HORIZONTAL:break;case c.ScrollMode.PAGE:case c.ScrollMode.VERTICAL:{if(this._spreadMode===c.SpreadMode.NONE)break;const U=this._spreadMode-1;if(w&&i%2!==U)break;if(!w&&i%2===U)break;const{views:H}=this._getVisiblePages(),z=w?i-1:i+1;for(const{id:te,percent:ce,widthPercent:he}of H)if(te===z){if(ce>0&&100===he)return 2;break}break}}return 1}nextPage(){const i=this._currentPageNumber,w=this.pagesCount;if(i>=w)return!1;const U=this._getPageAdvance(i,!1)||1;return this.currentPageNumber=Math.min(i+U,w),!0}previousPage(){const i=this._currentPageNumber;if(i<=1)return!1;const w=this._getPageAdvance(i,!0)||1;return this.currentPageNumber=Math.max(i-w,1),!0}increaseScale(i=1){let w=this._currentScale;do{w=(w*c.DEFAULT_SCALE_DELTA).toFixed(2),w=Math.ceil(10*w)/10,w=Math.min(c.MAX_SCALE,w)}while(--i>0&&w<c.MAX_SCALE);this.currentScaleValue=w}decreaseScale(i=1){let w=this._currentScale;do{w=(w/c.DEFAULT_SCALE_DELTA).toFixed(2),w=Math.floor(10*w)/10,w=Math.max(c.MIN_SCALE,w)}while(--i>0&&w>c.MIN_SCALE);this.currentScaleValue=w}};let O=$;I=new WeakMap,G=new WeakMap,R=new WeakMap,W=new WeakMap,v=new WeakMap,l=new WeakMap,o=new WeakMap,P=new WeakSet,ot=function(i){!i||(i.includes(r.PermissionFlag.COPY)||this.viewer.classList.add(S),!i.includes(r.PermissionFlag.MODIFY_ANNOTATIONS)&&!i.includes(r.PermissionFlag.FILL_INTERACTIVE_FORMS)&&ue(this,G)===r.AnnotationMode.ENABLE_FORMS&&(Pe(this,R,ue(this,G)),Pe(this,G,r.AnnotationMode.ENABLE)))},E=new WeakSet,lt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const i=new Promise(w=>{Pe(this,o,()=>{"hidden"===document.visibilityState&&(w(),document.removeEventListener("visibilitychange",ue(this,o)),Pe(this,o,null))}),document.addEventListener("visibilitychange",ue(this,o))});return Promise.race([this._onePageRenderedCapability.promise,i])},C=new WeakSet,We=function(){if(this._scrollMode!==c.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const i=this._currentPageNumber,w=ue(this,l),U=this.viewer;if(U.textContent="",w.pages.length=0,this._spreadMode===c.SpreadMode.NONE){const H=this._pages[i-1];if(this.isInPresentationMode){const z=document.createElement("div");z.className="spread";const te=document.createElement("div");te.className="dummyPage",te.style.height=`${this.container.clientHeight}px`,z.appendChild(te),z.appendChild(H.div),U.appendChild(z)}else U.appendChild(H.div);w.pages.push(H)}else{const H=new Set,z=this._spreadMode-1;i%2!==z?(H.add(i-1),H.add(i)):(H.add(i-2),H.add(i-1));let te=null;for(const ce of H){const he=this._pages[ce];!he||(null===te?(te=document.createElement("div"),te.className="spread",U.appendChild(te)):ce%2===z&&(te=te.cloneNode(!1),U.appendChild(te)),te.appendChild(he.div),w.pages.push(he))}}w.scrollDown=i>=w.previousPageNumber,w.previousPageNumber=i},N=new WeakSet,ct=function(i){return(!this.isInPresentationMode||this.container.clientHeight===ue(this,v))&&(i===this._currentScale||Math.abs(i-this._currentScale)<1e-15)},j=new WeakSet,ht=function(i){var w=this;return m(function*(){var U,H;if(i.pdfPage)return i.pdfPage;try{const z=yield w.pdfDocument.getPage(i.id);return i.pdfPage||i.setPdfPage(z),(null==(H=(U=w.linkService)._cachedPageNumber)?void 0:H.call(U,z.ref))||w.linkService.cachePageRef(i.id,z.ref),z}catch(z){return console.error("Unable to get page for page view",z),null}})()},X=new WeakSet,dt=function(i){var w,U;if(1===(null==(w=i.first)?void 0:w.id))return!0;if((null==(U=i.last)?void 0:U.id)===this.pagesCount)return!1;switch(this._scrollMode){case c.ScrollMode.PAGE:return ue(this,l).scrollDown;case c.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},ee=new WeakSet,ut=function(i){for(const w of i){const U=this._pages[w-1];null==U||U.toggleLoadingIconSpinner(!0)}for(const w of ue(this,I))i.has(w.id)||w.toggleLoadingIconSpinner(!1)},e.BaseViewer=O},(M,e,d)=>{var h;Object.defineProperty(e,"__esModule",{value:!0}),e.PDFPageView=void 0;var r=d(3),c=d(6),f=d(13),T=d(4);const u=f.compatibilityParams.maxCanvasPixels||16777216;h=new WeakMap,e.PDFPageView=class{constructor(y){var S,b,A,O;ye(this,h,r.AnnotationMode.ENABLE_FORMS);const _=y.container,t=y.defaultViewport;this.id=y.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=y.scale||c.DEFAULT_SCALE,this.viewport=t,this.pdfPageRotate=t.rotation,this._optionalContentConfigPromise=y.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(S=y.textLayerMode)?S:c.TextLayerMode.ENABLE,Pe(this,h,null!=(b=y.annotationMode)?b:r.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=y.imageResourcesPath||"",this.useOnlyCssZoom=y.useOnlyCssZoom||!1,this.maxCanvasPixels=y.maxCanvasPixels||u,this.eventBus=y.eventBus,this.renderingQueue=y.renderingQueue,this.textLayerFactory=y.textLayerFactory,this.annotationLayerFactory=y.annotationLayerFactory,this.xfaLayerFactory=y.xfaLayerFactory,this.textHighlighter=null==(A=y.textHighlighterFactory)?void 0:A.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=y.structTreeLayerFactory,this.renderer=y.renderer||c.RendererType.CANVAS,this.l10n=y.l10n||T.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=c.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(O=this.renderingQueue)?void 0:O.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const n=document.createElement("div");n.className="page",n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px",n.setAttribute("data-page-number",this.id),n.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(k=>{n.setAttribute("aria-label",k)}),this.div=n,null==_||_.appendChild(n)}setPdfPage(y){this.pdfPage=y,this.pdfPageRotate=y.rotate,this.viewport=y.getViewport({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var y=this;return m(function*(){let _=null;try{yield y.annotationLayer.render(y.viewport,"display")}catch(t){_=t}finally{y.eventBus.dispatch("annotationlayerrendered",{source:y,pageNumber:y.id,error:_})}})()}_renderXfaLayer(){var y=this;return m(function*(){let _=null;try{const t=yield y.xfaLayer.render(y.viewport,"display");y.textHighlighter&&y._buildXfaTextContentItems(t.textDivs)}catch(t){_=t}finally{y.eventBus.dispatch("xfalayerrendered",{source:y,pageNumber:y.id,error:_})}})()}_buildXfaTextContentItems(y){var _=this;return m(function*(){const t=yield _.pdfPage.getTextContent(),n=[];for(const S of t.items)n.push(S.str);_.textHighlighter.setTextMapping(y,n),_.textHighlighter.enable()})()}_resetZoomLayer(y=!1){if(!this.zoomLayer)return;const _=this.zoomLayer.firstChild;this.paintedViewportMap.delete(_),_.width=0,_.height=0,y&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:y=!1,keepAnnotationLayer:_=!1,keepXfaLayer:t=!1}={}){var k,B;this.cancelRendering({keepAnnotationLayer:_,keepXfaLayer:t}),this.renderingState=c.RenderingStates.INITIAL;const n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";const S=n.childNodes,b=y&&this.zoomLayer||null,A=_&&(null==(k=this.annotationLayer)?void 0:k.div)||null,O=t&&(null==(B=this.xfaLayer)?void 0:B.div)||null;for(let V=S.length-1;V>=0;V--){const D=S[V];switch(D){case b:case A:case O:continue}D.remove()}n.removeAttribute("data-loaded"),A&&this.annotationLayer.hide(),O&&this.xfaLayer.hide(),b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(V=>{var D;null==(D=this.loadingIconDiv)||D.setAttribute("aria-label",V)}),n.appendChild(this.loadingIconDiv)}update({scale:y=0,rotation:_=null,optionalContentConfigPromise:t=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=y||this.scale,"number"==typeof _&&(this.rotation=_),t instanceof Promise&&(this._optionalContentConfigPromise=t);const S=this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:S,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:A}=document.documentElement;A.setProperty("--zoom-factor",this.scale),A.setProperty("--viewport-scale-factor",S)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let b=!1;if(this.canvas&&this.maxCanvasPixels>0){const A=this.outputScale;(Math.floor(this.viewport.width)*A.sx|0)*(Math.floor(this.viewport.height)*A.sy|0)>this.maxCanvasPixels&&(b=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&b)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:y=!1,keepXfaLayer:_=!1}={}){var t;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!y||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!_||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(t=this.textHighlighter)||t.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:y,redrawAnnotationLayer:_=!1,redrawXfaLayer:t=!1}){const n=this.viewport.width,S=this.viewport.height,b=this.div;y.style.width=y.parentNode.style.width=b.style.width=Math.floor(n)+"px",y.style.height=y.parentNode.style.height=b.style.height=Math.floor(S)+"px";const A=this.viewport.rotation-this.paintedViewportMap.get(y).rotation,O=Math.abs(A);let k=1,B=1;if((90===O||270===O)&&(k=S/n,B=n/S),y.style.transform=`rotate(${A}deg) scale(${k}, ${B})`,this.textLayer){const V=this.textLayer.viewport,I=Math.abs(this.viewport.rotation-V.rotation);let G=n/V.width;(90===I||270===I)&&(G=n/V.height);const R=this.textLayer.textLayerDiv;let W,v;switch(I){case 0:W=v=0;break;case 90:W=0,v="-"+R.style.height;break;case 180:W="-"+R.style.width,v="-"+R.style.height;break;case 270:W="-"+R.style.width,v=0;break;default:console.error("Bad rotation value.")}R.style.transform=`rotate(${I}deg) scale(${G}) translate(${W}, ${v})`,R.style.transformOrigin="0% 0%"}_&&this.annotationLayer&&this._renderAnnotationLayer(),t&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(y,_){return this.viewport.convertToPdfPoint(y,_)}toggleLoadingIconSpinner(y=!1){var _;null==(_=this.loadingIconDiv)||_.classList.toggle("notVisible",!y)}draw(){var B,V,D,y=this;this.renderingState!==c.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:_,pdfPage:t}=this;if(!t)return this.renderingState=c.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=c.RenderingStates.RUNNING;const n=document.createElement("div");n.style.width=_.style.width,n.style.height=_.style.height,n.classList.add("canvasWrapper"),(null==(B=this.annotationLayer)?void 0:B.div)?_.insertBefore(n,this.annotationLayer.div):_.appendChild(n);let S=null;if(this.textLayerMode!==c.TextLayerMode.DISABLE&&this.textLayerFactory){const I=document.createElement("div");I.className="textLayer",I.style.width=n.style.width,I.style.height=n.style.height,(null==(V=this.annotationLayer)?void 0:V.div)?_.insertBefore(I,this.annotationLayer.div):_.appendChild(I),S=this.textLayerFactory.createTextLayerBuilder(I,this.id-1,this.viewport,this.textLayerMode===c.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=S,ue(this,h)!==r.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(_,t,null,this.imageResourcesPath,ue(this,h)===r.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(D=this.xfaLayer)?void 0:D.div)&&_.appendChild(this.xfaLayer.div);let b=null;this.renderingQueue&&(b=I=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=c.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=c.RenderingStates.RUNNING,I()});I()});const A=function(){var I=m(function*(G=null){if(O===y.paintTask&&(y.paintTask=null),G instanceof r.RenderingCancelledException)y._renderError=null;else if(y._renderError=G,y.renderingState=c.RenderingStates.FINISHED,y.loadingIconDiv&&(y.loadingIconDiv.remove(),delete y.loadingIconDiv),y._resetZoomLayer(!0),y.eventBus.dispatch("pagerendered",{source:y,pageNumber:y.id,cssTransform:!1,timestamp:performance.now(),error:y._renderError}),G)throw G});return function(){return I.apply(this,arguments)}}(),O=this.renderer===c.RendererType.SVG?this.paintOnSvg(n):this.paintOnCanvas(n);O.onRenderContinue=b,this.paintTask=O;const k=O.promise.then(()=>A(null).then(()=>{if(S){const I=t.streamTextContent({includeMarkedContent:!0});S.setTextContentStream(I),S.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(I){return A(I)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(_,t,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=I=>{I.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(G=>{if(!G||!this.canvas)return;const R=this.structTreeLayer.render(G);R.classList.add("structTree"),this.canvas.appendChild(R)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(t)),_.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),k}paintOnCanvas(y){const _=(0,r.createPromiseCapability)(),t={promise:_.promise,onRenderContinue(R){R()},cancel(){G.cancel()}},n=this.viewport,S=document.createElement("canvas");S.hidden=!0;let b=!0;const A=function(){b&&(S.hidden=!1,b=!1)};y.appendChild(S),this.canvas=S,S.mozOpaque=!0;const O=S.getContext("2d",{alpha:!1}),k=this.outputScale=new c.OutputScale;if(this.useOnlyCssZoom){const R=n.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});k.sx*=R.width/n.width,k.sy*=R.height/n.height}if(this.maxCanvasPixels>0){const W=Math.sqrt(this.maxCanvasPixels/(n.width*n.height));k.sx>W||k.sy>W?(k.sx=W,k.sy=W,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const B=(0,c.approximateFraction)(k.sx),V=(0,c.approximateFraction)(k.sy);S.width=(0,c.roundToDivide)(n.width*k.sx,B[0]),S.height=(0,c.roundToDivide)(n.height*k.sy,V[0]),S.style.width=(0,c.roundToDivide)(n.width,B[1])+"px",S.style.height=(0,c.roundToDivide)(n.height,V[1])+"px",this.paintedViewportMap.set(S,n);const I={canvasContext:O,transform:k.scaled?[k.sx,0,0,k.sy,0,0]:null,viewport:this.viewport,annotationMode:ue(this,h),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},G=this.pdfPage.render(I);return G.onContinue=function(R){A(),t.onRenderContinue?t.onRenderContinue(R):R()},G.promise.then(function(){A(),_.resolve()},function(R){A(),_.reject(R)}),t}paintOnSvg(y){let _=!1;const t=()=>{if(_)throw new r.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},n=this.pdfPage,S=this.viewport.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:n.getOperatorList({annotationMode:ue(this,h)}).then(A=>(t(),new r.SVGGraphics(n.commonObjs,n.objs).getSVG(A,S).then(k=>{t(),this.svg=k,this.paintedViewportMap.set(k,S),k.style.width=y.style.width,k.style.height=y.style.height,this.renderingState=c.RenderingStates.FINISHED,y.appendChild(k)}))),onRenderContinue(A){A()},cancel(){_=!0}}}setPageLabel(y){this.pageLabel="string"==typeof y?y:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(M,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.compatibilityParams=e.OptionKind=e.AppOptions=void 0;const d=Object.create(null);e.compatibilityParams=d;{const u=navigator.userAgent||"",a=navigator.platform||"",h=navigator.maxTouchPoints||1,F=/Android/.test(u);(/\b(iPad|iPhone|iPod)(?=;)/.test(u)||"MacIntel"===a&&h>1||F)&&(d.maxCanvasPixels=5242880)}const r={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};e.OptionKind=r;const c={annotationMode:{value:2,kind:r.VIEWER+r.PREFERENCE},cursorToolOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:r.VIEWER},defaultZoomValue:{value:"",kind:r.VIEWER+r.PREFERENCE},disableHistory:{value:!1,kind:r.VIEWER},disablePageLabels:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePermissions:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:r.VIEWER+r.PREFERENCE},enableScripting:{value:!0,kind:r.VIEWER+r.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:r.VIEWER},externalLinkTarget:{value:0,kind:r.VIEWER+r.PREFERENCE},historyUpdateUrl:{value:!1,kind:r.VIEWER+r.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},imageResourcesPath:{value:"./images/",kind:r.VIEWER},maxCanvasPixels:{value:16777216,compatibility:d.maxCanvasPixels,kind:r.VIEWER},pdfBugEnabled:{value:!1,kind:r.VIEWER+r.PREFERENCE},printResolution:{value:150,kind:r.VIEWER},renderer:{value:"canvas",kind:r.VIEWER},sidebarViewOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},scrollModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},spreadModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},textLayerMode:{value:1,kind:r.VIEWER+r.PREFERENCE},useOnlyCssZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},viewerCssTheme:{value:0,kind:r.VIEWER+r.PREFERENCE},viewOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},cMapPacked:{value:!0,kind:r.API},cMapUrl:{value:"../web/cmaps/",kind:r.API},disableAutoFetch:{value:!1,kind:r.API+r.PREFERENCE},disableFontFace:{value:!1,kind:r.API+r.PREFERENCE},disableRange:{value:!1,kind:r.API+r.PREFERENCE},disableStream:{value:!1,kind:r.API+r.PREFERENCE},docBaseUrl:{value:"",kind:r.API},enableXfa:{value:!0,kind:r.API+r.PREFERENCE},fontExtraProperties:{value:!1,kind:r.API},isEvalSupported:{value:!0,kind:r.API},maxImageSize:{value:-1,kind:r.API},pdfBug:{value:!1,kind:r.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:r.API},verbosity:{value:1,kind:r.API},workerPort:{value:null,kind:r.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:r.WORKER}};c.disablePreferences={value:!1,kind:r.VIEWER},c.locale={value:navigator.language||"en-US",kind:r.VIEWER},c.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:r.VIEWER},c.renderer.kind+=r.PREFERENCE;const f=Object.create(null);e.AppOptions=class{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(a){var y;const h=f[a];if(void 0!==h)return h;const F=c[a];return void 0!==F?null!=(y=F.compatibility)?y:F.value:void 0}static getAll(a=null){var F;const h=Object.create(null);for(const y in c){const _=c[y];if(a){if(0==(a&_.kind))continue;if(a===r.PREFERENCE){const n=_.value,S=typeof n;if("boolean"===S||"string"===S||"number"===S&&Number.isInteger(n)){h[y]=n;continue}throw new Error(`Invalid type for preference: ${y}`)}}const t=f[y];h[y]=void 0!==t?t:null!=(F=_.compatibility)?F:_.value}return h}static set(a,h){f[a]=h}static setAll(a){for(const h in a)f[h]=a[h]}static remove(a){delete f[a]}static _hasUserOptions(){return Object.keys(f).length>0}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFRenderingQueue=void 0;var r=d(3),c=d(6);e.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(a){this.pdfViewer=a}setThumbnailViewer(a){this.pdfThumbnailViewer=a}isHighestPriority(a){return this.highestPriorityPage===a.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(a){var h;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(a)&&(this.isThumbnailViewEnabled&&(null==(h=this.pdfThumbnailViewer)?void 0:h.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(a,h,F,y=!1){const _=a.views,t=_.length;if(0===t)return null;for(let O=0;O<t;O++){const k=_[O].view;if(!this.isViewFinished(k))return k}const n=a.first.id,S=a.last.id;if(S-n+1>t){const O=a.ids;for(let k=1,B=S-n;k<B;k++){const V=F?n+k:S-k;if(O.has(V))continue;const D=h[V-1];if(!this.isViewFinished(D))return D}}let b=F?S:n-2,A=h[b];return A&&!this.isViewFinished(A)||y&&(b+=F?1:-1,A=h[b],A&&!this.isViewFinished(A))?A:null}isViewFinished(a){return a.renderingState===c.RenderingStates.FINISHED}renderView(a){switch(a.renderingState){case c.RenderingStates.FINISHED:return!1;case c.RenderingStates.PAUSED:this.highestPriorityPage=a.renderingId,a.resume();break;case c.RenderingStates.RUNNING:this.highestPriorityPage=a.renderingId;break;case c.RenderingStates.INITIAL:this.highestPriorityPage=a.renderingId,a.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof r.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(M,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextHighlighter=void 0;e.TextHighlighter=class{constructor({findController:c,eventBus:f,pageIndex:T}){this.findController=c,this.matches=[],this.eventBus=f,this.pageIdx=T,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(c,f){this.textDivs=c,this.textContentItemsStr=f}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=c=>{(c.pageIndex===this.pageIdx||-1===c.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(c,f){if(!c)return[];const{textContentItemsStr:T}=this;let u=0,a=0;const h=T.length-1,F=[];for(let y=0,_=c.length;y<_;y++){let t=c[y];for(;u!==h&&t>=a+T[u].length;)a+=T[u].length,u++;u===T.length&&console.error("Could not find a matching mapping");const n={begin:{divIdx:u,offset:t-a}};for(t+=f[y];u!==h&&t>a+T[u].length;)a+=T[u].length,u++;n.end={divIdx:u,offset:t-a},F.push(n)}return F}_renderMatches(c){if(0===c.length)return;const{findController:f,pageIdx:T}=this,{textContentItemsStr:u,textDivs:a}=this,h=T===f.selected.pageIdx,F=f.selected.matchIdx;let _=null;const t_offset=void 0;function n(O,k){const B=O.divIdx;return a[B].textContent="",S(B,0,O.offset,k)}function S(O,k,B,V){let D=a[O];if(D.nodeType===Node.TEXT_NODE){const R=document.createElement("span");D.parentNode.insertBefore(R,D),R.appendChild(D),a[O]=R,D=R}const I=u[O].substring(k,B),G=document.createTextNode(I);if(V){const R=document.createElement("span");return R.className=`${V} appended`,R.appendChild(G),D.appendChild(R),V.includes("selected")?R.offsetLeft:0}return D.appendChild(G),0}let b=F,A=b+1;if(f.state.highlightAll)b=0,A=c.length;else if(!h)return;for(let O=b;O<A;O++){const k=c[O],B=k.begin,V=k.end,D=h&&O===F,I=D?" selected":"";let G=0;if(_&&B.divIdx===_.divIdx?S(_.divIdx,_.offset,B.offset):(null!==_&&S(_.divIdx,_.offset,t_offset),n(B)),B.divIdx===V.divIdx)G=S(B.divIdx,B.offset,V.offset,"highlight"+I);else{G=S(B.divIdx,B.offset,t_offset,"highlight begin"+I);for(let R=B.divIdx+1,W=V.divIdx;R<W;R++)a[R].className="highlight middle"+I;n(V,"highlight end"+I)}_=V,D&&f.scrollMatchIntoView({element:a[B.divIdx],selectedLeft:G,pageIndex:T,matchIndex:F})}_&&S(_.divIdx,_.offset,t_offset)}_updateMatches(){if(!this.enabled)return;const{findController:c,matches:f,pageIdx:T}=this,{textContentItemsStr:u,textDivs:a}=this;let h=-1;for(let _=0,t=f.length;_<t;_++){const n=f[_];for(let b=Math.max(h,n.begin.divIdx),A=n.end.divIdx;b<=A;b++){const O=a[b];O.textContent=u[b],O.className=""}h=n.end.divIdx+1}(null==c?void 0:c.highlightMatches)&&(this.matches=this._convertMatches(c.pageMatches[T]||null,c.pageMatchesLength[T]||null),this._renderMatches(this.matches))}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadManager=void 0;var r=d(3);function c(T,u){const a=document.createElement("a");if(!a.click)throw new Error('DownloadManager: "a.click()" is not supported.');a.href=T,a.target="_parent","download"in a&&(a.download=u),(document.body||document.documentElement).appendChild(a),a.click(),a.remove()}e.DownloadManager=class{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(u,a){(0,r.createValidAbsoluteUrl)(u,"http://example.com")?c(u+"#pdfjs.action=download",a):console.error(`downloadUrl - not a valid URL: ${u}`)}downloadData(u,a,h){c(URL.createObjectURL(new Blob([u],{type:h})),a)}openOrDownloadData(u,a,h){const F=(0,r.isPdfFile)(h),y=F?"application/pdf":"";if(F){let t,_=this._openBlobUrls.get(u);_||(_=URL.createObjectURL(new Blob([a],{type:y})),this._openBlobUrls.set(u,_)),t="?file="+encodeURIComponent(_+"#"+h);try{return window.open(t),!0}catch(n){console.error(`openOrDownloadData: ${n}`),URL.revokeObjectURL(_),this._openBlobUrls.delete(u)}}return this.downloadData(a,h,y),!1}download(u,a,h,F="download"){c(URL.createObjectURL(u),h)}}},(M,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WaitOnType=e.EventBus=e.AutomationEventBus=void 0,e.waitOnEventOrTimeout=function({target:T,name:u,delay:a=0}){return new Promise(function(h,F){if("object"!=typeof T||!u||"string"!=typeof u||!(Number.isInteger(a)&&a>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function y(S){T instanceof c?T._off(u,_):T.removeEventListener(u,_),n&&clearTimeout(n),h(S)}const _=y.bind(null,d.EVENT);T instanceof c?T._on(u,_):T.addEventListener(u,_);const t=y.bind(null,d.TIMEOUT),n=setTimeout(t,a)})};const d={EVENT:"event",TIMEOUT:"timeout"};e.WaitOnType=d;class c{constructor(){this._listeners=Object.create(null)}on(u,a,h=null){this._on(u,a,{external:!0,once:null==h?void 0:h.once})}off(u,a,h=null){this._off(u,a,{external:!0,once:null==h?void 0:h.once})}dispatch(u,a){const h=this._listeners[u];if(!h||0===h.length)return;let F;for(const{listener:y,external:_,once:t}of h.slice(0))t&&this._off(u,y),_?(F||(F=[])).push(y):y(a);if(F){for(const y of F)y(a);F=null}}_on(u,a,h=null){var y;((y=this._listeners)[u]||(y[u]=[])).push({listener:a,external:!0===(null==h?void 0:h.external),once:!0===(null==h?void 0:h.once)})}_off(u,a,h=null){const F=this._listeners[u];if(F)for(let y=0,_=F.length;y<_;y++)if(F[y].listener===a)return void F.splice(y,1)}}e.EventBus=c;e.AutomationEventBus=class extends c{dispatch(u,a){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GenericL10n=void 0,d(19);var r=d(4);const c=document.webL10n;e.GenericL10n=class{constructor(u){this._lang=u,this._ready=new Promise((a,h)=>{c.setLanguage((0,r.fixupLangCode)(u),()=>{a(c)})})}getLanguage(){var u=this;return m(function*(){return(yield u._ready).getLanguage()})()}getDirection(){var u=this;return m(function*(){return(yield u._ready).getDirection()})()}get(u,a=null,h=(0,r.getL10nFallback)(u,a)){var F=this;return m(function*(){return(yield F._ready).get(u,a,h)})()}translate(u){var a=this;return m(function*(){return(yield a._ready).translate(u)})()}}},()=>{document.webL10n=function(M,e,d){var r={},c="",f="textContent",T="",u={},a="loading";function n(R,W,v){W=W||function(P){},v=v||function(){};var l=new XMLHttpRequest;l.open("GET",R,true),l.overrideMimeType&&l.overrideMimeType("text/plain; charset=utf-8"),l.onreadystatechange=function(){4==l.readyState&&(200==l.status||0===l.status?W(l.responseText):v())},l.onerror=v,l.ontimeout=v;try{l.send(null)}catch(o){v()}}function S(R,W,v,l){var o=R.replace(/[^\/]*$/,"")||"./";function P(E){return E.lastIndexOf("\\")<0?E:E.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}n(R,function(E){c+=E,function(E,s){var C={},x=/^\s*|\s*$/,N=/^\s*#|^\s*$/,p=/^\s*\[(.*)\]\s*$/,j=/^\s*@import\s+url\((.*)\)\s*$/i,q=/^([^=\s]*)\s*=\s*(.+)$/;function X(ee,oe,$){var ae=ee.replace(x,"").split(/[\r\n]+/),i="*",w=W.split("-",1)[0],U=!1,H="";!function z(){for(;;){if(!ae.length)return void $();var te=ae.shift();if(!N.test(te)){if(oe){if(H=p.exec(te)){i=H[1].toLowerCase(),U="*"!==i&&i!==W&&i!==w;continue}if(U)continue;if(H=j.exec(te))return void K(o+H[1],z)}var ce=te.match(q);ce&&3==ce.length&&(C[ce[1]]=P(ce[2]))}}}()}function K(ee,oe){n(ee,function($){X($,!1,oe)},function(){console.warn(ee+" not found."),oe()})}X(E,!0,function(){s(C)})}(E,function(s){for(var C in s){var x,N,p=C.lastIndexOf(".");p>0?(x=C.substring(0,p),N=C.substring(p+1)):(x=C,N=f),r[x]||(r[x]={}),r[x][N]=s[C]}v&&v()})},l)}function b(R,W){R&&(R=R.toLowerCase()),W=W||function(){},r={},c="",T="",T=R;var v=e.querySelectorAll('link[type="application/l10n"]'),l=v.length;if(0!==l){var E,s=0;E=function(){++s>=l&&(W(),a="complete")};for(var x=0;x<l;x++)new C(v[x]).load(R,E)}else{var o=function(){var R=e.querySelector('script[type="application/l10n"]');return R?JSON.parse(R.innerHTML):null}();if(o&&o.locales&&o.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(r=o.locales[R])){var P=o.default_locale.toLowerCase();for(var g in o.locales){if((g=g.toLowerCase())===R){r=o.locales[R];break}g===P&&(r=o.locales[P])}}W()}else console.log("no resource to load, early way out");a="complete"}function C(p){var j=p.href;this.load=function(q,X){S(j,q,X,function(){console.warn(j+" not found."),console.warn('"'+q+'" resource not found'),T="",X()})}}}function k(R,W,v){var l=r[R];if(!l){if(console.warn("#"+R+" is undefined."),!v)return null;l=v}var o={};for(var P in l){var g=l[P];g=V(g=B(g,W,R,P),W,R),o[P]=g}return o}function B(R,W,v,l){var P=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(R);if(!P||!P.length)return R;var s,g=P[1],E=P[2];return W&&E in W?s=W[E]:E in r&&(s=r[E]),g in u&&(R=(0,u[g])(R,s,v,l)),R}function V(R,W,v){return R.replace(/\{\{\s*(.+?)\s*\}\}/g,function(o,P){return W&&P in W?W[P]:P in r?r[P]:(console.log("argument {{"+P+"}} for #"+v+" is undefined."),o)})}function D(R){var W=function(R){if(!R)return{};var W=R.getAttribute("data-l10n-id"),v=R.getAttribute("data-l10n-args"),l={};if(v)try{l=JSON.parse(v)}catch(o){console.warn("could not parse arguments for #"+W)}return{id:W,args:l}}(R);if(W.id){var v=k(W.id,W.args);if(!v)return void console.warn("#"+W.id+" is undefined.");if(v[f]){if(0===function(R){if(R.children)return R.children.length;if(void 0!==R.childElementCount)return R.childElementCount;for(var W=0,v=0;v<R.childNodes.length;v++)W+=1===R.nodeType?1:0;return W}(R))R[f]=v[f];else{for(var l=R.childNodes,o=!1,P=0,g=l.length;P<g;P++)3===l[P].nodeType&&/\S/.test(l[P].nodeValue)&&(o?l[P].nodeValue="":(l[P].nodeValue=v[f],o=!0));if(!o){var E=e.createTextNode(v[f]);R.insertBefore(E,R.firstChild)}}delete v[f]}for(var s in v)R[s]=v[s]}}return u.plural=function(R,W,v,l){var o=parseFloat(W);if(isNaN(o)||l!=f)return R;u._pluralRules||(u._pluralRules=function(R){function v(g,E){return-1!==E.indexOf(g)}function l(g,E,s){return E<=g&&g<=s}var o={0:function(g){return"other"},1:function(g){return l(g%100,3,10)?"few":0===g?"zero":l(g%100,11,99)?"many":2==g?"two":1==g?"one":"other"},2:function(g){return 0!==g&&g%10==0?"many":2==g?"two":1==g?"one":"other"},3:function(g){return 1==g?"one":"other"},4:function(g){return l(g,0,1)?"one":"other"},5:function(g){return l(g,0,2)&&2!=g?"one":"other"},6:function(g){return 0===g?"zero":g%10==1&&g%100!=11?"one":"other"},7:function(g){return 2==g?"two":1==g?"one":"other"},8:function(g){return l(g,3,6)?"few":l(g,7,10)?"many":2==g?"two":1==g?"one":"other"},9:function(g){return 0===g||1!=g&&l(g%100,1,19)?"few":1==g?"one":"other"},10:function(g){return l(g%10,2,9)&&!l(g%100,11,19)?"few":g%10!=1||l(g%100,11,19)?"other":"one"},11:function(g){return l(g%10,2,4)&&!l(g%100,12,14)?"few":g%10==0||l(g%10,5,9)||l(g%100,11,14)?"many":g%10==1&&g%100!=11?"one":"other"},12:function(g){return l(g,2,4)?"few":1==g?"one":"other"},13:function(g){return l(g%10,2,4)&&!l(g%100,12,14)?"few":1!=g&&l(g%10,0,1)||l(g%10,5,9)||l(g%100,12,14)?"many":1==g?"one":"other"},14:function(g){return l(g%100,3,4)?"few":g%100==2?"two":g%100==1?"one":"other"},15:function(g){return 0===g||l(g%100,2,10)?"few":l(g%100,11,19)?"many":1==g?"one":"other"},16:function(g){return g%10==1&&11!=g?"one":"other"},17:function(g){return 3==g?"few":0===g?"zero":6==g?"many":2==g?"two":1==g?"one":"other"},18:function(g){return 0===g?"zero":l(g,0,2)&&0!==g&&2!=g?"one":"other"},19:function(g){return l(g,2,10)?"few":l(g,0,1)?"one":"other"},20:function(g){return!l(g%10,3,4)&&g%10!=9||l(g%100,10,19)||l(g%100,70,79)||l(g%100,90,99)?g%1e6==0&&0!==g?"many":g%10!=2||v(g%100,[12,72,92])?g%10!=1||v(g%100,[11,71,91])?"other":"one":"two":"few"},21:function(g){return 0===g?"zero":1==g?"one":"other"},22:function(g){return l(g,0,1)||l(g,11,99)?"one":"other"},23:function(g){return l(g%10,1,2)||g%20==0?"one":"other"},24:function(g){return l(g,3,10)||l(g,13,19)?"few":v(g,[2,12])?"two":v(g,[1,11])?"one":"other"}},P={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[R.replace(/-.*$/,"")];return P in o?o[P]:(console.warn("plural form unknown for ["+R+"]"),function(){return"other"})}(T));var P="["+u._pluralRules(o)+"]";return 0===o&&v+"[zero]"in r?R=r[v+"[zero]"][l]:1==o&&v+"[one]"in r?R=r[v+"[one]"][l]:2==o&&v+"[two]"in r?R=r[v+"[two]"][l]:v+P in r?R=r[v+P][l]:v+"[other]"in r&&(R=r[v+"[other]"][l]),R},{get:function(R,W,v){var P,l=R.lastIndexOf("."),o=f;l>0&&(o=R.substring(l+1),R=R.substring(0,l)),v&&((P={})[o]=v);var g=k(R,W,P);return g&&o in g?g[o]:"{{"+R+"}}"},getData:function(){return r},getText:function(){return c},getLanguage:function(){return T},setLanguage:function(R,W){b(R,function(){W&&W()})},getDirection:function(){var W=T.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(W)>=0?"rtl":"ltr"},translate:function(R){for(var W=function(R){return R?R.querySelectorAll("*[data-l10n-id]"):[]}(R=R||e.documentElement),v=W.length,l=0;l<v;l++)D(W[l]);D(R)},getReadyState:function(){return a},ready:function(R){R&&("complete"==a||"interactive"==a?M.setTimeout(function(){R()}):e.addEventListener&&e.addEventListener("localized",function W(){e.removeEventListener("localized",W),R()}))}}}(window,document)},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFindController=e.FindState=void 0;var r=d(6),c=d(3),f=d(21);const T={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};e.FindState=T;const F={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},y=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),_=[...y.values()].map(V=>String.fromCharCode(V)).join(""),t=/\p{M}+/gu,n=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,S=/([^\p{M}])\p{M}*$/u,b=/^\p{M}*([^\p{M}])/u;let A=null;function O(V){if(!A){const g=Object.keys(F).join("");A=new RegExp(`([${g}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const D=[];let I;for(;null!==(I=t.exec(V));)D.push([I[0].length,I.index]);let G=V.normalize("NFD");const R=[[0,0]];let W=0,v=0,l=0,o=0,P=!1;return G=G.replace(A,(g,E,s,C,x,N)=>{var p;if(N-=l,E){const j=F[g],q=j.length;for(let X=1;X<q;X++)R.push([N-v+X,v-X]);return v-=q-1,j}if(s){const j=s.endsWith("\n"),q=j?s.length-2:s.length;P=!0;let X=q;N+o===(null==(p=D[W])?void 0:p[1])&&(X-=D[W][0],++W);for(let K=1;K<X+1;K++)R.push([N-1-v+K,v-K]);return v-=X,l+=X,j?(R.push([(N+=q-1)-v+1,1+v]),v+=1,l+=1,o+=1,s.slice(0,q)):s}return C?(R.push([N-v+1,1+v]),v+=1,l+=1,o+=1,C.charAt(0)):(R.push([N-v+1,v-1]),v-=1,l+=1,o+=1," ")}),R.push([G.length,v]),[G,R,P]}function k(V,D,I){if(!V)return[D,I];const G=D,R=D+I;let W=(0,r.binarySearchFirstItem)(V,l=>l[0]>=G);V[W][0]>G&&--W;let v=(0,r.binarySearchFirstItem)(V,l=>l[0]>=R,W);return V[v][0]>R&&--v,[G+V[W][1],I+V[v][1]-V[W][1]]}e.PDFFindController=class{constructor({linkService:D,eventBus:I}){this._linkService=D,this._eventBus=I,this._reset(),I._on("find",this._onFind.bind(this)),I._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(G,R)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const W=Object.assign(Object.create(null),R,{type:G.substring("find".length)});this._onFind(W)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(D){this._pdfDocument&&this._reset(),D&&(this._pdfDocument=D,this._firstPageCapability.resolve())}_onFind(D){if(!D)return;const I=this._pdfDocument,{type:G}=D;(null===this._state||this._shouldDirtyMatch(D))&&(this._dirtyMatch=!0),this._state=D,"highlightallchange"!==G&&this._updateUIState(T.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||I&&this._pdfDocument!==I)return;this._extractText();const R=!this._highlightMatches,W=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),G?this._dirtyMatch?this._nextMatch():"again"===G?(this._nextMatch(),R&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===G?(W?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:D=null,selectedLeft:I=0,pageIndex:G=-1,matchIndex:R=-1}){this._scrollMatches&&D&&-1!==R&&R===this._selected.matchIdx&&-1!==G&&G===this._selected.pageIdx&&(this._scrollMatches=!1,(0,r.scrollIntoView)(D,{top:-50,left:I+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,c.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=O(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(D){if(D.query!==this._state.query)return!0;switch(D.type){case"again":const I=this._selected.pageIdx+1,G=this._linkService;return I>=1&&I<=G.pagesCount&&I!==G.page&&!G.isPageVisible(I);case"highlightallchange":return!1}return!0}_isEntireWord(D,I,G){let R=D.slice(0,I).match(S);if(R){const W=D.charCodeAt(I),v=R[1].charCodeAt(0);if((0,f.getCharacterType)(W)===(0,f.getCharacterType)(v))return!1}if(R=D.slice(I+G).match(b),R){const W=D.charCodeAt(I+G-1),v=R[1].charCodeAt(0);if((0,f.getCharacterType)(W)===(0,f.getCharacterType)(v))return!1}return!0}_calculateRegExpMatch(D,I,G,R){const W=[],v=[],l=this._pageDiffs[G];let o;for(;null!==(o=D.exec(R));){if(I&&!this._isEntireWord(R,o.index,o[0].length))continue;const[P,g]=k(l,o.index,o[0].length);g&&(W.push(P),v.push(g))}this._pageMatches[G]=W,this._pageMatchesLength[G]=v}_convertToRegExpString(D,I){const{matchDiacritics:G}=this._state;let R=!1;const W="[ ]*";return(D=D.replace(n,(v,l,o,P,g,E)=>l?`[ ]*\\${l}[ ]*`:o?`[ ]*${o}[ ]*`:P?"[ ]+":G?g||E:g?y.has(g.charCodeAt(0))?g:"":I?(R=!0,`${E}\\p{M}*`):E)).endsWith(W)&&(D=D.slice(0,D.length-W.length)),G&&I&&(R=!0,D=`${D}(?=[${_}]|[^\\p{M}]|$)`),[R,D]}_calculateMatch(D){let I=this._query;if(0===I.length)return;const{caseSensitive:G,entireWord:R,phraseSearch:W}=this._state,v=this._pageContents[D],l=this._hasDiacritics[D];let o=!1;if(W)[o,I]=this._convertToRegExpString(I,l);else{const E=I.match(/\S+/g);E&&(I=E.sort().reverse().map(s=>{const[C,x]=this._convertToRegExpString(s,l);return o||(o=C),`(${x})`}).join("|"))}I=new RegExp(I,`g${o?"u":""}${G?"":"i"}`),this._calculateRegExpMatch(I,R,D,v),this._state.highlightAll&&this._updatePage(D),this._resumePageIdx===D&&(this._resumePageIdx=null,this._nextPageMatch());const g=this._pageMatches[D].length;g>0&&(this._matchesCountTotal+=g,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let D=Promise.resolve();for(let I=0,G=this._linkService.pagesCount;I<G;I++){const R=(0,c.createPromiseCapability)();this._extractTextPromises[I]=R.promise,D=D.then(()=>this._pdfDocument.getPage(I+1).then(W=>W.getTextContent()).then(W=>{const v=W.items,l=[];for(let o=0,P=v.length;o<P;o++)l.push(v[o].str),v[o].hasEOL&&l.push("\n");[this._pageContents[I],this._pageDiffs[I],this._hasDiacritics[I]]=O(l.join("")),R.resolve(I)},W=>{console.error(`Unable to get text content for page ${I+1}`,W),this._pageContents[I]="",this._pageDiffs[I]=null,this._hasDiacritics[I]=!1,R.resolve(I)}))}}_updatePage(D){this._scrollMatches&&this._selected.pageIdx===D&&(this._linkService.page=D+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:D})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const D=this._state.findPrevious,I=this._linkService.page-1,G=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=I,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let W=0;W<G;W++)this._pendingFindMatches.has(W)||(this._pendingFindMatches.add(W),this._extractTextPromises[W].then(v=>{this._pendingFindMatches.delete(v),this._calculateMatch(v)}))}if(""===this._query)return void this._updateUIState(T.FOUND);if(this._resumePageIdx)return;const R=this._offset;if(this._pagesToSearch=G,null!==R.matchIdx){const W=this._pageMatches[R.pageIdx].length;if(!D&&R.matchIdx+1<W||D&&R.matchIdx>0)return R.matchIdx=D?R.matchIdx-1:R.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(D)}this._nextPageMatch()}_matchesReady(D){const I=this._offset,G=D.length,R=this._state.findPrevious;return G?(I.matchIdx=R?G-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(R),!!(I.wrapped&&(I.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let D=null;do{const I=this._offset.pageIdx;if(D=this._pageMatches[I],!D){this._resumePageIdx=I;break}}while(!this._matchesReady(D))}_advanceOffsetPage(D){const I=this._offset,G=this._linkService.pagesCount;I.pageIdx=D?I.pageIdx-1:I.pageIdx+1,I.matchIdx=null,this._pagesToSearch--,(I.pageIdx>=G||I.pageIdx<0)&&(I.pageIdx=D?G-1:0,I.wrapped=!0)}_updateMatch(D=!1){let I=T.NOT_FOUND;const G=this._offset.wrapped;if(this._offset.wrapped=!1,D){const R=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,I=G?T.WRAPPED:T.FOUND,-1!==R&&R!==this._selected.pageIdx&&this._updatePage(R)}this._updateUIState(I,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(D){const I=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||I&&this._pdfDocument!==I||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(T.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var W;const{pageIdx:D,matchIdx:I}=this._selected;let G=0,R=this._matchesCountTotal;if(-1!==I){for(let v=0;v<D;v++)G+=(null==(W=this._pageMatches[v])?void 0:W.length)||0;G+=I+1}return(G<1||G>R)&&(G=R=0),{current:G,total:R}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(D,I=!1){var G,R;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:D,previous:I,matchesCount:this._requestMatchesCount(),rawQuery:null!=(R=null==(G=this._state)?void 0:G.query)?R:null})}}},(M,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterType=void 0,e.getCharacterType=function(n){return function(n){return n<11904}(n)?function(n){return 0==(65408&n)}(n)?function(n){return 32===n||9===n||13===n||10===n}(n)?d.SPACE:function(n){return n>=97&&n<=122||n>=65&&n<=90}(n)||function(n){return n>=48&&n<=57}(n)||95===n?d.ALPHA_LETTER:d.PUNCT:function(n){return 3584==(65408&n)}(n)?d.THAI_LETTER:160===n?d.SPACE:d.ALPHA_LETTER:function(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}(n)?d.HAN_LETTER:function(n){return n>=12448&&n<=12543}(n)?d.KATAKANA_LETTER:function(n){return n>=12352&&n<=12447}(n)?d.HIRAGANA_LETTER:function(n){return n>=65376&&n<=65439}(n)?d.HALFWIDTH_KATAKANA_LETTER:d.ALPHA_LETTER};const d={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};e.CharacterType=d},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFHistory=void 0,e.isDestArraysEqual=y,e.isDestHashesEqual=F;var r=d(6),c=d(17);function a(){return document.location.hash}function F(_,t){return"string"==typeof _&&"string"==typeof t&&(_===t||(0,r.parseQueryString)(_).get("nameddest")===t)}function y(_,t){function n(S,b){if(typeof S!=typeof b||Array.isArray(S)||Array.isArray(b))return!1;if(null!==S&&"object"==typeof S&&null!==b){if(Object.keys(S).length!==Object.keys(b).length)return!1;for(const A in S)if(!n(S[A],b[A]))return!1;return!0}return S===b||Number.isNaN(S)&&Number.isNaN(b)}if(!Array.isArray(_)||!Array.isArray(t)||_.length!==t.length)return!1;for(let S=0,b=_.length;S<b;S++)if(!n(_[S],t[S]))return!1;return!0}e.PDFHistory=class{constructor({linkService:t,eventBus:n}){this.linkService=t,this.eventBus=n,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",S=>{this._isViewerInPresentationMode=S.state!==r.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",S=>{this._isPagesLoaded=!!S.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:n=!1,updateUrl:S=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const b=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===S,this._initialized=!0,this._bindEvents();const A=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=a(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(A,!0)||n){const{hash:k,page:B,rotation:V}=this._parseCurrentHash(!0);return!k||b||n?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:k,page:B,rotation:V},!0)}const O=A.destination;this._updateInternalState(O,A.uid,!0),void 0!==O.rotation&&(this._initialRotation=O.rotation),O.dest?(this._initialBookmark=JSON.stringify(O.dest),this._destination.page=null):O.hash?this._initialBookmark=O.hash:O.page&&(this._initialBookmark=`page=${O.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:n,pageNumber:S}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(n))return void console.error(`PDFHistory.push: "${n}" is not a valid explicitDest parameter.`);if(!this._isValidPage(S)&&(null!==S||this._destination))return void console.error(`PDFHistory.push: "${S}" is not a valid pageNumber parameter.`);const b=t||JSON.stringify(n);if(!b)return;let A=!1;if(this._destination&&(F(this._destination.hash,b)||y(this._destination.dest,n))){if(this._destination.page)return;A=!0}this._popStateInProgress&&!A||(this._pushOrReplaceState({dest:n,hash:b,page:S,rotation:this.linkService.rotation},A),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){var n;if(this._initialized){if(!this._isValidPage(t))return void console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);(null==(n=this._destination)?void 0:n.page)!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,n=!1){const S=n||!this._destination,b={fingerprint:this._fingerprint,uid:S?this._uid:this._uid+1,destination:t};let A;if(this._updateInternalState(t,b.uid),this._updateUrl&&(null==t?void 0:t.hash)){const O=document.location.href.split("#")[0];O.startsWith("file://")||(A=`${O}#${t.hash}`)}S?window.history.replaceState(b,"",A):window.history.pushState(b,"",A)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let n=this._position;if(t&&(n=Object.assign(Object.create(null),this._position),n.temporary=!0),!this._destination)return void this._pushOrReplaceState(n);if(this._destination.temporary)return void this._pushOrReplaceState(n,!0);if(this._destination.hash===n.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let S=!1;if(this._destination.page>=n.first&&this._destination.page<=n.page){if(void 0!==this._destination.dest||!this._destination.first)return;S=!0}this._pushOrReplaceState(n,S)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,n=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!n)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[S]=performance.getEntriesByType("navigation");if("reload"!==(null==S?void 0:S.type))return!1}}return!(!Number.isInteger(t.uid)||t.uid<0||null===t.destination||"object"!=typeof t.destination)}_updateInternalState(t,n,S=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),S&&(null==t?void 0:t.temporary)&&delete t.temporary,this._destination=t,this._uid=n,this._maxUid=Math.max(this._maxUid,n),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const n=unescape(a()).substring(1),S=(0,r.parseQueryString)(n),b=S.get("nameddest")||"";let A=0|S.get("page");return(!this._isValidPage(A)||t&&b.length>0)&&(A=null),{hash:n,page:A,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${t.pageNumber}`:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const n=a(),S=this._currentHash!==n;if(this._currentHash=n,!t){this._uid++;const{hash:A,page:O,rotation:k}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:A,page:O,rotation:k},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,S&&(this._blockHashChange++,(0,c.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const b=t.destination;this._updateInternalState(b,t.uid,!0),(0,r.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFScriptingManager=void 0;var r=d(6),c=d(3);e.PDFScriptingManager=class{constructor({eventBus:u,sandboxBundleSrc:a=null,scriptingFactory:h=null,docPropertiesLookup:F=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=u,this._sandboxBundleSrc=a,this._scriptingFactory=h,this._docPropertiesLookup=F,this._scriptingFactory||window.addEventListener("updatefromsandbox",y=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:y.detail})})}setViewer(u){this._pdfViewer=u}setDocument(u){var a=this;return m(function*(){var _;if(a._pdfDocument&&(yield a._destroyScripting()),a._pdfDocument=u,!u)return;const[h,F,y]=yield Promise.all([u.getFieldObjects(),u.getCalculationOrderIds(),u.getJSActions()]);if(h||y){if(u===a._pdfDocument){try{a._scripting=a._createScripting()}catch(t){return console.error(`PDFScriptingManager.setDocument: "${null==t?void 0:t.message}".`),void(yield a._destroyScripting())}a._internalEvents.set("updatefromsandbox",t=>{(null==t?void 0:t.source)===window&&a._updateFromSandbox(t.detail)}),a._internalEvents.set("dispatcheventinsandbox",t=>{var n;null==(n=a._scripting)||n.dispatchEventInSandbox(t.detail)}),a._internalEvents.set("pagechanging",({pageNumber:t,previous:n})=>{t!==n&&(a._dispatchPageClose(n),a._dispatchPageOpen(t))}),a._internalEvents.set("pagerendered",({pageNumber:t})=>{!a._pageOpenPending.has(t)||t===a._pdfViewer.currentPageNumber&&a._dispatchPageOpen(t)}),a._internalEvents.set("pagesdestroy",function(){var t=m(function*(n){var S,b;yield a._dispatchPageClose(a._pdfViewer.currentPageNumber),yield null==(S=a._scripting)?void 0:S.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(b=a._closeCapability)||b.resolve()});return function(n){return t.apply(this,arguments)}}()),a._domEvents.set("mousedown",t=>{a._mouseState.isDown=!0}),a._domEvents.set("mouseup",t=>{a._mouseState.isDown=!1});for(const[t,n]of a._internalEvents)a._eventBus._on(t,n);for(const[t,n]of a._domEvents)window.addEventListener(t,n);try{const t=yield a._getDocProperties();if(u!==a._pdfDocument)return;yield a._scripting.createSandbox({objects:h,calculationOrder:F,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:$e(Xe({},t),{actions:y})}),a._eventBus.dispatch("sandboxcreated",{source:a})}catch(t){return console.error(`PDFScriptingManager.setDocument: "${null==t?void 0:t.message}".`),void(yield a._destroyScripting())}yield null==(_=a._scripting)?void 0:_.dispatchEventInSandbox({id:"doc",name:"Open"}),yield a._dispatchPageOpen(a._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{u===a._pdfDocument&&(a._ready=!0)})}}else yield a._destroyScripting()})()}dispatchWillSave(u){var a=this;return m(function*(){var h;return null==(h=a._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(u){var a=this;return m(function*(){var h;return null==(h=a._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(u){var a=this;return m(function*(){var h;return null==(h=a._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(u){var a=this;return m(function*(){var h;return null==(h=a._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var u;return(null==(u=this._destroyCapability)?void 0:u.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,c.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,c.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,c.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,c.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(u){var a=this;return m(function*(){var S;const h=a._pdfViewer.isInPresentationMode||a._pdfViewer.isChangingPresentationMode,{id:F,siblings:y,command:_,value:t}=u;if(!F){switch(_){case"clear":console.clear();break;case"error":console.error(t);break;case"layout":if(h)return;const b=(0,r.apiPageLayoutToViewerModes)(t);a._pdfViewer.spreadMode=b.spreadMode;break;case"page-num":a._pdfViewer.currentPageNumber=t+1;break;case"print":yield a._pdfViewer.pagesPromise,a._eventBus.dispatch("print",{source:a});break;case"println":console.log(t);break;case"zoom":if(h)return;a._pdfViewer.currentScaleValue=t;break;case"SaveAs":a._eventBus.dispatch("save",{source:a});break;case"FirstPage":a._pdfViewer.currentPageNumber=1;break;case"LastPage":a._pdfViewer.currentPageNumber=a._pdfViewer.pagesCount;break;case"NextPage":a._pdfViewer.nextPage();break;case"PrevPage":a._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;a._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;a._pdfViewer.decreaseScale()}return}if(h&&u.focus)return;delete u.id,delete u.siblings;const n=y?[F,...y]:[F];for(const b of n){const A=document.getElementById(b);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:u})):null==(S=a._pdfDocument)||S.annotationStorage.setValue(b,u)}})()}_dispatchPageOpen(u,a=!1){var h=this;return m(function*(){const F=h._pdfDocument,y=h._visitedPages;if(a&&(h._closeCapability=(0,c.createPromiseCapability)()),!h._closeCapability)return;const _=h._pdfViewer.getPageView(u-1);if((null==_?void 0:_.renderingState)!==r.RenderingStates.FINISHED)return void h._pageOpenPending.add(u);h._pageOpenPending.delete(u);const t=m(function*(){var S,b;const n=yield y.has(u)?null:null==(S=_.pdfPage)?void 0:S.getJSActions();F===h._pdfDocument&&(yield null==(b=h._scripting)?void 0:b.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:u,actions:n}))})();y.set(u,t)})()}_dispatchPageClose(u){var a=this;return m(function*(){var _;const h=a._pdfDocument,F=a._visitedPages;if(!a._closeCapability||a._pageOpenPending.has(u))return;const y=F.get(u);!y||(F.set(u,null),yield y,h===a._pdfDocument&&(yield null==(_=a._scripting)?void 0:_.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:u})))})()}_getDocProperties(){var u=this;return m(function*(){if(u._docPropertiesLookup)return u._docPropertiesLookup(u._pdfDocument);const{docPropertiesLookup:a}=d(24);return a(u._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,c.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:u}=d(24);return new u(this._sandboxBundleSrc)}_destroyScripting(){var u=this;return m(function*(){var a,h;if(!u._scripting)return u._pdfDocument=null,void(null==(a=u._destroyCapability)||a.resolve());u._closeCapability&&(yield Promise.race([u._closeCapability.promise,new Promise(F=>{setTimeout(F,1e3)})]).catch(F=>{}),u._closeCapability=null),u._pdfDocument=null;try{yield u._scripting.destroySandbox()}catch(F){}for(const[F,y]of u._internalEvents)u._eventBus._off(F,y);u._internalEvents.clear();for(const[F,y]of u._domEvents)window.removeEventListener(F,y);u._domEvents.clear(),u._pageOpenPending.clear(),u._visitedPages.clear(),u._scripting=null,delete u._mouseState.isDown,u._ready=!1,null==(h=u._destroyCapability)||h.resolve()})()}}},(M,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GenericScripting=void 0,e.docPropertiesLookup=function(u){return f.apply(this,arguments)};var r=d(3);function f(){return(f=m(function*(u){const h="".split("#")[0];let{info:F,metadata:y,contentDispositionFilename:_,contentLength:t}=yield u.getMetadata();if(!t){const{length:n}=yield u.getDownloadInfo();t=n}return $e(Xe({},F),{baseURL:h,filesize:t,filename:_||(0,r.getPdfFilenameFromUrl)(""),metadata:null==y?void 0:y.getRaw(),authors:null==y?void 0:y.get("dc:creator"),numPages:u.numPages,URL:""})})).apply(this,arguments)}e.GenericScripting=class{constructor(a){this._ready=(0,r.loadScript)(a,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(a){var h=this;return m(function*(){(yield h._ready).create(a)})()}dispatchEventInSandbox(a){var h=this;return m(function*(){const F=yield h._ready;setTimeout(()=>F.dispatchEvent(a),0)})()}destroySandbox(){var a=this;return m(function*(){(yield a._ready).nukeSandbox()})()}}}],ne={};function se(M){var e=ne[M];if(void 0!==e)return e.exports;var d=ne[M]={exports:{}};return re[M](d,d.exports,se),d.exports}var J={};return(()=>{var M=J;Object.defineProperty(M,"__esModule",{value:!0}),Object.defineProperty(M,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return f.AnnotationLayerBuilder}}),Object.defineProperty(M,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return e.DefaultAnnotationLayerFactory}}),Object.defineProperty(M,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return e.DefaultStructTreeLayerFactory}}),Object.defineProperty(M,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return e.DefaultTextLayerFactory}}),Object.defineProperty(M,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return e.DefaultXfaLayerFactory}}),Object.defineProperty(M,"DownloadManager",{enumerable:!0,get:function(){return T.DownloadManager}}),Object.defineProperty(M,"EventBus",{enumerable:!0,get:function(){return u.EventBus}}),Object.defineProperty(M,"GenericL10n",{enumerable:!0,get:function(){return a.GenericL10n}}),Object.defineProperty(M,"LinkTarget",{enumerable:!0,get:function(){return d.LinkTarget}}),Object.defineProperty(M,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(M,"PDFFindController",{enumerable:!0,get:function(){return F.PDFFindController}}),Object.defineProperty(M,"PDFHistory",{enumerable:!0,get:function(){return y.PDFHistory}}),Object.defineProperty(M,"PDFLinkService",{enumerable:!0,get:function(){return d.PDFLinkService}}),Object.defineProperty(M,"PDFPageView",{enumerable:!0,get:function(){return _.PDFPageView}}),Object.defineProperty(M,"PDFScriptingManager",{enumerable:!0,get:function(){return t.PDFScriptingManager}}),Object.defineProperty(M,"PDFSinglePageViewer",{enumerable:!0,get:function(){return c.PDFSinglePageViewer}}),Object.defineProperty(M,"PDFViewer",{enumerable:!0,get:function(){return c.PDFViewer}}),Object.defineProperty(M,"ProgressBar",{enumerable:!0,get:function(){return r.ProgressBar}}),Object.defineProperty(M,"SimpleLinkService",{enumerable:!0,get:function(){return d.SimpleLinkService}}),Object.defineProperty(M,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return n.StructTreeLayerBuilder}}),Object.defineProperty(M,"TextLayerBuilder",{enumerable:!0,get:function(){return S.TextLayerBuilder}}),Object.defineProperty(M,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(M,"parseQueryString",{enumerable:!0,get:function(){return r.parseQueryString}});var e=se(1),d=se(5),r=se(6),c=se(10),f=se(2),T=se(16),u=se(17),a=se(18),h=se(4),F=se(20),y=se(22),_=se(12),t=se(23),n=se(7),S=se(8),b=se(9)})(),J})()},8926:le=>{function L(m,re,ne,se,J,M,e){try{var d=m[M](e),r=d.value}catch(c){return void ne(c)}d.done?re(r):Promise.resolve(r).then(se,J)}le.exports=function(m){return function(){var re=this,ne=arguments;return new Promise(function(se,J){var M=m.apply(re,ne);function e(r){L(M,se,J,e,d,"next",r)}function d(r){L(M,se,J,e,d,"throw",r)}e(void 0)})}},le.exports.default=le.exports,le.exports.__esModule=!0},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);