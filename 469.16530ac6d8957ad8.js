var tt=Object.defineProperty,nt=Object.defineProperties,it=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,qe=(le,k,K)=>k in le?tt(le,k,{enumerable:!0,configurable:!0,writable:!0,value:K}):le[k]=K,Xe=(le,k)=>{for(var K in k||(k={}))st.call(k,K)&&qe(le,K,k[K]);if(Qe)for(var K of Qe(k))rt.call(k,K)&&qe(le,K,k[K]);return le},$e=(le,k)=>nt(le,it(k)),je=(le,k,K)=>(qe(le,"symbol"!=typeof k?k+"":k,K),K),Ye=(le,k,K)=>{if(!k.has(le))throw TypeError("Cannot "+K)},ue=(le,k,K)=>(Ye(le,k,"read from private field"),K?K.call(le):k.get(le)),ye=(le,k,K)=>{if(k.has(le))throw TypeError("Cannot add the same private member more than once");k instanceof WeakSet?k.add(le):k.set(le,K)},Pe=(le,k,K,b)=>(Ye(le,k,"write to private field"),b?b.call(le,K):k.set(le,K),K),xe=(le,k,K)=>(Ye(le,k,"access private method"),K);(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[469],{9469:(le,k,K)=>{"use strict";K.r(k),K.d(k,{BalanceModule:()=>te});var b=K(4603),oe=K(8966),ie=K(4521),re=K(7423),ee=K(9832),L=K(4834),e=K(5245),d=K(2181),s=K(5899),c=K(4847),f=K(4999),T=K(7238),u=K(1244),r=K(4466),h=K(5e3),M=K(4968),P=K(7579),m=K(2076),t=K(2722),i=K(8372),v=K(9300),_=K(6036),A=K.t(_,2),O=K(2813),F=K.t(O,2);const B=["pdfViewerContainer"];function V(Y,ne){const U=new Y.EventBus;return function(Y,ne){(0,M.R)(Y,"documentload").pipe((0,t.R)(ne)).subscribe(()=>{const U=document.createEvent("CustomEvent");U.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(U)}),(0,M.R)(Y,"pagerendered").pipe((0,t.R)(ne)).subscribe(({pageNumber:U,cssTransform:a,source:w})=>{const X=document.createEvent("CustomEvent");X.initCustomEvent("pagerendered",!0,!0,{pageNumber:U,cssTransform:a}),w.div.dispatchEvent(X)}),(0,M.R)(Y,"textlayerrendered").pipe((0,t.R)(ne)).subscribe(({pageNumber:U,source:a})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:U}),a.textLayerDiv.dispatchEvent(w)}),(0,M.R)(Y,"pagechanging").pipe((0,t.R)(ne)).subscribe(({pageNumber:U,source:a})=>{const w=document.createEvent("UIEvents");w.initEvent("pagechanging",!0,!0),w.pageNumber=U,a.container.dispatchEvent(w)}),(0,M.R)(Y,"pagesinit").pipe((0,t.R)(ne)).subscribe(({source:U})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagesinit",!0,!0,null),U.container.dispatchEvent(a)}),(0,M.R)(Y,"pagesloaded").pipe((0,t.R)(ne)).subscribe(({pagesCount:U,source:a})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("pagesloaded",!0,!0,{pagesCount:U}),a.container.dispatchEvent(w)}),(0,M.R)(Y,"scalechange").pipe((0,t.R)(ne)).subscribe(({scale:U,presetValue:a,source:w})=>{const X=document.createEvent("UIEvents");X.initEvent("scalechange",!0,!0),X.scale=U,X.presetValue=a,w.container.dispatchEvent(X)}),(0,M.R)(Y,"updateviewarea").pipe((0,t.R)(ne)).subscribe(({location:U,source:a})=>{const w=document.createEvent("UIEvents");w.initEvent("updateviewarea",!0,!0),w.location=U,a.container.dispatchEvent(w)}),(0,M.R)(Y,"find").pipe((0,t.R)(ne)).subscribe(({source:U,type:a,query:w,phraseSearch:X,caseSensitive:G,highlightAll:q,findPrevious:ae})=>{if(U===window)return;const ce=document.createEvent("CustomEvent");ce.initCustomEvent("find"+a,!0,!0,{query:w,phraseSearch:X,caseSensitive:G,highlightAll:q,findPrevious:ae}),window.dispatchEvent(ce)}),(0,M.R)(Y,"attachmentsloaded").pipe((0,t.R)(ne)).subscribe(({attachmentsCount:U,source:a})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:U}),a.container.dispatchEvent(w)}),(0,M.R)(Y,"sidebarviewchanged").pipe((0,t.R)(ne)).subscribe(({view:U,source:a})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("sidebarviewchanged",!0,!0,{view:U}),a.outerContainer.dispatchEvent(w)}),(0,M.R)(Y,"pagemode").pipe((0,t.R)(ne)).subscribe(({mode:U,source:a})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("pagemode",!0,!0,{mode:U}),a.pdfViewer.container.dispatchEvent(w)}),(0,M.R)(Y,"namedaction").pipe((0,t.R)(ne)).subscribe(({action:U,source:a})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("namedaction",!0,!0,{action:U}),a.pdfViewer.container.dispatchEvent(w)}),(0,M.R)(Y,"presentationmodechanged").pipe((0,t.R)(ne)).subscribe(({active:U,switchInProgress:a})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("presentationmodechanged",!0,!0,{active:U,switchInProgress:a}),window.dispatchEvent(w)}),(0,M.R)(Y,"outlineloaded").pipe((0,t.R)(ne)).subscribe(({outlineCount:U,source:a})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("outlineloaded",!0,!0,{outlineCount:U}),a.container.dispatchEvent(w)})}(U,ne),U}function I(Y,ne,U){Y[ne]=U}function W(){return"undefined"==typeof window}W()||I(A,"verbosity",_.VerbosityLevel.INFOS);var R=(()=>{return(Y=R||(R={}))[Y.DISABLED=0]="DISABLED",Y[Y.ENABLED=1]="ENABLED",Y[Y.ENHANCED=2]="ENHANCED",R;var Y})();let H=(()=>{class Y{constructor(U,a){if(this.element=U,this.ngZone=a,this.isVisible=!1,this._cMapsUrl=void 0!==A?`https://unpkg.com/pdfjs-dist@${_.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=R.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new P.x,this.afterLoadComplete=new h.vpe,this.pageRendered=new h.vpe,this.pageInitialized=new h.vpe,this.textLayerRendered=new h.vpe,this.onError=new h.vpe,this.onProgress=new h.vpe,this.pageChange=new h.vpe(!0),W())return;let w;w=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${_.version}/legacy/build/pdf.worker.min.js`,I(_.GlobalWorkerOptions,"workerSrc",w)}set cMapsUrl(U){this._cMapsUrl=U}set page(U){const a=U=parseInt(U,10)||1;this._pdf&&(U=this.getValidPageNumber(U)),this._page=U,a!==U&&this.pageChange.emit(U)}set renderText(U){this._renderText=U}set renderTextMode(U){this._renderTextMode=U}set originalSize(U){this._originalSize=U}set showAll(U){this._showAll=U}set stickToPage(U){this._stickToPage=U}set zoom(U){U<=0||(this._zoom=U)}get zoom(){return this._zoom}set zoomScale(U){this._zoomScale=U}get zoomScale(){return this._zoomScale}set rotation(U){"number"==typeof U&&U%90==0?this._rotation=U:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(U){this._externalLinkTarget=U}set autoresize(U){this._canAutoResize=Boolean(U)}set fitToPage(U){this._fitToPage=Boolean(U)}set showBorders(U){this._showBorders=Boolean(U)}static getLinkTarget(U){switch(U){case"blank":return O.LinkTarget.BLANK;case"none":return O.LinkTarget.NONE;case"self":return O.LinkTarget.SELF;case"parent":return O.LinkTarget.PARENT;case"top":return O.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const U=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=U?!1===this.isVisible&&null!=U&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(U){if(!W()&&this.isVisible)if("src"in U)this.loadPDF();else if(this._pdf){if("renderText"in U?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:R.DISABLED,this.resetPdfDocument()):"showAll"in U&&this.resetPdfDocument(),"page"in U){const{page:a}=U;if(a.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const U=this.getCurrentViewer();(0,m.D)(this._pdf.getPage(U.currentPageNumber)).pipe((0,t.R)(this.destroy$)).subscribe({next:a=>{const w=this._rotation||a.rotate,X=a.getViewport({scale:this._zoom,rotation:w}).width*Y.CSS_UNITS;let G=this._zoom,q=!0;if(!this._originalSize||this._fitToPage&&X>this.pdfViewerContainer.nativeElement.clientWidth){const ae=a.getViewport({scale:1,rotation:w});G=this.getScale(ae.width,ae.height),q=!this._stickToPage}U._setScale(G,q)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const U={},a=Y.getLinkTarget(this._externalLinkTarget);return a&&(U.externalLinkTarget=a),U}setupMultiPageViewer(){I(A,"disableTextLayer",!this._renderText);const U=V(F,this.destroy$);(0,M.R)(U,"pagerendered").pipe((0,t.R)(this.destroy$)).subscribe(w=>{this.pageRendered.emit(w)}),(0,M.R)(U,"pagesinit").pipe((0,t.R)(this.destroy$)).subscribe(w=>{this.pageInitialized.emit(w)}),(0,M.R)(U,"pagechanging").pipe((0,t.R)(this.destroy$)).subscribe(({pageNumber:w})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=w,this.pageChange.emit(w)},100)}),(0,M.R)(U,"textlayerrendered").pipe((0,t.R)(this.destroy$)).subscribe(w=>{this.textLayerRendered.emit(w)}),this.pdfMultiPageLinkService=new O.PDFLinkService(Object.assign({eventBus:U},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new O.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:U});const a={eventBus:U,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:R.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new O.PDFViewer(a),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){I(A,"disableTextLayer",!this._renderText);const U=V(F,this.destroy$);(0,M.R)(U,"pagechanging").pipe((0,t.R)(this.destroy$)).subscribe(({pageNumber:w})=>{w!==this._page&&(this.page=w)}),(0,M.R)(U,"pagerendered").pipe((0,t.R)(this.destroy$)).subscribe(w=>{this.pageRendered.emit(w)}),(0,M.R)(U,"pagesinit").pipe((0,t.R)(this.destroy$)).subscribe(w=>{this.pageInitialized.emit(w)}),(0,M.R)(U,"textlayerrendered").pipe((0,t.R)(this.destroy$)).subscribe(w=>{this.textLayerRendered.emit(w)}),this.pdfSinglePageLinkService=new O.PDFLinkService(Object.assign({eventBus:U},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new O.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:U});const a={eventBus:U,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:R.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new O.PDFSinglePageViewer(a),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(U){return U<1?1:U>this._pdf.numPages?this._pdf.numPages:U}getDocumentParams(){const U=typeof this.src;if(!this._cMapsUrl)return this.src;const a={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===U?a.url=this.src:"object"===U&&(void 0!==this.src.byteLength?a.data=this.src:Object.assign(a,this.src)),a}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=_.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=a=>{this.onProgress.emit(a)};const U=this.src;(0,m.D)(this.loadingTask.promise).pipe((0,t.R)(this.destroy$)).subscribe({next:a=>{this._pdf=a,this.lastLoaded=U,this.afterLoadComplete.emit(a),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:a=>{this.lastLoaded=null,this.onError.emit(a)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const U=this.getCurrentViewer();(0!==this._rotation||U.pagesRotation!==this._rotation)&&setTimeout(()=>{U.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{U.currentPageNumber=this._page}),this.updateSize()}getScale(U,a){const w=this._showBorders?2*Y.BORDER_WIDTH:0,X=this.pdfViewerContainer.nativeElement.clientWidth-w,G=this.pdfViewerContainer.nativeElement.clientHeight-w;if(0===G||0===a||0===X||0===U)return 1;let q=1;switch(this._zoomScale){case"page-fit":q=Math.min(G/a,X/U);break;case"page-height":q=G/a;break;default:q=X/U}return this._zoom*q/Y.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){W()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){W()||this.ngZone.runOutsideAngular(()=>{(0,M.R)(window,"resize").pipe((0,i.b)(100),(0,v.h)(()=>this._canAutoResize&&!!this._pdf),(0,t.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return Y.CSS_UNITS=96/72,Y.BORDER_WIDTH=9,Y.\u0275fac=function(U){return new(U||Y)(h.Y36(h.SBq),h.Y36(h.R0b))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["pdf-viewer"]],viewQuery:function(U,a){if(1&U&&h.Gf(B,5),2&U){let w;h.iGM(w=h.CRH())&&(a.pdfViewerContainer=w.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[h.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(U,a){1&U&&(h.TgZ(0,"div",0,1),h._UZ(2,"div",2),h.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),Y})(),y=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=h.oAB({type:Y}),Y.\u0275inj=h.cJS({}),Y})(),l=(()=>{class Y{constructor(U,a){this.data=U,this.matDialogRef=a,console.log(U),this.iframeSrc=U}ngOnInit(){}close(){this.matDialogRef.close()}}return Y.\u0275fac=function(U){return new(U||Y)(h.Y36(oe.WI),h.Y36(oe.so))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["app-bank-guide-pdf-pop-up"]],decls:5,vars:1,consts:[[1,"m-10","flex","justify-center",2,"height","80%"],["frameborder","0",1,"w-full","h-full",3,"src"],[1,"flex","justify-center","w-full","my-5"],["mat-raised-button","",1,"text-white","bg-gray-500",3,"click"]],template:function(U,a){1&U&&(h.TgZ(0,"div",0),h._UZ(1,"pdf-viewer",1),h.qZA(),h.TgZ(2,"div",2),h.TgZ(3,"button",3),h.NdJ("click",function(){return a.close()}),h._uU(4," Cerrar "),h.qZA(),h.qZA()),2&U&&(h.xp6(1),h.Q6J("src",a.iframeSrc))},directives:[H,re.lW],styles:[""]}),Y})();var o=K(3075),S=K(4004),g=K(9122),E=K(4880),n=K(9568),C=K(9808);const x=function(Y){return{"background-color":Y}};function N(Y,ne){if(1&Y){const U=h.EpF();h.TgZ(0,"button",22),h.NdJ("click",function(){const X=h.CHM(U).$implicit;return h.oxw().openGuide(X.vc_url_flyer_megapunto)}),h._uU(1),h.qZA()}if(2&Y){const U=ne.$implicit;h.Akn(h.VKq(3,x,U.vc_hex_color)),h.xp6(1),h.hij(" ",U.vc_desc_corta_banco," ")}}const j=[{path:"",component:(()=>{class Y{constructor(U,a,w,X,G){this.fb=U,this._fuseNavigationService=a,this._fuseMediaWatcherService=w,this._balanceService=X,this._matDialog=G,this._unsubscribeAll=new P.x}ngOnInit(){this._fuseMediaWatcherService.onMediaChange$.pipe((0,t.R)(this._unsubscribeAll)).subscribe(({matchingAliases:U})=>{this.isScreenSmall=!U.includes("md")}),this.getBanks(),this.initData(),this.initBalanceForm()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}initData(){this.balance$=this._balanceService.getBalance().pipe((0,S.U)(U=>U.nu_saldo))}getBanks(){this.banks$=this._balanceService.getBanks()}trackByFn(U,a){return a.id||U}toggleNavigation(U){const a=this._fuseNavigationService.getComponent(U);a&&a.toggle()}openGuide(U){this._matDialog.open(l,{data:U,width:"90%",height:"90%"})}initBalanceForm(){this.balanceForm=this.fb.group({nu_id_comercio:["",o.kI.required],nu_id_tipo_moneda:["1",o.kI.required],nu_id_cta_cte:["",o.kI.required],ch_destino:["MX",o.kI.required],vc_nro_operacion:["",o.kI.required],nu_importe:["",o.kI.required],dt_fec_operacion:["",o.kI.required],vc_cadena_imagen:["",o.kI.required]})}}return Y.\u0275fac=function(U){return new(U||Y)(h.Y36(o.qu),h.Y36(g.Jf),h.Y36(E.T),h.Y36(n.m),h.Y36(oe.uw))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["balance"]],decls:38,vars:7,consts:[[1,"flex","flex-col","flex-auto","w-full",2,"background-color","#7c66f7"],[1,"flex-col","flex-auto","bg-card","relative","p-5","md:p-10",2,"border-top-left-radius","3rem !important","border-bottom-left-radius","3rem !important"],[1,"p-5","md:p-0"],["mat-icon-button","",1,"absolute","md:hidden","top-8","left-8",3,"click"],[3,"svgIcon"],[1,"ml-10","-mt-1.5","md:ml-0","md:mt-0","text-3xl","font-bold"],[1,"flex","flex-col","my-4","w-full","md:w-3/4"],[1,"min-h-40"],[1,"flex","items-center","mb-4"],[1,"text-lg","font-bold"],[1,"grid","grid-cols-1","sm:grid-cols-2","border-2","rounded-lg","p-2.5","sm:p-5"],[1,"flex","justify-center","items-center","px-3","py-1","border-2","shadow-sm","rounded-lg","w-full","sm:min-w-24","sm:max-w-60"],[1,"text-[#7c66f7]","font-bold","text-xl"],[1,"my-2","sm:mx-2"],[1,"block","font-semibold"],[1,"text-base","border-2","rounded-lg","min-h-40","mt-4","p-2.5","sm:p-5"],[1,"font-semibold","uppercase","tracking-wide"],[1,"w-1/6","border-[#7c66f7]","border-b-2","my-1"],[1,"mt-2","mb-4"],[1,"font-semibold"],[1,"grid","grid-cols-4","gap-2","mt-5","w-full"],["class","px-8 py-1 text-white rounded font-semibold w-28 mr-2",3,"style","click",4,"ngFor","ngForOf"],[1,"px-8","py-1","text-white","rounded","font-semibold","w-28","mr-2",3,"click"]],template:function(U,a){1&U&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"button",3),h.NdJ("click",function(){return a.toggleNavigation("mainNavigation")}),h._UZ(4,"mat-icon",4),h.qZA(),h.TgZ(5,"div",5),h._uU(6," Saldo "),h.qZA(),h.TgZ(7,"div",6),h.TgZ(8,"div",7),h.TgZ(9,"div",8),h.TgZ(10,"span",9),h._uU(11,"Tu saldo actual"),h.qZA(),h.qZA(),h.TgZ(12,"div",10),h.TgZ(13,"div",11),h.TgZ(14,"span",12),h._uU(15),h.ALo(16,"async"),h.qZA(),h.qZA(),h.TgZ(17,"div",13),h.TgZ(18,"span",14),h._uU(19,"\xdaltima fecha de tu recarga:"),h.qZA(),h.TgZ(20,"span"),h._uU(21,"30 de abril de 2020"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(22,"div",7),h.TgZ(23,"span",9),h._uU(24,"Informaci\xf3n de recargas"),h.qZA(),h.TgZ(25,"div",15),h.TgZ(26,"div",16),h._uU(27," \xbfQu\xe9 necesito para recargar mi saldo? "),h._UZ(28,"div",17),h.qZA(),h.TgZ(29,"div",18),h._uU(30," Tienes que depositar el monto que necesites a una de nuestra cuentas bancarias "),h.qZA(),h.TgZ(31,"div",19),h._uU(32," Nuestras cuentas bancarias "),h.qZA(),h.TgZ(33,"div"),h._uU(34," Puede realizar el dep\xf3sito en la cuenta que elijas: "),h.qZA(),h.TgZ(35,"div",20),h.YNc(36,N,2,5,"button",21),h.ALo(37,"async"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&U&&(h.xp6(4),h.Q6J("svgIcon","heroicons_outline:menu"),h.xp6(11),h.hij("S/ ",h.lcZ(16,3,a.balance$),""),h.xp6(21),h.Q6J("ngForOf",h.lcZ(37,5,a.banks$)))},directives:[re.lW,e.Hw,C.sg],pipes:[C.Ov],encapsulation:2,changeDetection:0}),Y})()}];var z=K(7322),$=K(4107),Z=K(7531);let te=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=h.oAB({type:Y}),Y.\u0275inj=h.cJS({imports:[[ie.Bz.forChild(j),re.ot,ee.vV,L.t,e.Ps,d.Tx,s.Cv,c.JX,f.p0,T.AV,u.X,r.m,z.lN,$.LD,Z.c,oe.Is,b.A,y]]}),Y})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,K;K=function(){return(()=>{"use strict";var __webpack_modules__=[,(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.VerbosityLevel=k.Util=k.UnknownErrorException=k.UnexpectedResponseException=k.UNSUPPORTED_FEATURES=k.TextRenderingMode=k.StreamType=k.RenderingIntentFlag=k.PermissionFlag=k.PasswordResponses=k.PasswordException=k.PageActionEventType=k.OPS=k.MissingPDFException=k.IsLittleEndianCached=k.IsEvalSupportedCached=k.InvalidPDFException=k.ImageKind=k.IDENTITY_MATRIX=k.FormatError=k.FontType=k.FONT_IDENTITY_MATRIX=k.DocumentActionEventType=k.CMapCompressionType=k.BaseException=k.AnnotationType=k.AnnotationStateModelType=k.AnnotationReviewState=k.AnnotationReplyType=k.AnnotationMode=k.AnnotationMarkedState=k.AnnotationFlag=k.AnnotationFieldFlag=k.AnnotationBorderStyleType=k.AnnotationActionEventType=k.AbortException=void 0,k.arrayByteLength=Z,k.arraysToBytes=function(se){const Q=se.length;if(1===Q&&se[0]instanceof Uint8Array)return se[0];let J=0;for(let be=0;be<Q;be++)J+=Z(se[be]);let de=0;const fe=new Uint8Array(J);for(let be=0;be<Q;be++){let Ae=se[be];Ae instanceof Uint8Array||(Ae="string"==typeof Ae?$(Ae):new Uint8Array(Ae));const Le=Ae.byteLength;fe.set(Ae,de),de+=Le}return fe},k.assert=function(se,Q){se||R(Q)},k.bytesToString=function(se){("object"!=typeof se||null===se||void 0===se.length)&&R("Invalid argument for bytesToString");const Q=se.length,J=8192;if(Q<J)return String.fromCharCode.apply(null,se);const de=[];for(let fe=0;fe<Q;fe+=J){const be=Math.min(fe+J,Q),Ae=se.subarray(fe,be);de.push(String.fromCharCode.apply(null,Ae))}return de.join("")},k.createPromiseCapability=function(){const se=Object.create(null);let Q=!1;return Object.defineProperty(se,"settled",{get:()=>Q}),se.promise=new Promise(function(J,de){se.resolve=function(fe){Q=!0,J(fe)},se.reject=function(fe){Q=!0,de(fe)}}),se},k.createValidAbsoluteUrl=function(se,Q=null,J=null){if(!se)return null;try{if(J&&"string"==typeof se){if(J.addDefaultProtocol&&se.startsWith("www.")){const fe=se.match(/\./g);fe&&fe.length>=2&&(se=`http://${se}`)}if(J.tryConvertEncoding)try{se=ve(se)}catch(fe){}}const de=Q?new URL(se,Q):new URL(se);if(function(se){if(!se)return!1;switch(se.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(de))return de}catch(de){}return null},k.escapeString=function(se){return se.replace(/([()\\\n\r])/g,Q=>"\n"===Q?"\\n":"\r"===Q?"\\r":`\\${Q}`)},k.getModificationDate=function(se=new Date){return[se.getUTCFullYear().toString(),(se.getUTCMonth()+1).toString().padStart(2,"0"),se.getUTCDate().toString().padStart(2,"0"),se.getUTCHours().toString().padStart(2,"0"),se.getUTCMinutes().toString().padStart(2,"0"),se.getUTCSeconds().toString().padStart(2,"0")].join("")},k.getVerbosityLevel=function(){return B},k.info=function(se){B>=v.INFOS&&console.log(`Info: ${se}`)},k.isArrayBuffer=function(se){return"object"==typeof se&&null!==se&&void 0!==se.byteLength},k.isArrayEqual=function(se,Q){if(se.length!==Q.length)return!1;for(let J=0,de=se.length;J<de;J++)if(se[J]!==Q[J])return!1;return!0},k.isAscii=function(se){return/^[\x00-\x7F]*$/.test(se)},k.isSameOrigin=function(se,Q){let J;try{if(J=new URL(se),!J.origin||"null"===J.origin)return!1}catch(fe){return!1}const de=new URL(Q,J);return J.origin===de.origin},k.objectFromMap=function(se){const Q=Object.create(null);for(const[J,de]of se)Q[J]=de;return Q},k.objectSize=function(se){return Object.keys(se).length},k.setVerbosityLevel=function(se){Number.isInteger(se)&&(B=se)},k.shadow=S,k.string32=function(se){return String.fromCharCode(se>>24&255,se>>16&255,se>>8&255,255&se)},k.stringToBytes=$,k.stringToPDFString=function(se){if(se[0]>="\xef"){let J;if("\xfe"===se[0]&&"\xff"===se[1]?J="utf-16be":"\xff"===se[0]&&"\xfe"===se[1]?J="utf-16le":"\xef"===se[0]&&"\xbb"===se[1]&&"\xbf"===se[2]&&(J="utf-8"),J)try{const de=new TextDecoder(J,{fatal:!0}),fe=$(se);return de.decode(fe)}catch(de){W(`stringToPDFString: "${de}".`)}}const Q=[];for(let J=0,de=se.length;J<de;J++){const fe=ce[se.charCodeAt(J)];Q.push(fe?String.fromCharCode(fe):se.charAt(J))}return Q.join("")},k.stringToUTF16BEString=function(se){const Q=["\xfe\xff"];for(let J=0,de=se.length;J<de;J++){const fe=se.charCodeAt(J);Q.push(String.fromCharCode(fe>>8&255),String.fromCharCode(255&fe))}return Q.join("")},k.stringToUTF8String=ve,k.unreachable=R,k.utf8StringToString=function(se){return unescape(encodeURIComponent(se))},k.warn=W,K(2),k.IDENTITY_MATRIX=[1,0,0,1,0,0],k.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],k.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},k.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},k.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},k.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},k.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},k.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},k.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},k.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},k.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},k.AnnotationReplyType={GROUP:"Group",REPLY:"R"},k.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},k.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},k.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},k.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},k.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},k.PageActionEventType={O:"PageOpen",C:"PageClose"},k.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},k.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const v={ERRORS:0,WARNINGS:1,INFOS:5};k.VerbosityLevel=v,k.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},k.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},k.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},k.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let B=v.WARNINGS;function W(se){B>=v.WARNINGS&&console.log(`Warning: ${se}`)}function R(se){throw new Error(se)}function S(se,Q,J){return Object.defineProperty(se,Q,{value:J,enumerable:!0,configurable:!0,writable:!1}),J}const g=function(){function Q(J,de){this.constructor===Q&&R("Cannot initialize BaseException."),this.message=J,this.name=de}return Q.prototype=new Error,Q.constructor=Q,Q}();function $(se){"string"!=typeof se&&R("Invalid argument for stringToBytes");const Q=se.length,J=new Uint8Array(Q);for(let de=0;de<Q;++de)J[de]=255&se.charCodeAt(de);return J}function Z(se){return void 0!==se.length?se.length:void 0!==se.byteLength?se.byteLength:void R("Invalid argument for arrayByteLength")}k.BaseException=g,k.PasswordException=class extends g{constructor(Q,J){super(Q,"PasswordException"),this.code=J}},k.UnknownErrorException=class extends g{constructor(Q,J){super(Q,"UnknownErrorException"),this.details=J}},k.InvalidPDFException=class extends g{constructor(Q){super(Q,"InvalidPDFException")}},k.MissingPDFException=class extends g{constructor(Q){super(Q,"MissingPDFException")}},k.UnexpectedResponseException=class extends g{constructor(Q,J){super(Q,"UnexpectedResponseException"),this.status=J}},k.FormatError=class extends g{constructor(Q){super(Q,"FormatError")}},k.AbortException=class extends g{constructor(Q){super(Q,"AbortException")}},k.IsLittleEndianCached={get value(){return S(this,"value",function(){const se=new Uint8Array(4);return se[0]=1,1===new Uint32Array(se.buffer,0,1)[0]}())}},k.IsEvalSupportedCached={get value(){return S(this,"value",function(){try{return new Function(""),!0}catch(se){return!1}}())}};const q=[...Array(256).keys()].map(se=>se.toString(16).padStart(2,"0"));class ae{static makeHexColor(Q,J,de){return`#${q[Q]}${q[J]}${q[de]}`}static transform(Q,J){return[Q[0]*J[0]+Q[2]*J[1],Q[1]*J[0]+Q[3]*J[1],Q[0]*J[2]+Q[2]*J[3],Q[1]*J[2]+Q[3]*J[3],Q[0]*J[4]+Q[2]*J[5]+Q[4],Q[1]*J[4]+Q[3]*J[5]+Q[5]]}static applyTransform(Q,J){return[Q[0]*J[0]+Q[1]*J[2]+J[4],Q[0]*J[1]+Q[1]*J[3]+J[5]]}static applyInverseTransform(Q,J){const de=J[0]*J[3]-J[1]*J[2];return[(Q[0]*J[3]-Q[1]*J[2]+J[2]*J[5]-J[4]*J[3])/de,(-Q[0]*J[1]+Q[1]*J[0]+J[4]*J[1]-J[5]*J[0])/de]}static getAxialAlignedBoundingBox(Q,J){const de=ae.applyTransform(Q,J),fe=ae.applyTransform(Q.slice(2,4),J),be=ae.applyTransform([Q[0],Q[3]],J),Ae=ae.applyTransform([Q[2],Q[1]],J);return[Math.min(de[0],fe[0],be[0],Ae[0]),Math.min(de[1],fe[1],be[1],Ae[1]),Math.max(de[0],fe[0],be[0],Ae[0]),Math.max(de[1],fe[1],be[1],Ae[1])]}static inverseTransform(Q){const J=Q[0]*Q[3]-Q[1]*Q[2];return[Q[3]/J,-Q[1]/J,-Q[2]/J,Q[0]/J,(Q[2]*Q[5]-Q[4]*Q[3])/J,(Q[4]*Q[1]-Q[5]*Q[0])/J]}static apply3dTransform(Q,J){return[Q[0]*J[0]+Q[1]*J[1]+Q[2]*J[2],Q[3]*J[0]+Q[4]*J[1]+Q[5]*J[2],Q[6]*J[0]+Q[7]*J[1]+Q[8]*J[2]]}static singularValueDecompose2dScale(Q){const J=[Q[0],Q[2],Q[1],Q[3]],de=Q[0]*J[0]+Q[1]*J[2],Ae=Q[2]*J[1]+Q[3]*J[3],Le=(de+Ae)/2,Fe=Math.sqrt((de+Ae)**2-4*(de*Ae-(Q[2]*J[0]+Q[3]*J[2])*(Q[0]*J[1]+Q[1]*J[3])))/2,Te=Le-Fe||1;return[Math.sqrt(Le+Fe||1),Math.sqrt(Te)]}static normalizeRect(Q){const J=Q.slice(0);return Q[0]>Q[2]&&(J[0]=Q[2],J[2]=Q[0]),Q[1]>Q[3]&&(J[1]=Q[3],J[3]=Q[1]),J}static intersect(Q,J){function de(Le,Fe){return Le-Fe}const fe=[Q[0],Q[2],J[0],J[2]].sort(de),be=[Q[1],Q[3],J[1],J[3]].sort(de),Ae=[];return Q=ae.normalizeRect(Q),J=ae.normalizeRect(J),fe[0]===Q[0]&&fe[1]===J[0]||fe[0]===J[0]&&fe[1]===Q[0]?(Ae[0]=fe[1],Ae[2]=fe[2],be[0]===Q[1]&&be[1]===J[1]||be[0]===J[1]&&be[1]===Q[1]?(Ae[1]=be[1],Ae[3]=be[2],Ae):null):null}static bezierBoundingBox(Q,J,de,fe,be,Ae,Le,Fe){const Re=[],Te=[[],[]];let Ie,Oe,De,we,Ve,Ue,He,Ge;for(let ze=0;ze<2;++ze)if(0===ze?(Oe=6*Q-12*de+6*be,Ie=-3*Q+9*de-9*be+3*Le,De=3*de-3*Q):(Oe=6*J-12*fe+6*Ae,Ie=-3*J+9*fe-9*Ae+3*Fe,De=3*fe-3*J),Math.abs(Ie)<1e-12){if(Math.abs(Oe)<1e-12)continue;we=-De/Oe,0<we&&we<1&&Re.push(we)}else He=Oe*Oe-4*De*Ie,Ge=Math.sqrt(He),!(He<0)&&(Ve=(-Oe+Ge)/(2*Ie),0<Ve&&Ve<1&&Re.push(Ve),Ue=(-Oe-Ge)/(2*Ie),0<Ue&&Ue<1&&Re.push(Ue));let ke,Ne=Re.length;const Be=Ne;for(;Ne--;)we=Re[Ne],ke=1-we,Te[0][Ne]=ke*ke*ke*Q+3*ke*ke*we*de+3*ke*we*we*be+we*we*we*Le,Te[1][Ne]=ke*ke*ke*J+3*ke*ke*we*fe+3*ke*we*we*Ae+we*we*we*Fe;return Te[0][Be]=Q,Te[1][Be]=J,Te[0][Be+1]=Le,Te[1][Be+1]=Fe,Te[0].length=Te[1].length=Be+2,[Math.min(...Te[0]),Math.min(...Te[1]),Math.max(...Te[0]),Math.max(...Te[1])]}}k.Util=ae;const ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ve(se){return decodeURIComponent(escape(se))}},(le,k,K)=>{K(3)},(le,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.isNodeJS=void 0;const K=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);k.isNodeJS=K},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var le,k,K,b,oe,ie,re,Ke;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(L){createPDFNetworkStream=L}function getDocument(L){const e=new PDFDocumentLoadingTask;let d;if("string"==typeof L||L instanceof URL)d={url:L};else if((0,_util.isArrayBuffer)(L))d={data:L};else if(L instanceof PDFDataRangeTransport)d={range:L};else{if("object"!=typeof L)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!L.url&&!L.data&&!L.range)throw new Error("Invalid parameter object: need either .data, .range or .url");d=L}const s=Object.create(null);let c=null,f=null;for(const u in d){const r=d[u];switch(u){case"url":if("undefined"!=typeof window)try{s[u]=new URL(r,window.location).href;continue}catch(h){(0,_util.warn)(`Cannot create valid URL: "${h}".`)}else if("string"==typeof r||r instanceof URL){s[u]=r.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":c=r;continue;case"worker":f=r;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&r instanceof Buffer)s[u]=new Uint8Array(r);else{if(r instanceof Uint8Array)break;if("string"==typeof r)s[u]=(0,_util.stringToBytes)(r);else if("object"!=typeof r||null===r||isNaN(r.length)){if(!(0,_util.isArrayBuffer)(r))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[u]=new Uint8Array(r)}else s[u]=new Uint8Array(r)}continue}s[u]=r}if(s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),Number.isInteger(s.maxImageSize)||(s.maxImageSize=-1),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),void 0===s.ownerDocument&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!f){const u={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};f=u.port?PDFWorker.fromPort(u):new PDFWorker(u),e._worker=f}const T=e.docId;return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");const u=_fetchDocument(f,s,c,T),r=new Promise(function(h){let M;c?M=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},c):s.data||(M=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),h(M)});return Promise.all([u,r]).then(function([h,M]){if(e.destroyed)throw new Error("Loading aborted");const P=new _message_handler.MessageHandler(T,h,f.port),m=new WorkerTransport(P,e,M,s);e._transport=m,P.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(L,e,d,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(L,e,d,s){if(L.destroyed)throw new Error("Worker was destroyed");d&&(e.length=d.length,e.initialData=d.initialData,e.progressiveDone=d.progressiveDone,e.contentDispositionFilename=d.contentDispositionFilename);const c=yield L.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.13.216",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(L.destroyed)throw new Error("Worker was destroyed");return c})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var e=this;return _asyncToGenerator(function*(){var d;e.destroyed=!0,yield null==(d=e._transport)?void 0:d.destroy(),e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,d,s=!1,c=null){this.length=e,this.initialData=d,this.progressiveDone=s,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,d){for(const s of this._rangeListeners)s(e,d)}onDataProgress(e,d){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,d)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const d of this._progressiveReadListeners)d(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,d){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,d){var c,s=this;this._pdfInfo=e,this._transport=d,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(c=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return c.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,d,s,c,f=!1){this._pageIndex=e,this._pageInfo=d,this._ownerDocument=c,this._transport=s,this._stats=f?new _display_utils.StatTimer:null,this._pdfBug=f,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:d=this.rotate,offsetX:s=0,offsetY:c=0,dontFlip:f=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:d,offsetX:s,offsetY:c,dontFlip:f})}getAnnotations({intent:e="display"}={}){const d=this._transport.getRenderingIntent(e);let s=this._annotationPromises.get(d.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,d.renderingIntent),this._annotationPromises.set(d.cacheKey,s),s=s.then(c=>{for(const f of c)void 0!==f.titleObj&&Object.defineProperty(f,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),f.titleObj.str)}),void 0!==f.contentsObj&&Object.defineProperty(f,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),f.contentsObj.str)});return c})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var e=this;return _asyncToGenerator(function*(){var d;return(null==(d=e._transport._htmlForXfa)?void 0:d.children[e._pageIndex])||null})()}render({canvasContext:e,viewport:d,intent:s="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:f=null,imageLayer:T=null,canvasFactory:u=null,background:r=null,optionalContentConfigPromise:h=null,annotationCanvasMap:M=null}){var O,F;void 0!==(null==(O=arguments[0])?void 0:O.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(F=arguments[0])?void 0:F.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const P=this._transport.getRenderingIntent(s,c);this.pendingCleanup=!1,h||(h=this._transport.getOptionalContentConfig());let m=this._intentStates.get(P.cacheKey);m||(m=Object.create(null),this._intentStates.set(P.cacheKey,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const t=u||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),i=!!(P.renderingIntent&_util.RenderingIntentFlag.PRINT);m.displayReadyCapability||(m.displayReadyCapability=(0,_util.createPromiseCapability)(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(P));const v=B=>{m.renderTasks.delete(_),(this.cleanupAfterRender||i)&&(this.pendingCleanup=!0),this._tryCleanup(),B?(_.capability.reject(B),this._abortOperatorList({intentState:m,reason:B instanceof Error?B:new Error(B)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},_=new InternalRenderTask({callback:v,params:{canvasContext:e,viewport:d,transform:f,imageLayer:T,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:M,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:t,useRequestAnimationFrame:!i,pdfBug:this._pdfBug});(m.renderTasks||(m.renderTasks=new Set)).add(_);const A=_.task;return Promise.all([m.displayReadyCapability.promise,h]).then(([B,V])=>{this.pendingCleanup?v():(this._stats&&this._stats.time("Rendering"),_.initializeGraphics({transparency:B,optionalContentConfig:V}),_.operatorListChanged())}).catch(v),A}getOperatorList({intent:e="display",annotationMode:d=_util.AnnotationMode.ENABLE}={}){const c=this._transport.getRenderingIntent(e,d,!0);let T,f=this._intentStates.get(c.cacheKey);return f||(f=Object.create(null),this._intentStates.set(c.cacheKey,f)),f.opListReadCapability||(T=Object.create(null),T.operatorListChanged=function(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(T))},f.opListReadCapability=(0,_util.createPromiseCapability)(),(f.renderTasks||(f.renderTasks=new Set)).add(T),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(c)),f.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:d=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===d},{highWaterMark:100,size:c=>c.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const d=this.streamTextContent(e);return new Promise(function(s,c){const T=d.getReader(),u={items:[],styles:Object.create(null)};!function f(){T.read().then(function({value:r,done:h}){h?s(u):(Object.assign(u.styles,r.styles),u.items.push(...r.items),f())},c)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const e=[];for(const d of this._intentStates.values())if(this._abortOperatorList({intentState:d,reason:new Error("Page was destroyed."),force:!0}),!d.opListReadCapability)for(const s of d.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:d,operatorList:s}of this._intentStates.values())if(d.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(e,d){const s=this._intentStates.get(d);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(e))}_renderPageChunk(e,d){for(let s=0,c=e.length;s<c;s++)d.operatorList.fnArray.push(e.fnArray[s]),d.operatorList.argsArray.push(e.argsArray[s]);d.operatorList.lastChunk=e.lastChunk;for(const s of d.renderTasks)s.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:d}){const c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:d,annotationStorage:e&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),f=this._intentStates.get(d);f.streamReader=c;const T=()=>{c.read().then(({value:u,done:r})=>{r?f.streamReader=null:this._transport.destroyed||(this._renderPageChunk(u,f),T())},u=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const r of f.renderTasks)r.operatorListChanged();this._tryCleanup()}if(f.displayReadyCapability)f.displayReadyCapability.reject(u);else{if(!f.opListReadCapability)throw u;f.opListReadCapability.reject(u)}}})};T()}_abortOperatorList({intentState:e,reason:d,force:s=!1}){if(e.streamReader){if(!s){if(e.renderTasks.size>0)return;if(d instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:d,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(e.streamReader.cancel(new _util.AbortException(d.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[c,f]of this._intentStates)if(f===e){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,d){const s={data:structuredClone(e,d)};this._deferred.then(()=>{for(const c of this._listeners)c.call(this,s)})}addEventListener(e,d){this._listeners.push(d)}removeEventListener(e,d){const s=this._listeners.indexOf(d);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const L=null==(le=null==document?void 0:document.currentScript)?void 0:le.src;L&&(PDFWorkerUtil.fallbackWorkerSrc=L.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(L){return URL.createObjectURL(new Blob([`importScripts("${L}");`]))};class PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:L=null,port:e=null,verbosity:d=(0,_util.getVerbosityLevel)()}={}){if(e&&PDFWorker._workerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=L,this.destroyed=!1,this.verbosity=d,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return PDFWorker._workerPorts.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(L){this._port=L,this._messageHandler=new _message_handler.MessageHandler("main","worker",L),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let L=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,L)||(L=PDFWorkerUtil.createCDNWrapper(new URL(L,window.location).href));const e=new Worker(L),d=new _message_handler.MessageHandler("main","worker",e),s=()=>{e.removeEventListener("error",c),d.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||s()};e.addEventListener("error",c),d.on("test",T=>{e.removeEventListener("error",c),this.destroyed?s():T?(this._messageHandler=d,this._port=e,this._webWorker=e,this._readyCapability.resolve(),d.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),d.destroy(),e.terminate())}),d.on("ready",T=>{if(e.removeEventListener("error",c),this.destroyed)s();else try{f()}catch(u){this._setupFakeWorker()}});const f=()=>{const T=new Uint8Array([255]);try{d.send("test",T,[T.buffer])}catch(u){(0,_util.warn)("Cannot use postMessage transfers."),T[0]=0,d.send("test",T)}};return void f()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(L=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const d="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(d+"_worker",d,e);L.setup(s,e);const c=new _message_handler.MessageHandler(d,d+"_worker",e);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(L=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${L.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(L){if(!(null==L?void 0:L.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(L.port)?this._workerPorts.get(L.port):new PDFWorker(L)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var L;try{return(null==(L=globalThis.pdfjsWorker)?void 0:L.WorkerMessageHandler)||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(e,d,s,c){ye(this,k,null),ye(this,K,new Map),ye(this,b,new Map),ye(this,oe,null),this.messageHandler=e,this.loadingTask=d,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:d.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,c.useWorkerFetch||(this.CMapReaderFactory=new c.CMapReaderFactory({baseUrl:c.cMapUrl,isCompressed:c.cMapPacked}),this.StandardFontDataFactory=new c.StandardFontDataFactory({baseUrl:c.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return ue(this,k)}getRenderingIntent(e,d=_util.AnnotationMode.ENABLE,s=!1){let c=_util.RenderingIntentFlag.DISPLAY,f="";switch(e){case"any":c=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":c=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(d){case _util.AnnotationMode.DISABLE:c+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:c+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:c+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${d}`)}return s&&(c+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:c,cacheKey:`${c}_${f}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of ue(this,K).values())e.push(s._destroy());ue(this,K).clear(),ue(this,b).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const d=this.messageHandler.sendWithPromise("Terminate",null);return e.push(d),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Pe(this,oe,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:d}=this;e.on("GetReader",(s,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=f=>{this._lastProgress={loaded:f.loaded,total:f.total}},c.onPull=()=>{this._fullReader.read().then(function({value:f,done:T}){T?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f]))}).catch(f=>{c.error(f)})},c.onCancel=f=>{this._fullReader.cancel(f),c.ready.catch(T=>{if(!this.destroyed)throw T})}}),e.on("ReaderHeadersReady",s=>{const c=(0,_util.createPromiseCapability)(),f=this._fullReader;return f.headersReady.then(()=>{var T;(!f.isStreamingSupported||!f.isRangeSupported)&&(this._lastProgress&&(null==(T=d.onProgress)||T.call(d,this._lastProgress)),f.onProgress=u=>{var r;null==(r=d.onProgress)||r.call(d,{loaded:u.loaded,total:u.total})}),c.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},c.reject),c.promise}),e.on("GetRangeReader",(s,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const f=this._networkStream.getRangeReader(s.begin,s.end);f?(c.onPull=()=>{f.read().then(function({value:T,done:u}){u?c.close():((0,_util.assert)((0,_util.isArrayBuffer)(T),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(T),1,[T]))}).catch(T=>{c.error(T)})},c.onCancel=T=>{f.cancel(T),c.ready.catch(u=>{if(!this.destroyed)throw u})}):c.close()}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,d._capability.resolve(new PDFDocumentProxy(s,this))}),e.on("DocException",function(s){let c;switch(s.name){case"PasswordException":c=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":c=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}d._capability.reject(c)}),e.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),d.onPassword){const c=f=>{f instanceof Error?this._passwordCapability.reject(f):this._passwordCapability.resolve({password:f})};try{d.onPassword(c,s.code)}catch(f){this._passwordCapability.reject(f)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),e.on("DataLoaded",s=>{var c;null==(c=d.onProgress)||c.call(d,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{this.destroyed||ue(this,K).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,c,f])=>{var T;if(!this.destroyed&&!this.commonObjs.has(s))switch(c){case"Font":const u=this._params;if("error"in f){const M=f.error;(0,_util.warn)(`Error during font loading: ${M}`),this.commonObjs.resolve(s,M);break}let r=null;u.pdfBug&&(null==(T=globalThis.FontInspector)?void 0:T.enabled)&&(r={registerFont(M,P){globalThis.FontInspector.fontAdded(M,P)}});const h=new _font_loader.FontFaceObject(f,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:r});this.fontLoader.bind(h).catch(M=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!u.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(s,h)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,f);break;default:throw new Error(`Got unknown common object type ${c}`)}}),e.on("obj",([s,c,f,T])=>{var r;if(this.destroyed)return;const u=ue(this,K).get(c);if(!u.objs.has(s))switch(f){case"Image":u.objs.resolve(s,T),(null==(r=null==T?void 0:T.data)?void 0:r.length)>8e6&&(u.cleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(s,T);break;default:throw new Error(`Got unknown object type ${f}`)}}),e.on("DocProgress",s=>{var c;this.destroyed||null==(c=d.onProgress)||c.call(d,{loaded:s.loaded,total:s.total})}),e.on("DocStats",s=>{this.destroyed||Pe(this,k,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:e}){var d,s;this.destroyed||null==(s=(d=this.loadingTask).onUnsupportedFeature)||s.call(d,e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const d=e-1,s=ue(this,b).get(d);if(s)return s;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:d}).then(f=>{if(this.destroyed)throw new Error("Transport destroyed");const T=new PDFPageProxy(d,f,this,this._params.ownerDocument,this._params.pdfBug);return ue(this,K).set(d,T),T});return ue(this,b).set(d,c),c}getPageIndex(e){return"object"!=typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,d){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:d})}saveDocument(){var e,d;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(d=null==(e=this._fullReader)?void 0:e.filename)?d:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return ue(this,oe)||Pe(this,oe,this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>{var d,s,c,f;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!=(s=null==(d=this._fullReader)?void 0:d.filename)?s:null,contentLength:null!=(f=null==(c=this._fullReader)?void 0:c.contentLength)?f:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){var d=this;return _asyncToGenerator(function*(){if(yield d.messageHandler.sendWithPromise("Cleanup",null),!d.destroyed){for(const s of ue(d,K).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);d.commonObjs.clear(),e||d.fontLoader.clear(),Pe(d,oe,null),d._getFieldObjectsPromise=null,d._hasJSActionsPromise=null}})()}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}k=new WeakMap,K=new WeakMap,b=new WeakMap,oe=new WeakMap;class PDFObjects{constructor(){ye(this,re),ye(this,ie,Object.create(null))}get(e,d=null){if(d){const c=xe(this,re,Ke).call(this,e);return c.capability.promise.then(()=>d(c.data)),null}const s=ue(this,ie)[e];if(!(null==s?void 0:s.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const d=ue(this,ie)[e];return(null==d?void 0:d.capability.settled)||!1}resolve(e,d=null){const s=xe(this,re,Ke).call(this,e);s.data=d,s.capability.resolve()}clear(){Pe(this,ie,Object.create(null))}}ie=new WeakMap,re=new WeakSet,Ke=function(e){return ue(this,ie)[e]||(ue(this,ie)[e]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(e){this._internalRenderTask=e,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:e,params:d,objs:s,commonObjs:c,annotationCanvasMap:f,operatorList:T,pageIndex:u,canvasFactory:r,useRequestAnimationFrame:h=!1,pdfBug:M=!1}){this.callback=e,this.params=d,this.objs=s,this.commonObjs=c,this.annotationCanvasMap=f,this.operatorListIdx=null,this.operatorList=T,this._pageIndex=u,this.canvasFactory=r,this._pdfBug=M,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=d.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:d}){var r;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(r=globalThis.StepperManager)?void 0:r.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:c,transform:f,imageLayer:T,background:u}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,T,d,this.annotationCanvasMap),this.gfx.beginDrawing({transform:f,viewport:c,transparency:e,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var e=this;return _asyncToGenerator(function*(){e.cancelled||(e.operatorListIdx=e.gfx.executeOperatorList(e.operatorList,e.operatorListIdx,e._continueBound,e.stepper),e.operatorListIdx===e.operatorList.argsArray.length&&(e.running=!1,e.operatorList.lastChunk&&(e.gfx.endDrawing(),e._canvas&&InternalRenderTask.canvasInUse.delete(e._canvas),e.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.StatTimer=k.RenderingCancelledException=k.PixelsPerInch=k.PageViewport=k.PDFDateString=k.DOMStandardFontDataFactory=k.DOMSVGFactory=k.DOMCanvasFactory=k.DOMCMapReaderFactory=void 0,k.deprecated=function(F){console.log("Deprecated API usage: "+F)},k.getFilenameFromUrl=function(F){const B=F.indexOf("#"),V=F.indexOf("?"),D=Math.min(B>0?B:F.length,V>0?V:F.length);return F.substring(F.lastIndexOf("/",D)+1,D)},k.getPdfFilenameFromUrl=function(F,B="document.pdf"){if("string"!=typeof F)return B;if(u(F))return(0,oe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),B;const D=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,I=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(F);let W=D.exec(I[1])||D.exec(I[2])||D.exec(I[3]);if(W&&(W=W[0],W.includes("%")))try{W=D.exec(decodeURIComponent(W))[0]}catch(R){}return W||B},k.getXfaPageViewport=function(F,{scale:B=1,rotation:V=0}){const{width:D,height:I}=F.attributes.style,W=[0,0,parseInt(D),parseInt(I)];return new f({viewBox:W,scale:B,rotation:V})},k.isDataScheme=u,k.isPdfFile=function(F){return"string"==typeof F&&/\.pdf$/i.test(F)},k.isValidFetchUrl=m,k.loadScript=function(F,B=!1){return new Promise((V,D)=>{const I=document.createElement("script");I.src=F,I.onload=function(W){B&&I.remove(),V(W)},I.onerror=function(){D(new Error(`Cannot load script at: ${I.src}`))},(document.head||document.documentElement).appendChild(I)})};var b=K(6),oe=K(1);const O=class{};let v,re=O;function L(F){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(function*(F,B=!1){if(m(F,document.baseURI)){const V=yield fetch(F);if(!V.ok)throw new Error(V.statusText);return B?new Uint8Array(yield V.arrayBuffer()):(0,oe.stringToBytes)(yield V.text())}return new Promise((V,D)=>{const I=new XMLHttpRequest;I.open("GET",F,!0),B&&(I.responseType="arraybuffer"),I.onreadystatechange=()=>{if(I.readyState===XMLHttpRequest.DONE){if(200===I.status||0===I.status){let W;if(B&&I.response?W=new Uint8Array(I.response):!B&&I.responseText&&(W=(0,oe.stringToBytes)(I.responseText)),W)return void V(W)}D(new Error(I.statusText))}},I.send(null)})})).apply(this,arguments)}je(re,"CSS",96),je(re,"PDF",72),je(re,"PDF_TO_CSS_UNITS",O.CSS/O.PDF),k.PixelsPerInch=re,k.DOMCanvasFactory=class extends b.BaseCanvasFactory{constructor({ownerDocument:B=globalThis.document}={}){super(),this._document=B}_createCanvas(B,V){const D=this._document.createElement("canvas");return D.width=B,D.height=V,D}},k.DOMCMapReaderFactory=class extends b.BaseCMapReaderFactory{_fetchData(B,V){return L(B,this.isCompressed).then(D=>({cMapData:D,compressionType:V}))}},k.DOMStandardFontDataFactory=class extends b.BaseStandardFontDataFactory{_fetchData(B){return L(B,!0)}},k.DOMSVGFactory=class extends b.BaseSVGFactory{_createSVG(B){return document.createElementNS("http://www.w3.org/2000/svg",B)}};class f{constructor({viewBox:B,scale:V,rotation:D,offsetX:I=0,offsetY:W=0,dontFlip:R=!1}){this.viewBox=B,this.scale=V,this.rotation=D,this.offsetX=I,this.offsetY=W;const H=(B[2]+B[0])/2,y=(B[3]+B[1])/2;let l,o,S,g,E,n,C,x;switch((D%=360)<0&&(D+=360),D){case 180:l=-1,o=0,S=0,g=1;break;case 90:l=0,o=1,S=1,g=0;break;case 270:l=0,o=-1,S=-1,g=0;break;case 0:l=1,o=0,S=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}R&&(S=-S,g=-g),0===l?(E=Math.abs(y-B[1])*V+I,n=Math.abs(H-B[0])*V+W,C=Math.abs(B[3]-B[1])*V,x=Math.abs(B[2]-B[0])*V):(E=Math.abs(H-B[0])*V+I,n=Math.abs(y-B[1])*V+W,C=Math.abs(B[2]-B[0])*V,x=Math.abs(B[3]-B[1])*V),this.transform=[l*V,o*V,S*V,g*V,E-l*V*H-S*V*y,n-o*V*H-g*V*y],this.width=C,this.height=x}clone({scale:B=this.scale,rotation:V=this.rotation,offsetX:D=this.offsetX,offsetY:I=this.offsetY,dontFlip:W=!1}={}){return new f({viewBox:this.viewBox.slice(),scale:B,rotation:V,offsetX:D,offsetY:I,dontFlip:W})}convertToViewportPoint(B,V){return oe.Util.applyTransform([B,V],this.transform)}convertToViewportRectangle(B){const V=oe.Util.applyTransform([B[0],B[1]],this.transform),D=oe.Util.applyTransform([B[2],B[3]],this.transform);return[V[0],V[1],D[0],D[1]]}convertToPdfPoint(B,V){return oe.Util.applyInverseTransform([B,V],this.transform)}}function u(F){const B=F.length;let V=0;for(;V<B&&""===F[V].trim();)V++;return"data:"===F.substring(V,V+5).toLowerCase()}function m(F,B){try{const{protocol:V}=B?new URL(F,B):new URL(F);return"http:"===V||"https:"===V}catch(V){return!1}}k.PageViewport=f,k.RenderingCancelledException=class extends oe.BaseException{constructor(B,V){super(B,"RenderingCancelledException"),this.type=V}},k.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(B){B in this.started&&(0,oe.warn)(`Timer is already running for ${B}`),this.started[B]=Date.now()}timeEnd(B){B in this.started||(0,oe.warn)(`Timer has not been started for ${B}`),this.times.push({name:B,start:this.started[B],end:Date.now()}),delete this.started[B]}toString(){const B=[];let V=0;for(const D of this.times){const I=D.name;I.length>V&&(V=I.length)}for(const D of this.times){const I=D.end-D.start;B.push(`${D.name.padEnd(V)} ${I}ms\n`)}return B.join("")}},k.PDFDateString=class{static toDateObject(B){if(!B||"string"!=typeof B)return null;v||(v=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const V=v.exec(B);if(!V)return null;const D=parseInt(V[1],10);let I=parseInt(V[2],10);I=I>=1&&I<=12?I-1:0;let W=parseInt(V[3],10);W=W>=1&&W<=31?W:1;let R=parseInt(V[4],10);R=R>=0&&R<=23?R:0;let H=parseInt(V[5],10);H=H>=0&&H<=59?H:0;let y=parseInt(V[6],10);y=y>=0&&y<=59?y:0;const l=V[7]||"Z";let o=parseInt(V[8],10);o=o>=0&&o<=23?o:0;let S=parseInt(V[9],10)||0;return S=S>=0&&S<=59?S:0,"-"===l?(R+=o,H+=S):"+"===l&&(R-=o,H-=S),new Date(Date.UTC(D,I,W,R,H,y))}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.BaseStandardFontDataFactory=k.BaseSVGFactory=k.BaseCanvasFactory=k.BaseCMapReaderFactory=void 0;var b=K(1);class oe{constructor(){this.constructor===oe&&(0,b.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,d){if(e<=0||d<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,d);return{canvas:s,context:s.getContext("2d")}}reset(e,d,s){if(!e.canvas)throw new Error("Canvas is not specified");if(d<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=d,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,d){(0,b.unreachable)("Abstract method `_createCanvas` called.")}}k.BaseCanvasFactory=oe;class ie{constructor({baseUrl:e=null,isCompressed:d=!1}){this.constructor===ie&&(0,b.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=d}fetch({name:e}){var d=this;return _asyncToGenerator(function*(){if(!d.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const s=d.baseUrl+e+(d.isCompressed?".bcmap":"");return d._fetchData(s,d.isCompressed?b.CMapCompressionType.BINARY:b.CMapCompressionType.NONE).catch(f=>{throw new Error(`Unable to load ${d.isCompressed?"binary ":""}CMap at: ${s}`)})})()}_fetchData(e,d){(0,b.unreachable)("Abstract method `_fetchData` called.")}}k.BaseCMapReaderFactory=ie;class re{constructor({baseUrl:e=null}){this.constructor===re&&(0,b.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}fetch({filename:e}){var d=this;return _asyncToGenerator(function*(){if(!d.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const s=`${d.baseUrl}${e}`;return d._fetchData(s).catch(c=>{throw new Error(`Unable to load font data at: ${s}`)})})()}_fetchData(e){(0,b.unreachable)("Abstract method `_fetchData` called.")}}k.BaseStandardFontDataFactory=re;class ee{constructor(){this.constructor===ee&&(0,b.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,d){if(e<=0||d<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),s.setAttribute("width",`${e}px`),s.setAttribute("height",`${d}px`),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${d}`),s}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,b.unreachable)("Abstract method `_createSVG` called.")}}k.BaseSVGFactory=ee},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.FontLoader=k.FontFaceObject=void 0;var b=K(1);class oe{constructor({docId:L,onUnsupportedFeature:e,ownerDocument:d=globalThis.document,styleElement:s=null}){this.constructor===oe&&(0,b.unreachable)("Cannot initialize BaseFontLoader."),this.docId=L,this._onUnsupportedFeature=e,this._document=d,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(L){this.nativeFontFaces.push(L),this._document.fonts.add(L)}insertRule(L){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));const d=e.sheet;d.insertRule(L,d.cssRules.length)}clear(){for(const L of this.nativeFontFaces)this._document.fonts.delete(L);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(L){var e=this;return _asyncToGenerator(function*(){if(L.attached||L.missingFile)return;if(L.attached=!0,e.isFontLoadingAPISupported){const s=L.createNativeFontFace();if(s){e.addNativeFontFace(s);try{yield s.loaded}catch(c){throw e._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,b.warn)(`Failed to load font '${s.family}': '${c}'.`),L.disableFontFace=!0,c}}return}const d=L.createFontFaceRule();if(d){if(e.insertRule(d),e.isSyncFontLoadingSupported)return;yield new Promise(s=>{const c=e._queueLoadingCallback(s);e._prepareFontLoadEvent([d],[L],c)})}})()}_queueLoadingCallback(L){(0,b.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var e;const L=!!(null==(e=this._document)?void 0:e.fonts);return(0,b.shadow)(this,"isFontLoadingAPISupported",L)}get isSyncFontLoadingSupported(){(0,b.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,b.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(L,e,d){(0,b.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ie;k.FontLoader=ie,k.FontLoader=ie=class extends oe{constructor(L){super(L),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let L=!1;if("undefined"==typeof navigator)L=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==e?void 0:e[1])>=14&&(L=!0)}return(0,b.shadow)(this,"isSyncFontLoadingSupported",L)}_queueLoadingCallback(L){const d=this.loadingContext,s={id:"pdfjs-font-loading-"+d.nextRequestId++,done:!1,complete:function(){for((0,b.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;d.requests.length>0&&d.requests[0].done;){const c=d.requests.shift();setTimeout(c.callback,0)}},callback:L};return d.requests.push(s),s}get _loadTestFont(){return(0,b.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(L,e,d){function s(V,D){return V.charCodeAt(D)<<24|V.charCodeAt(D+1)<<16|V.charCodeAt(D+2)<<8|255&V.charCodeAt(D+3)}function c(V,D,I,W){return V.substring(0,D)+W+V.substring(D+I)}let f,T;const u=this._document.createElement("canvas");u.width=1,u.height=1;const r=u.getContext("2d");let h=0;const P=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=c(m,976,P.length,P);const v=1482184792;let _=s(m,16);for(f=0,T=P.length-3;f<T;f+=4)_=_-v+s(P,f)|0;f<P.length&&(_=_-v+s(P+"XXX",f)|0),m=c(m,16,4,(0,b.string32)(_));const A=`url(data:font/opentype;base64,${btoa(m)});`;this.insertRule(`@font-face {font-family:"${P}";src:${A}}`);const F=[];for(const V of e)F.push(V.loadedName);F.push(P);const B=this._document.createElement("div");B.style.visibility="hidden",B.style.width=B.style.height="10px",B.style.position="absolute",B.style.top=B.style.left="0px";for(const V of F){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=V,B.appendChild(D)}this._document.body.appendChild(B),function M(V,D){if(h++,h>30)return(0,b.warn)("Load test font never loaded."),void D();r.font="30px "+V,r.fillText(".",0,20),r.getImageData(0,0,1,1).data[3]>0?D():setTimeout(M.bind(null,V,D))}(P,()=>{B.remove(),d.complete()})}},k.FontFaceObject=class{constructor(L,{isEvalSupported:e=!0,disableFontFace:d=!1,ignoreErrors:s=!1,onUnsupportedFeature:c,fontRegistry:f=null}){this.compiledGlyphs=Object.create(null);for(const T in L)this[T]=L[T];this.isEvalSupported=!1!==e,this.disableFontFace=!0===d,this.ignoreErrors=!0===s,this._onUnsupportedFeature=c,this.fontRegistry=f}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let L;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),L=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else L=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),L}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const L=(0,b.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(L)});`;let d;if(this.cssFontInfo){let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}else d=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),d}getPathGenerator(L,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let d;try{d=L.get(this.loadedName+"_path_"+e)}catch(s){if(!this.ignoreErrors)throw s;return this._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,b.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[e]=function(c,f){}}if(this.isEvalSupported&&b.IsEvalSupportedCached.value){const s=[];for(const c of d){const f=void 0!==c.args?c.args.join(","):"";s.push("c.",c.cmd,"(",f,");\n")}return this.compiledGlyphs[e]=new Function("c","size",s.join(""))}return this.compiledGlyphs[e]=function(s,c){for(const f of d)"scale"===f.cmd&&(f.args=[c,-c]),s[f.cmd].apply(s,f.args)}}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.NodeStandardFontDataFactory=k.NodeCanvasFactory=k.NodeCMapReaderFactory=void 0;var b=K(6),oe=K(3),ie=K(1);let re=class{constructor(){(0,ie.unreachable)("Not implemented: NodeCanvasFactory")}};k.NodeCanvasFactory=re;let ee=class{constructor(){(0,ie.unreachable)("Not implemented: NodeCMapReaderFactory")}};k.NodeCMapReaderFactory=ee;let L=class{constructor(){(0,ie.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(k.NodeStandardFontDataFactory=L,oe.isNodeJS){const e=function(d){return new Promise((s,c)=>{__webpack_require__(172).readFile(d,(T,u)=>{!T&&u?s(new Uint8Array(u)):c(new Error(T))})})};k.NodeCanvasFactory=re=class extends b.BaseCanvasFactory{_createCanvas(d,s){return __webpack_require__(3414).createCanvas(d,s)}},k.NodeCMapReaderFactory=ee=class extends b.BaseCMapReaderFactory{_fetchData(d,s){return e(d).then(c=>({cMapData:c,compressionType:s}))}},k.NodeStandardFontDataFactory=L=class extends b.BaseStandardFontDataFactory{_fetchData(d){return e(d)}}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationStorage=void 0;var b=K(1);k.AnnotationStorage=class{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(re,ee){const L=this._storage.get(re);return void 0===L?ee:Object.assign(ee,L)}setValue(re,ee){const L=this._storage.get(re);let e=!1;if(void 0!==L)for(const[d,s]of Object.entries(ee))L[d]!==s&&(e=!0,L[d]=s);else e=!0,this._storage.set(re,ee);e&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,b.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.CanvasGraphics=void 0;var b=K(1),oe=K(11),ie=K(5);const L=4096,f=16;function r(y){if(y._transformStack&&(y._transformStack=[]),!y.mozCurrentTransform){y._originalSave=y.save,y._originalRestore=y.restore,y._originalRotate=y.rotate,y._originalScale=y.scale,y._originalTranslate=y.translate,y._originalTransform=y.transform,y._originalSetTransform=y.setTransform,y._originalResetTransform=y.resetTransform,y._transformMatrix=y._transformMatrix||[1,0,0,1,0,0],y._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(y),"lineWidth");y._setLineWidth=l.set,y._getLineWidth=l.get,Object.defineProperty(y,"lineWidth",{set:function(S){this._setLineWidth(1.000001*S)},get:function(){return this._getLineWidth()}})}catch(l){}Object.defineProperty(y,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(y,"mozCurrentTransformInverse",{get:function(){const[o,S,g,E,n,C]=this._transformMatrix,x=o*E-S*g,N=S*g-o*E;return[E/x,S/N,g/N,o/x,(E*n-g*C)/N,(S*n-o*C)/x]}}),y.save=function(){const o=this._transformMatrix;this._transformStack.push(o),this._transformMatrix=o.slice(0,6),this._originalSave()},y.restore=function(){0===this._transformStack.length&&(0,b.warn)("Tried to restore a ctx when the stack was already empty.");const o=this._transformStack.pop();o&&(this._transformMatrix=o,this._originalRestore())},y.translate=function(o,S){const g=this._transformMatrix;g[4]=g[0]*o+g[2]*S+g[4],g[5]=g[1]*o+g[3]*S+g[5],this._originalTranslate(o,S)},y.scale=function(o,S){const g=this._transformMatrix;g[0]*=o,g[1]*=o,g[2]*=S,g[3]*=S,this._originalScale(o,S)},y.transform=function(o,S,g,E,n,C){const x=this._transformMatrix;this._transformMatrix=[x[0]*o+x[2]*S,x[1]*o+x[3]*S,x[0]*g+x[2]*E,x[1]*g+x[3]*E,x[0]*n+x[2]*C+x[4],x[1]*n+x[3]*C+x[5]],y._originalTransform(o,S,g,E,n,C)},y.setTransform=function(o,S,g,E,n,C){this._transformMatrix=[o,S,g,E,n,C],y._originalSetTransform(o,S,g,E,n,C)},y.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],y._originalResetTransform()},y.rotate=function(o){const S=Math.cos(o),g=Math.sin(o),E=this._transformMatrix;this._transformMatrix=[E[0]*S+E[2]*g,E[1]*S+E[3]*g,E[0]*-g+E[2]*S,E[1]*-g+E[3]*S,E[4],E[5]],this._originalRotate(o)}}}class h{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,o,S,g){let E;return void 0!==this.cache[l]?(E=this.cache[l],this.canvasFactory.reset(E,o,S),E.context.setTransform(1,0,0,1,0,0)):(E=this.canvasFactory.create(o,S),this.cache[l]=E),g&&r(E.context),E}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}class P{constructor(l,o){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=b.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=b.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,o])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,o){this.x=l,this.y=o}updatePathMinMax(l,o,S){[o,S]=b.Util.applyTransform([o,S],l),this.minX=Math.min(this.minX,o),this.minY=Math.min(this.minY,S),this.maxX=Math.max(this.maxX,o),this.maxY=Math.max(this.maxY,S)}updateCurvePathMinMax(l,o,S,g,E,n,C,x,N){const p=b.Util.bezierBoundingBox(o,S,g,E,n,C,x,N);this.updatePathMinMax(l,p[0],p[1]),this.updatePathMinMax(l,p[2],p[3])}getPathBoundingBox(l=oe.PathType.FILL,o=null){const S=[this.minX,this.minY,this.maxX,this.maxY];if(l===oe.PathType.STROKE){o||(0,b.unreachable)("Stroke bounding box must include transform.");const g=b.Util.singularValueDecompose2dScale(o),E=g[0]*this.lineWidth/2,n=g[1]*this.lineWidth/2;S[0]-=E,S[1]-=n,S[2]+=E,S[3]+=n}return S}updateClipFromPath(){const l=b.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=oe.PathType.FILL,o=null){return b.Util.intersect(this.clipBox,this.getPathBoundingBox(l,o))}}function m(y,l,o=null){if("undefined"!=typeof ImageData&&l instanceof ImageData)return void y.putImageData(l,0,0);const S=l.height,g=l.width,E=S%f,n=(S-E)/f,C=0===E?n:n+1,x=y.createImageData(g,f);let p,N=0;const j=l.data,z=x.data;let $,Z,te,Y,ne,U,a,w;if(o)switch(o.length){case 1:ne=o[0],U=o[0],a=o[0],w=o[0];break;case 4:ne=o[0],U=o[1],a=o[2],w=o[3]}if(l.kind===b.ImageKind.GRAYSCALE_1BPP){const X=j.byteLength,G=new Uint32Array(z.buffer,0,z.byteLength>>2),q=G.length,ae=g+7>>3;let ce=4294967295,he=b.IsLittleEndianCached.value?4278190080:255;for(w&&255===w[0]&&0===w[255]&&([ce,he]=[he,ce]),$=0;$<C;$++){for(te=$<n?f:E,p=0,Z=0;Z<te;Z++){const pe=X-N;let ge=0;const _e=pe>ae?g:8*pe-7,ve=-8&_e;let Ce=0,me=0;for(;ge<ve;ge+=8)me=j[N++],G[p++]=128&me?ce:he,G[p++]=64&me?ce:he,G[p++]=32&me?ce:he,G[p++]=16&me?ce:he,G[p++]=8&me?ce:he,G[p++]=4&me?ce:he,G[p++]=2&me?ce:he,G[p++]=1&me?ce:he;for(;ge<_e;ge++)0===Ce&&(me=j[N++],Ce=128),G[p++]=me&Ce?ce:he,Ce>>=1}for(;p<q;)G[p++]=0;y.putImageData(x,0,$*f)}}else if(l.kind===b.ImageKind.RGBA_32BPP){const X=!!(ne||U||a);for(Z=0,Y=g*f*4,$=0;$<n;$++){if(z.set(j.subarray(N,N+Y)),N+=Y,X)for(let G=0;G<Y;G+=4)ne&&(z[G+0]=ne[z[G+0]]),U&&(z[G+1]=U[z[G+1]]),a&&(z[G+2]=a[z[G+2]]);y.putImageData(x,0,Z),Z+=f}if($<C){if(Y=g*E*4,z.set(j.subarray(N,N+Y)),X)for(let G=0;G<Y;G+=4)ne&&(z[G+0]=ne[z[G+0]]),U&&(z[G+1]=U[z[G+1]]),a&&(z[G+2]=a[z[G+2]]);y.putImageData(x,0,Z)}}else{if(l.kind!==b.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const X=!!(ne||U||a);for(te=f,Y=g*te,$=0;$<C;$++){for($>=n&&(te=E,Y=g*te),p=0,Z=Y;Z--;)z[p++]=j[N++],z[p++]=j[N++],z[p++]=j[N++],z[p++]=255;if(X)for(let G=0;G<p;G+=4)ne&&(z[G+0]=ne[z[G+0]]),U&&(z[G+1]=U[z[G+1]]),a&&(z[G+2]=a[z[G+2]]);y.putImageData(x,0,$*f)}}}}function t(y,l){const o=l.height,S=l.width,g=o%f,E=(o-g)/f,n=0===g?E:E+1,C=y.createImageData(S,f);let x=0;const N=l.data,p=C.data;for(let j=0;j<n;j++){const z=j<E?f:g;let $=3;for(let Z=0;Z<z;Z++){let te,Y=0;for(let ne=0;ne<S;ne++)Y||(te=N[x++],Y=128),p[$]=te&Y?0:255,$+=4,Y>>=1}y.putImageData(C,0,j*f)}}function i(y,l){const o=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let S=0,g=o.length;S<g;S++){const E=o[S];void 0!==y[E]&&(l[E]=y[E])}void 0!==y.setLineDash&&(l.setLineDash(y.getLineDash()),l.lineDashOffset=y.lineDashOffset)}function v(y){y.strokeStyle="#000000",y.fillStyle="#000000",y.fillRule="nonzero",y.globalAlpha=1,y.lineWidth=1,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=10,y.globalCompositeOperation="source-over",y.font="10px sans-serif",void 0!==y.setLineDash&&(y.setLineDash([]),y.lineDashOffset=0)}function _(y,l,o,S){const g=y.length;for(let E=3;E<g;E+=4){const n=y[E];if(0===n)y[E-3]=l,y[E-2]=o,y[E-1]=S;else if(n<255){const C=255-n;y[E-3]=y[E-3]*n+l*C>>8,y[E-2]=y[E-2]*n+o*C>>8,y[E-1]=y[E-1]*n+S*C>>8}}}function A(y,l,o){const S=y.length;for(let E=3;E<S;E+=4)l[E]=l[E]*(o?o[y[E]]:y[E])*.00392156862745098|0}function O(y,l,o){const S=y.length;for(let g=3;g<S;g+=4){const E=77*y[g-3]+152*y[g-2]+28*y[g-1];l[g]=o?l[g]*o[E>>8]>>8:l[g]*E>>16}}function V(y,l){const o=b.Util.singularValueDecompose2dScale(y);o[0]=Math.fround(o[0]),o[1]=Math.fround(o[1]);const S=Math.fround((globalThis.devicePixelRatio||1)*ie.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:o[0]<=S||o[1]<=S}const D=["butt","round","square"],I=["miter","round","bevel"],W={},R={};class H{constructor(l,o,S,g,E,n,C){this.ctx=l,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=o,this.objs=S,this.canvasFactory=g,this.imageLayer=E,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=n,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=C,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,l&&r(l),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:l,viewport:o,transparency:S=!1,background:g=null}){const E=this.ctx.canvas.width,n=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=g||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,E,n),this.ctx.restore(),S){const C=this.cachedCanvases.getCanvas("transparent",E,n,!0);this.compositeCtx=this.ctx,this.transparentCanvas=C.canvas,this.ctx=C.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),v(this.ctx),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,o.transform),this.viewportScale=o.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,o,S,g){const E=l.argsArray,n=l.fnArray;let C=o||0;const x=E.length;if(x===C)return C;const N=x-C>10&&"function"==typeof S,p=N?Date.now()+15:0;let j=0;const z=this.commonObjs,$=this.objs;let Z;for(;;){if(void 0!==g&&C===g.nextBreakPoint)return g.breakIt(C,S),C;if(Z=n[C],Z!==b.OPS.dependency)this[Z].apply(this,E[C]);else for(const te of E[C]){const Y=te.startsWith("g_")?z:$;if(!Y.has(te))return Y.get(te,S),C}if(C++,C===x)return C;if(N&&++j>10){if(Date.now()>p)return S(),C;j=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,o){const S=l.width,g=l.height;let p,j,E=Math.max(Math.hypot(o[0],o[1]),1),n=Math.max(Math.hypot(o[2],o[3]),1),C=S,x=g,N="prescale1";for(;E>2&&C>1||n>2&&x>1;){let z=C,$=x;E>2&&C>1&&(z=Math.ceil(C/2),E/=C/z),n>2&&x>1&&($=Math.ceil(x/2),n/=x/$),p=this.cachedCanvases.getCanvas(N,z,$),j=p.context,j.clearRect(0,0,z,$),j.drawImage(l,0,0,C,x,0,0,z,$),l=p.canvas,C=z,x=$,N="prescale1"===N?"prescale2":"prescale1"}return{img:l,paintWidth:C,paintHeight:x}}_createMaskCanvas(l){const o=this.ctx,S=l.width,g=l.height,E=this.current.fillColor,n=this.current.patternFill,C=this.cachedCanvases.getCanvas("maskCanvas",S,g);t(C.context,l);let p=b.Util.transform(o.mozCurrentTransform,[1/S,0,0,-1/g,0,0]);p=b.Util.transform(p,[1,0,0,1,0,-g]);const j=b.Util.applyTransform([0,0],p),z=b.Util.applyTransform([S,g],p),$=b.Util.normalizeRect([j[0],j[1],z[0],z[1]]),Z=Math.ceil($[2]-$[0]),te=Math.ceil($[3]-$[1]),Y=this.cachedCanvases.getCanvas("fillCanvas",Z,te,!0),ne=Y.context,U=Math.min(j[0],z[0]),a=Math.min(j[1],z[1]);ne.translate(-U,-a),ne.transform.apply(ne,p);const w=this._scaleImage(C.canvas,ne.mozCurrentTransformInverse);ne.imageSmoothingEnabled=V(ne.mozCurrentTransform,l.interpolate),ne.drawImage(w.img,0,0,w.img.width,w.img.height,0,0,S,g),ne.globalCompositeOperation="source-in";const X=b.Util.transform(ne.mozCurrentTransformInverse,[1,0,0,1,-U,-a]);return ne.fillStyle=n?E.getPattern(o,this,X,oe.PathType.FILL):E,ne.fillRect(0,0,S,g),{canvas:Y.canvas,offsetX:Math.round(U),offsetY:Math.round(a)}}setLineWidth(l){this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=D[l]}setLineJoin(l){this.ctx.lineJoin=I[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,o){const S=this.ctx;void 0!==S.setLineDash&&(S.setLineDash(l),S.lineDashOffset=o)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let o=0,S=l.length;o<S;o++){const g=l[o],n=g[1];switch(g[0]){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=g[1];break;case"ca":this.current.fillAlpha=g[1],this.ctx.globalAlpha=g[1];break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=n}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const g=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=g.context;const E=this.ctx;E.setTransform.apply(E,this.suspendedCtx.mozCurrentTransform),i(this.suspendedCtx,E),function(y,l){if(y._removeMirroring)throw new Error("Context is already forwarding operations.");y.__originalSave=y.save,y.__originalRestore=y.restore,y.__originalRotate=y.rotate,y.__originalScale=y.scale,y.__originalTranslate=y.translate,y.__originalTransform=y.transform,y.__originalSetTransform=y.setTransform,y.__originalResetTransform=y.resetTransform,y.__originalClip=y.clip,y.__originalMoveTo=y.moveTo,y.__originalLineTo=y.lineTo,y.__originalBezierCurveTo=y.bezierCurveTo,y.__originalRect=y.rect,y.__originalClosePath=y.closePath,y.__originalBeginPath=y.beginPath,y._removeMirroring=()=>{y.save=y.__originalSave,y.restore=y.__originalRestore,y.rotate=y.__originalRotate,y.scale=y.__originalScale,y.translate=y.__originalTranslate,y.transform=y.__originalTransform,y.setTransform=y.__originalSetTransform,y.resetTransform=y.__originalResetTransform,y.clip=y.__originalClip,y.moveTo=y.__originalMoveTo,y.lineTo=y.__originalLineTo,y.bezierCurveTo=y.__originalBezierCurveTo,y.rect=y.__originalRect,y.closePath=y.__originalClosePath,y.beginPath=y.__originalBeginPath,delete y._removeMirroring},y.save=function(){l.save(),this.__originalSave()},y.restore=function(){l.restore(),this.__originalRestore()},y.translate=function(S,g){l.translate(S,g),this.__originalTranslate(S,g)},y.scale=function(S,g){l.scale(S,g),this.__originalScale(S,g)},y.transform=function(S,g,E,n,C,x){l.transform(S,g,E,n,C,x),this.__originalTransform(S,g,E,n,C,x)},y.setTransform=function(S,g,E,n,C,x){l.setTransform(S,g,E,n,C,x),this.__originalSetTransform(S,g,E,n,C,x)},y.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},y.rotate=function(S){l.rotate(S),this.__originalRotate(S)},y.clip=function(S){l.clip(S),this.__originalClip(S)},y.moveTo=function(o,S){l.moveTo(o,S),this.__originalMoveTo(o,S)},y.lineTo=function(o,S){l.lineTo(o,S),this.__originalLineTo(o,S)},y.bezierCurveTo=function(o,S,g,E,n,C){l.bezierCurveTo(o,S,g,E,n,C),this.__originalBezierCurveTo(o,S,g,E,n,C)},y.rect=function(o,S,g,E){l.rect(o,S,g,E),this.__originalRect(o,S,g,E)},y.closePath=function(){l.closePath(),this.__originalClosePath()},y.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(E,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),i(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function(y,l,o,S){const g=S[0],E=S[1],n=S[2]-g,C=S[3]-E;0===n||0===C||(function(y,l,o,S,g,E,n,C,x,N,p){const j=!!E,z=j?E[0]:0,$=j?E[1]:0,Z=j?E[2]:0;let te;te="Luminosity"===g?O:A;const ne=Math.min(S,Math.ceil(1048576/o));for(let U=0;U<S;U+=ne){const a=Math.min(ne,S-U),w=y.getImageData(C-N,U+(x-p),o,a),X=l.getImageData(C,U+x,o,a);j&&_(w.data,z,$,Z),te(w.data,X.data,n),l.putImageData(X,C,U+x)}}(l.context,o,n,C,l.subtype,l.backdrop,l.transferMap,g,E,l.offsetX,l.offsetY),y.save(),y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),y.drawImage(o.canvas,0,0),y.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(i(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),i(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(l,o,S,g,E,n){this.ctx.transform(l,o,S,g,E,n),this._cachedGetSinglePixelWidth=null}constructPath(l,o){const S=this.ctx,g=this.current;let C,x,E=g.x,n=g.y;for(let N=0,p=0,j=l.length;N<j;N++)switch(0|l[N]){case b.OPS.rectangle:E=o[p++],n=o[p++];const z=o[p++],$=o[p++],Z=E+z,te=n+$;S.moveTo(E,n),0===z||0===$?S.lineTo(Z,te):(S.lineTo(Z,n),S.lineTo(Z,te),S.lineTo(E,te)),g.updatePathMinMax(S.mozCurrentTransform,E,n),g.updatePathMinMax(S.mozCurrentTransform,Z,te),S.closePath();break;case b.OPS.moveTo:E=o[p++],n=o[p++],S.moveTo(E,n),g.updatePathMinMax(S.mozCurrentTransform,E,n);break;case b.OPS.lineTo:E=o[p++],n=o[p++],S.lineTo(E,n),g.updatePathMinMax(S.mozCurrentTransform,E,n);break;case b.OPS.curveTo:C=E,x=n,E=o[p+4],n=o[p+5],S.bezierCurveTo(o[p],o[p+1],o[p+2],o[p+3],E,n),g.updateCurvePathMinMax(S.mozCurrentTransform,C,x,o[p],o[p+1],o[p+2],o[p+3],E,n),p+=6;break;case b.OPS.curveTo2:C=E,x=n,S.bezierCurveTo(E,n,o[p],o[p+1],o[p+2],o[p+3]),g.updateCurvePathMinMax(S.mozCurrentTransform,C,x,E,n,o[p],o[p+1],o[p+2],o[p+3]),E=o[p+2],n=o[p+3],p+=4;break;case b.OPS.curveTo3:C=E,x=n,E=o[p+2],n=o[p+3],S.bezierCurveTo(o[p],o[p+1],E,n,E,n),g.updateCurvePathMinMax(S.mozCurrentTransform,C,x,o[p],o[p+1],E,n,E,n),p+=4;break;case b.OPS.closePath:S.closePath()}g.setCurrentPoint(E,n)}closePath(){this.ctx.closePath()}stroke(l){l=void 0===l||l;const o=this.ctx,S=this.current.strokeColor;if(o.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof S&&(null==S?void 0:S.getPattern)){const g=this.getSinglePixelWidth();o.save(),o.strokeStyle=S.getPattern(o,this,o.mozCurrentTransformInverse,oe.PathType.STROKE),o.lineWidth=Math.max(g,this.current.lineWidth),o.stroke(),o.restore()}else{const g=this.getSinglePixelWidth();g<0&&-g>=this.current.lineWidth?(o.save(),o.resetTransform(),o.lineWidth=Math.floor(this._combinedScaleFactor),o.stroke(),o.restore()):(o.lineWidth=Math.max(g,this.current.lineWidth),o.stroke())}l&&this.consumePath(this.current.getClippedPathBoundingBox()),o.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=void 0===l||l;const o=this.ctx,S=this.current.fillColor;let E=!1;this.current.patternFill&&(o.save(),o.fillStyle=S.getPattern(o,this,o.mozCurrentTransformInverse,oe.PathType.FILL),E=!0);const n=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==n&&(this.pendingEOFill?(o.fill("evenodd"),this.pendingEOFill=!1):o.fill()),E&&o.restore(),l&&this.consumePath(n)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=W}eoClip(){this.pendingClip=R}beginText(){this.current.textMatrix=b.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,o=this.ctx;if(void 0!==l){o.save(),o.beginPath();for(let S=0;S<l.length;S++){const g=l[S];o.setTransform.apply(o,g.transform),o.translate(g.x,g.y),g.addToPath(o,g.fontSize)}o.restore(),o.clip(),o.beginPath(),delete this.pendingTextPaths}else o.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,o){const S=this.commonObjs.get(l),g=this.current;if(!S)throw new Error(`Can't find font for ${l}`);if(g.fontMatrix=S.fontMatrix||b.FONT_IDENTITY_MATRIX,(0===g.fontMatrix[0]||0===g.fontMatrix[3])&&(0,b.warn)("Invalid font matrix for font "+l),o<0?(o=-o,g.fontDirection=-1):g.fontDirection=1,this.current.font=S,this.current.fontSize=o,S.isType3Font)return;let n="normal";S.black?n="900":S.bold&&(n="bold");const C=S.italic?"italic":"normal",x=`"${S.loadedName||"sans-serif"}", ${S.fallbackName}`;let N=o;o<16?N=16:o>100&&(N=100),this.current.fontSizeScale=o/N,this.ctx.font=`${C} ${n} ${N}px ${x}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,o){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=o}setLeadingMoveText(l,o){this.setLeading(-o),this.moveText(l,o)}setTextMatrix(l,o,S,g,E,n){this.current.textMatrix=[l,o,S,g,E,n],this.current.textMatrixScale=Math.hypot(l,o),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,o,S,g,E){const n=this.ctx,C=this.current,x=C.font,N=C.textRenderingMode,p=C.fontSize/C.fontSizeScale,j=N&b.TextRenderingMode.FILL_STROKE_MASK,z=!!(N&b.TextRenderingMode.ADD_TO_PATH_FLAG),$=C.patternFill&&!x.missingFile;let Z;(x.disableFontFace||z||$)&&(Z=x.getPathGenerator(this.commonObjs,l)),x.disableFontFace||$?(n.save(),n.translate(o,S),n.beginPath(),Z(n,p),g&&n.setTransform.apply(n,g),(j===b.TextRenderingMode.FILL||j===b.TextRenderingMode.FILL_STROKE)&&n.fill(),(j===b.TextRenderingMode.STROKE||j===b.TextRenderingMode.FILL_STROKE)&&(E&&(n.resetTransform(),n.lineWidth=Math.floor(this._combinedScaleFactor)),n.stroke()),n.restore()):((j===b.TextRenderingMode.FILL||j===b.TextRenderingMode.FILL_STROKE)&&n.fillText(l,o,S),(j===b.TextRenderingMode.STROKE||j===b.TextRenderingMode.FILL_STROKE)&&(E?(n.save(),n.moveTo(o,S),n.resetTransform(),n.lineWidth=Math.floor(this._combinedScaleFactor),n.strokeText(l,0,0),n.restore()):n.strokeText(l,o,S))),z&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:n.mozCurrentTransform,x:o,y:S,fontSize:p,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const o=l.getImageData(0,0,10,10).data;let S=!1;for(let g=3;g<o.length;g+=4)if(o[g]>0&&o[g]<255){S=!0;break}return(0,b.shadow)(this,"isFontSubpixelAAEnabled",S)}showText(l){const o=this.current,S=o.font;if(S.isType3Font)return this.showType3Text(l);const g=o.fontSize;if(0===g)return;const E=this.ctx,n=o.fontSizeScale,C=o.charSpacing,x=o.wordSpacing,N=o.fontDirection,p=o.textHScale*N,j=l.length,z=S.vertical,$=z?1:-1,Z=S.defaultVMetrics,te=g*o.fontMatrix[0],Y=o.textRenderingMode===b.TextRenderingMode.FILL&&!S.disableFontFace&&!o.patternFill;let ne;if(E.save(),E.transform.apply(E,o.textMatrix),E.translate(o.x,o.y+o.textRise),E.scale(p,N>0?-1:1),o.patternFill){E.save();const q=o.fillColor.getPattern(E,this,E.mozCurrentTransformInverse,oe.PathType.FILL);ne=E.mozCurrentTransform,E.restore(),E.fillStyle=q}let U=o.lineWidth,a=!1;const w=o.textMatrixScale;if(0===w||0===U){const q=o.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;(q===b.TextRenderingMode.STROKE||q===b.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,U=this.getSinglePixelWidth(),a=U<0)}else U/=w;1!==n&&(E.scale(n,n),U/=n),E.lineWidth=U;let G,X=0;for(G=0;G<j;++G){const q=l[G];if("number"==typeof q){X+=$*q*g/1e3;continue}let ae=!1;const ce=(q.isSpace?x:0)+C,he=q.fontChar,pe=q.accent;let ge,_e,Ce,ve=q.width;if(z){const me=q.vmetric||Z,Se=-(q.vmetric?me[1]:.5*ve)*te;ve=me?-me[0]:ve,ge=Se/n,_e=(X+me[2]*te)/n}else ge=X/n,_e=0;if(S.remeasure&&ve>0){const me=1e3*E.measureText(he).width/g*n;if(ve<me&&this.isFontSubpixelAAEnabled){const Se=ve/me;ae=!0,E.save(),E.scale(Se,1),ge/=Se}else ve!==me&&(ge+=(ve-me)/2e3*g/n)}this.contentVisible&&(q.isInFont||S.missingFile)&&(Y&&!pe?E.fillText(he,ge,_e):(this.paintChar(he,ge,_e,ne,a),pe&&this.paintChar(pe.fontChar,ge+g*pe.offset.x/n,_e-g*pe.offset.y/n,ne,a))),Ce=z?ve*te-ce*N:ve*te+ce*N,X+=Ce,ae&&E.restore()}z?o.y-=X:o.x+=X*p,E.restore(),this.compose()}showType3Text(l){const o=this.ctx,S=this.current,g=S.font,E=S.fontSize,n=S.fontDirection,C=g.vertical?1:-1,x=S.charSpacing,N=S.wordSpacing,p=S.textHScale*n,j=S.fontMatrix||b.FONT_IDENTITY_MATRIX,z=l.length;let Z,te,Y,ne;if(S.textRenderingMode!==b.TextRenderingMode.INVISIBLE&&0!==E){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,S.textMatrix),o.translate(S.x,S.y),o.scale(p,n),Z=0;Z<z;++Z){if(te=l[Z],"number"==typeof te){ne=C*te*E/1e3,this.ctx.translate(ne,0),S.x+=ne*p;continue}const U=(te.isSpace?N:0)+x,a=g.charProcOperatorList[te.operatorListId];a?(this.contentVisible&&(this.processingType3=te,this.save(),o.scale(E,E),o.transform.apply(o,j),this.executeOperatorList(a),this.restore()),Y=b.Util.applyTransform([te.width,0],j)[0]*E+U,o.translate(Y,0),S.x+=Y*p):(0,b.warn)(`Type3 character "${te.operatorListId}" is not available.`)}o.restore(),this.processingType3=null}}setCharWidth(l,o){}setCharWidthAndBounds(l,o,S,g,E,n){this.ctx.rect(S,g,E-S,n-g),this.clip(),this.endPath()}getColorN_Pattern(l){let o;if("TilingPattern"===l[0]){const S=l[1],g=this.baseTransform||this.ctx.mozCurrentTransform.slice();o=new oe.TilingPattern(l,S,this.ctx,{createCanvasGraphics:n=>new H(n,this.commonObjs,this.objs,this.canvasFactory)},g)}else o=this._getPattern(l[1],l[2]);return o}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,o,S){const g=b.Util.makeHexColor(l,o,S);this.ctx.strokeStyle=g,this.current.strokeColor=g}setFillRGBColor(l,o,S){const g=b.Util.makeHexColor(l,o,S);this.ctx.fillStyle=g,this.current.fillColor=g,this.current.patternFill=!1}_getPattern(l,o=null){let S;return this.cachedPatterns.has(l)?S=this.cachedPatterns.get(l):(S=(0,oe.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,S)),o&&(S.matrix=o),S}shadingFill(l){if(!this.contentVisible)return;const o=this.ctx;this.save();const S=this._getPattern(l);o.fillStyle=S.getPattern(o,this,o.mozCurrentTransformInverse,oe.PathType.SHADING);const g=o.mozCurrentTransformInverse;if(g){const E=o.canvas,n=E.width,C=E.height,x=b.Util.applyTransform([0,0],g),N=b.Util.applyTransform([0,C],g),p=b.Util.applyTransform([n,0],g),j=b.Util.applyTransform([n,C],g),z=Math.min(x[0],N[0],p[0],j[0]),$=Math.min(x[1],N[1],p[1],j[1]),Z=Math.max(x[0],N[0],p[0],j[0]),te=Math.max(x[1],N[1],p[1],j[1]);this.ctx.fillRect(z,$,Z-z,te-$)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,b.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,b.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,o){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,o)&&(this.ctx.rect(o[0],o[1],o[2]-o[0],o[3]-o[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,o[0],o[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,o[2],o[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const o=this.ctx;l.isolated||(0,b.info)("TODO: Support non-isolated groups."),l.knockout&&(0,b.warn)("Knockout groups not supported.");const S=o.mozCurrentTransform;if(l.matrix&&o.transform.apply(o,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let g=b.Util.getAxialAlignedBoundingBox(l.bbox,o.mozCurrentTransform);g=b.Util.intersect(g,[0,0,o.canvas.width,o.canvas.height])||[0,0,0,0];const n=Math.floor(g[0]),C=Math.floor(g[1]);let x=Math.max(Math.ceil(g[2])-n,1),N=Math.max(Math.ceil(g[3])-C,1),p=1,j=1;x>L&&(p=x/L,x=L),N>L&&(j=N/L,N=L),this.current.startNewPathAndClipBox([0,0,x,N]);let z="groupAt"+this.groupLevel;l.smask&&(z+="_smask_"+this.smaskCounter++%2);const $=this.cachedCanvases.getCanvas(z,x,N,!0),Z=$.context;Z.scale(1/p,1/j),Z.translate(-n,-C),Z.transform.apply(Z,S),l.smask?this.smaskStack.push({canvas:$.canvas,context:Z,offsetX:n,offsetY:C,scaleX:p,scaleY:j,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(o.setTransform(1,0,0,1,0,0),o.translate(n,C),o.scale(p,j),o.save()),i(o,Z),this.ctx=Z,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const o=this.ctx,S=this.groupStack.pop();if(this.ctx=S,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const g=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,g);const E=b.Util.getAxialAlignedBoundingBox([0,0,o.canvas.width,o.canvas.height],g);this.ctx.drawImage(o.canvas,0,0),this.ctx.restore(),this.compose(E)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,o,S,g,E){if(this.save(),Array.isArray(o)&&4===o.length){const n=o[2]-o[0],C=o[3]-o[1];if(E&&this.annotationCanvasMap){(S=S.slice())[4]-=o[0],S[5]-=o[1],(o=o.slice())[0]=o[1]=0,o[2]=n,o[3]=C;const[x,N]=b.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:p}=this,j=Math.ceil(n*this.outputScaleX*p),z=Math.ceil(C*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(j,z);const{canvas:$,context:Z}=this.annotationCanvas;$.style.width=`calc(${n}px * var(--viewport-scale-factor))`,$.style.height=`calc(${C}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(l,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Z,this.ctx.setTransform(x,0,0,-N,0,C*N),r(this.ctx),v(this.ctx)}else v(this.ctx),this.ctx.rect(o[0],o[1],n,C),this.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,S),this.transform.apply(this,g)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const o=this.ctx,S=l.width,g=l.height,E=this.processingType3;if(E&&void 0===E.compiled&&(E.compiled=S<=1e3&&g<=1e3?function(y){const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),S=y.width,g=y.height,E=S+1;let n,C,x,N;const p=new Uint8Array(E*(g+1)),j=S+7&-8,z=y.data,$=new Uint8Array(j*g);let Z=0;for(n=0,C=z.length;n<C;n++){const a=z[n];let w=128;for(;w>0;)$[Z++]=a&w?0:255,w>>=1}let te=0;for(Z=0,0!==$[Z]&&(p[0]=1,++te),x=1;x<S;x++)$[Z]!==$[Z+1]&&(p[x]=$[Z]?2:1,++te),Z++;for(0!==$[Z]&&(p[x]=2,++te),n=1;n<g;n++){Z=n*j,N=n*E,$[Z-j]!==$[Z]&&(p[N]=$[Z]?1:8,++te);let a=($[Z]?4:0)+($[Z-j]?8:0);for(x=1;x<S;x++)a=(a>>2)+($[Z+1]?4:0)+($[Z-j+1]?8:0),o[a]&&(p[N+x]=o[a],++te),Z++;if($[Z-j]!==$[Z]&&(p[N+x]=$[Z]?2:4,++te),te>1e3)return null}for(Z=j*(g-1),N=n*E,0!==$[Z]&&(p[N]=8,++te),x=1;x<S;x++)$[Z]!==$[Z+1]&&(p[N+x]=$[Z]?4:8,++te),Z++;if(0!==$[Z]&&(p[N+x]=4,++te),te>1e3)return null;const Y=new Int32Array([0,E,-1,0,-E,0,0,0,1]),ne=[];for(n=0;te&&n<=g;n++){let a=n*E;const w=a+S;for(;a<w&&!p[a];)a++;if(a===w)continue;const X=[a%E,n],G=a;let q=p[a];do{const ae=Y[q];do{a+=ae}while(!p[a]);const ce=p[a];5!==ce&&10!==ce?(q=ce,p[a]=0):(q=ce&51*q>>4,p[a]&=q>>2|q<<2),X.push(a%E,a/E|0),p[a]||--te}while(G!==a);ne.push(X),--n}return function(a){a.save(),a.scale(1/S,-1/g),a.translate(0,-g),a.beginPath();for(let w=0,X=ne.length;w<X;w++){const G=ne[w];a.moveTo(G[0],G[1]);for(let q=2,ae=G.length;q<ae;q+=2)a.lineTo(G[q],G[q+1])}a.fill(),a.beginPath(),a.restore()}}({data:l.data,width:S,height:g}):null),null==E?void 0:E.compiled)return void E.compiled(o);const n=this._createMaskCanvas(l),C=n.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(C,n.offsetX,n.offsetY),o.restore(),this.compose()}paintImageMaskXObjectRepeat(l,o,S=0,g=0,E,n){if(!this.contentVisible)return;const C=this.ctx;C.save();const x=C.mozCurrentTransform;C.transform(o,S,g,E,0,0);const N=this._createMaskCanvas(l);C.setTransform(1,0,0,1,0,0);for(let p=0,j=n.length;p<j;p+=2){const z=b.Util.transform(x,[o,S,g,E,n[p],n[p+1]]),[$,Z]=b.Util.applyTransform([0,0],z);C.drawImage(N.canvas,$,Z)}C.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const o=this.ctx,S=this.current.fillColor,g=this.current.patternFill;for(let E=0,n=l.length;E<n;E++){const C=l[E],x=C.width,N=C.height,p=this.cachedCanvases.getCanvas("maskCanvas",x,N),j=p.context;j.save(),t(j,C),j.globalCompositeOperation="source-in",j.fillStyle=g?S.getPattern(j,this,o.mozCurrentTransformInverse,oe.PathType.FILL):S,j.fillRect(0,0,x,N),j.restore(),o.save(),o.transform.apply(o,C.transform),o.scale(1,-1),o.drawImage(p.canvas,0,0,x,N,0,-1,1,1),o.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const o=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);o?this.paintInlineImageXObject(o):(0,b.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,o,S,g){if(!this.contentVisible)return;const E=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);if(!E)return void(0,b.warn)("Dependent image isn't ready yet");const n=E.width,C=E.height,x=[];for(let N=0,p=g.length;N<p;N+=2)x.push({transform:[o,0,0,S,g[N],g[N+1]],x:0,y:0,w:n,h:C});this.paintInlineImageXObjectGroup(E,x)}paintInlineImageXObject(l){if(!this.contentVisible)return;const o=l.width,S=l.height,g=this.ctx;let E;if(this.save(),g.scale(1/o,-1/S),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)E=l;else{const C=this.cachedCanvases.getCanvas("inlineImage",o,S);m(C.context,l,this.current.transferMaps),E=C.canvas}const n=this._scaleImage(E,g.mozCurrentTransformInverse);if(g.imageSmoothingEnabled=V(g.mozCurrentTransform,l.interpolate),g.drawImage(n.img,0,0,n.paintWidth,n.paintHeight,0,-S,o,S),this.imageLayer){const C=this.getCanvasPosition(0,-S);this.imageLayer.appendImage({imgData:l,left:C[0],top:C[1],width:o/g.mozCurrentTransformInverse[0],height:S/g.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,o){if(!this.contentVisible)return;const S=this.ctx,g=l.width,E=l.height,n=this.cachedCanvases.getCanvas("inlineImage",g,E);m(n.context,l,this.current.transferMaps);for(let x=0,N=o.length;x<N;x++){const p=o[x];if(S.save(),S.transform.apply(S,p.transform),S.scale(1,-1),S.drawImage(n.canvas,p.x,p.y,p.w,p.h,0,-1,1,1),this.imageLayer){const j=this.getCanvasPosition(p.x,p.y);this.imageLayer.appendImage({imgData:l,left:j[0],top:j[1],width:g,height:E})}S.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,o){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,o){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(o)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const o=this.ctx;this.pendingClip&&(this.pendingClip===R?o.clip("evenodd"):o.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),o.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform,o=Math.abs(l[0]*l[3]-l[2]*l[1]),S=l[0]**2+l[2]**2,g=l[1]**2+l[3]**2,E=Math.sqrt(Math.max(S,g))/o;this._cachedGetSinglePixelWidth=S!==g&&this._combinedScaleFactor*E>1?-this._combinedScaleFactor*E:o>Number.EPSILON?E:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(l,o){const S=this.ctx.mozCurrentTransform;return[S[0]*l+S[2]*o+S[4],S[1]*l+S[3]*o+S[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}k.CanvasGraphics=H;for(const y in b.OPS)void 0!==H.prototype[y]&&(H.prototype[b.OPS[y]]=H.prototype[y])},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.TilingPattern=k.PathType=void 0,k.getShadingPattern=function(u){switch(u[0]){case"RadialAxial":return new ee(u);case"Mesh":return new d(u);case"Dummy":return new s}throw new Error(`Unknown IR type: ${u[0]}`)};var b=K(1);const oe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ie(u,r){if(!r||"undefined"==typeof Path2D)return;const h=r[2]-r[0],M=r[3]-r[1],P=new Path2D;P.rect(r[0],r[1],h,M),u.clip(P)}k.PathType=oe;class re{constructor(){this.constructor===re&&(0,b.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,b.unreachable)("Abstract method `getPattern` called.")}}class ee extends re{constructor(r){super(),this._type=r[1],this._bbox=r[2],this._colorStops=r[3],this._p0=r[4],this._p1=r[5],this._r0=r[6],this._r1=r[7],this.matrix=null}_createGradient(r){let h;"axial"===this._type?h=r.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(h=r.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const M of this._colorStops)h.addColorStop(M[0],M[1]);return h}getPattern(r,h,M,P){let m;if(P===oe.STROKE||P===oe.FILL){const t=h.current.getClippedPathBoundingBox(P,r.mozCurrentTransform)||[0,0,0,0],i=Math.ceil(t[2]-t[0])||1,v=Math.ceil(t[3]-t[1])||1,_=h.cachedCanvases.getCanvas("pattern",i,v,!0),A=_.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-t[0],-t[1]),M=b.Util.transform(M,[1,0,0,1,t[0],t[1]]),A.transform.apply(A,h.baseTransform),this.matrix&&A.transform.apply(A,this.matrix),ie(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),m=r.createPattern(_.canvas,"no-repeat");const O=new DOMMatrix(M);try{m.setTransform(O)}catch(F){(0,b.warn)(`RadialAxialShadingPattern.getPattern: "${null==F?void 0:F.message}".`)}}else ie(r,this._bbox),m=this._createGradient(r);return m}}function L(u,r,h,M,P,m,t,i){const v=r.coords,_=r.colors,A=u.data,O=4*u.width;let F;v[h+1]>v[M+1]&&(F=h,h=M,M=F,F=m,m=t,t=F),v[M+1]>v[P+1]&&(F=M,M=P,P=F,F=t,t=i,i=F),v[h+1]>v[M+1]&&(F=h,h=M,M=F,F=m,m=t,t=F);const B=(v[h]+r.offsetX)*r.scaleX,V=(v[h+1]+r.offsetY)*r.scaleY,D=(v[M]+r.offsetX)*r.scaleX,I=(v[M+1]+r.offsetY)*r.scaleY,W=(v[P]+r.offsetX)*r.scaleX,R=(v[P+1]+r.offsetY)*r.scaleY;if(V>=R)return;const H=_[m],y=_[m+1],l=_[m+2],o=_[t],S=_[t+1],g=_[t+2],E=_[i],n=_[i+1],C=_[i+2],x=Math.round(V),N=Math.round(R);let p,j,z,$,Z,te,Y,ne;for(let U=x;U<=N;U++){if(U<I){let q;q=U<V?0:(V-U)/(V-I),p=B-(B-D)*q,j=H-(H-o)*q,z=y-(y-S)*q,$=l-(l-g)*q}else{let q;q=U>R?1:I===R?0:(I-U)/(I-R),p=D-(D-W)*q,j=o-(o-E)*q,z=S-(S-n)*q,$=g-(g-C)*q}let a;a=U<V?0:U>R?1:(V-U)/(V-R),Z=B-(B-W)*a,te=H-(H-E)*a,Y=y-(y-n)*a,ne=l-(l-C)*a;const w=Math.round(Math.min(p,Z)),X=Math.round(Math.max(p,Z));let G=O*U+4*w;for(let q=w;q<=X;q++)a=(p-q)/(p-Z),a<0?a=0:a>1&&(a=1),A[G++]=j-(j-te)*a|0,A[G++]=z-(z-Y)*a|0,A[G++]=$-($-ne)*a|0,A[G++]=255}}function e(u,r,h){const M=r.coords,P=r.colors;let m,t;switch(r.type){case"lattice":const i=r.verticesPerRow,v=Math.floor(M.length/i)-1,_=i-1;for(m=0;m<v;m++){let A=m*i;for(let O=0;O<_;O++,A++)L(u,h,M[A],M[A+1],M[A+i],P[A],P[A+1],P[A+i]),L(u,h,M[A+i+1],M[A+1],M[A+i],P[A+i+1],P[A+1],P[A+i])}break;case"triangles":for(m=0,t=M.length;m<t;m+=3)L(u,h,M[m],M[m+1],M[m+2],P[m],P[m+1],P[m+2]);break;default:throw new Error("illegal figure")}}class d extends re{constructor(r){super(),this._coords=r[2],this._colors=r[3],this._figures=r[4],this._bounds=r[5],this._bbox=r[7],this._background=r[8],this.matrix=null}_createMeshCanvas(r,h,M){const i=Math.floor(this._bounds[0]),v=Math.floor(this._bounds[1]),_=Math.ceil(this._bounds[2])-i,A=Math.ceil(this._bounds[3])-v,O=Math.min(Math.ceil(Math.abs(_*r[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(A*r[1]*1.1)),3e3),B=_/O,V=A/F,D={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-v,scaleX:1/B,scaleY:1/V},R=M.getCanvas("mesh",O+4,F+4,!1),H=R.context,y=H.createImageData(O,F);if(h){const o=y.data;for(let S=0,g=o.length;S<g;S+=4)o[S]=h[0],o[S+1]=h[1],o[S+2]=h[2],o[S+3]=255}for(const o of this._figures)e(y,o,D);return H.putImageData(y,2,2),{canvas:R.canvas,offsetX:i-2*B,offsetY:v-2*V,scaleX:B,scaleY:V}}getPattern(r,h,M,P){let m;if(ie(r,this._bbox),P===oe.SHADING)m=b.Util.singularValueDecompose2dScale(r.mozCurrentTransform);else if(m=b.Util.singularValueDecompose2dScale(h.baseTransform),this.matrix){const i=b.Util.singularValueDecompose2dScale(this.matrix);m=[m[0]*i[0],m[1]*i[1]]}const t=this._createMeshCanvas(m,P===oe.SHADING?null:this._background,h.cachedCanvases);return P!==oe.SHADING&&(r.setTransform.apply(r,h.baseTransform),this.matrix&&r.transform.apply(r,this.matrix)),r.translate(t.offsetX,t.offsetY),r.scale(t.scaleX,t.scaleY),r.createPattern(t.canvas,"no-repeat")}}class s extends re{getPattern(){return"hotpink"}}class T{static get MAX_PATTERN_SIZE(){return(0,b.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(r,h,M,P,m){this.operatorList=r[2],this.matrix=r[3]||[1,0,0,1,0,0],this.bbox=r[4],this.xstep=r[5],this.ystep=r[6],this.paintType=r[7],this.tilingType=r[8],this.color=h,this.ctx=M,this.canvasGraphicsFactory=P,this.baseTransform=m}createPatternCanvas(r){const h=this.operatorList,M=this.bbox,P=this.xstep,m=this.ystep,t=this.paintType,v=this.color,_=this.canvasGraphicsFactory;(0,b.info)("TilingType: "+this.tilingType);const A=M[0],O=M[1],F=M[2],B=M[3],V=b.Util.singularValueDecompose2dScale(this.matrix),D=b.Util.singularValueDecompose2dScale(this.baseTransform),I=[V[0]*D[0],V[1]*D[1]],W=this.getSizeAndScale(P,this.ctx.canvas.width,I[0]),R=this.getSizeAndScale(m,this.ctx.canvas.height,I[1]),H=r.cachedCanvases.getCanvas("pattern",W.size,R.size,!0),y=H.context,l=_.createCanvasGraphics(y);l.groupLevel=r.groupLevel,this.setFillAndStrokeStyleToContext(l,t,v);let o=A,S=O,g=F,E=B;return A<0&&(o=0,g+=Math.abs(A)),O<0&&(S=0,E+=Math.abs(O)),y.translate(-W.scale*o,-R.scale*S),l.transform(W.scale,0,0,R.scale,0,0),y.save(),this.clipBbox(l,o,S,g,E),l.baseTransform=l.ctx.mozCurrentTransform.slice(),l.executeOperatorList(h),l.endDrawing(),{canvas:H.canvas,scaleX:W.scale,scaleY:R.scale,offsetX:o,offsetY:S}}getSizeAndScale(r,h,M){r=Math.abs(r);const P=Math.max(T.MAX_PATTERN_SIZE,h);let m=Math.ceil(r*M);return m>=P?m=P:M=m/r,{scale:M,size:m}}clipBbox(r,h,M,P,m){r.ctx.rect(h,M,P-h,m-M),r.clip(),r.endPath()}setFillAndStrokeStyleToContext(r,h,M){const P=r.ctx,m=r.current;switch(h){case 1:const t=this.ctx;P.fillStyle=t.fillStyle,P.strokeStyle=t.strokeStyle,m.fillColor=t.fillStyle,m.strokeColor=t.strokeStyle;break;case 2:const i=b.Util.makeHexColor(M[0],M[1],M[2]);P.fillStyle=i,P.strokeStyle=i,m.fillColor=i,m.strokeColor=i;break;default:throw new b.FormatError(`Unsupported paint type: ${h}`)}}getPattern(r,h,M,P){let m=M;P!==oe.SHADING&&(m=b.Util.transform(m,h.baseTransform),this.matrix&&(m=b.Util.transform(m,this.matrix)));const t=this.createPatternCanvas(h);let i=new DOMMatrix(m);i=i.translate(t.offsetX,t.offsetY),i=i.scale(1/t.scaleX,1/t.scaleY);const v=r.createPattern(t.canvas,"repeat");try{v.setTransform(i)}catch(_){(0,b.warn)(`TilingPattern.getPattern: "${null==_?void 0:_.message}".`)}return v}}k.TilingPattern=T},(le,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.GlobalWorkerOptions=void 0;const K=Object.create(null);k.GlobalWorkerOptions=K,K.workerPort=void 0===K.workerPort?null:K.workerPort,K.workerSrc=void 0===K.workerSrc?"":K.workerSrc},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MessageHandler=void 0;var b=K(1);function re(L){switch(L instanceof Error||"object"==typeof L&&null!==L||(0,b.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),L.name){case"AbortException":return new b.AbortException(L.message);case"MissingPDFException":return new b.MissingPDFException(L.message);case"PasswordException":return new b.PasswordException(L.message,L.code);case"UnexpectedResponseException":return new b.UnexpectedResponseException(L.message,L.status);case"UnknownErrorException":return new b.UnknownErrorException(L.message,L.details);default:return new b.UnknownErrorException(L.message,L.toString())}}k.MessageHandler=class{constructor(e,d,s){this.sourceName=e,this.targetName=d,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=c=>{const f=c.data;if(f.targetName!==this.sourceName)return;if(f.stream)return void this._processStreamMessage(f);if(f.callback){const u=f.callbackId,r=this.callbackCapabilities[u];if(!r)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],1===f.callback)r.resolve(f.data);else{if(2!==f.callback)throw new Error("Unexpected callback case");r.reject(re(f.reason))}return}const T=this.actionHandler[f.action];if(!T)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){const u=this.sourceName,r=f.sourceName;new Promise(function(h){h(T(f.data))}).then(function(h){s.postMessage({sourceName:u,targetName:r,callback:1,callbackId:f.callbackId,data:h})},function(h){s.postMessage({sourceName:u,targetName:r,callback:2,callbackId:f.callbackId,reason:re(h)})})}else f.streamId?this._createStreamSink(f):T(f.data)},s.addEventListener("message",this._onComObjOnMessage)}on(e,d){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=d}send(e,d,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:d},s)}sendWithPromise(e,d,s){const c=this.callbackId++,f=(0,b.createPromiseCapability)();this.callbackCapabilities[c]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:c,data:d},s)}catch(T){f.reject(T)}return f.promise}sendWithStream(e,d,s,c){const f=this.streamId++,T=this.sourceName,u=this.targetName,r=this.comObj;return new ReadableStream({start:h=>{const M=(0,b.createPromiseCapability)();return this.streamControllers[f]={controller:h,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},r.postMessage({sourceName:T,targetName:u,action:e,streamId:f,data:d,desiredSize:h.desiredSize},c),M.promise},pull:h=>{const M=(0,b.createPromiseCapability)();return this.streamControllers[f].pullCall=M,r.postMessage({sourceName:T,targetName:u,stream:6,streamId:f,desiredSize:h.desiredSize}),M.promise},cancel:h=>{(0,b.assert)(h instanceof Error,"cancel must have a valid reason");const M=(0,b.createPromiseCapability)();return this.streamControllers[f].cancelCall=M,this.streamControllers[f].isClosed=!0,r.postMessage({sourceName:T,targetName:u,stream:1,streamId:f,reason:re(h)}),M.promise}},s)}_createStreamSink(e){const d=e.streamId,s=this.sourceName,c=e.sourceName,f=this.comObj,T=this,u=this.actionHandler[e.action],r={enqueue(h,M=1,P){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=M,m>0&&this.desiredSize<=0&&(this.sinkCapability=(0,b.createPromiseCapability)(),this.ready=this.sinkCapability.promise),f.postMessage({sourceName:s,targetName:c,stream:4,streamId:d,chunk:h},P)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:s,targetName:c,stream:3,streamId:d}),delete T.streamSinks[d])},error(h){(0,b.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:s,targetName:c,stream:5,streamId:d,reason:re(h)}))},sinkCapability:(0,b.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};r.sinkCapability.resolve(),r.ready=r.sinkCapability.promise,this.streamSinks[d]=r,new Promise(function(h){h(u(e.data,r))}).then(function(){f.postMessage({sourceName:s,targetName:c,stream:8,streamId:d,success:!0})},function(h){f.postMessage({sourceName:s,targetName:c,stream:8,streamId:d,reason:re(h)})})}_processStreamMessage(e){const d=e.streamId,s=this.sourceName,c=e.sourceName,f=this.comObj,T=this.streamControllers[d],u=this.streamSinks[d];switch(e.stream){case 8:e.success?T.startCall.resolve():T.startCall.reject(re(e.reason));break;case 7:e.success?T.pullCall.resolve():T.pullCall.reject(re(e.reason));break;case 6:if(!u){f.postMessage({sourceName:s,targetName:c,stream:7,streamId:d,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,new Promise(function(r){r(u.onPull&&u.onPull())}).then(function(){f.postMessage({sourceName:s,targetName:c,stream:7,streamId:d,success:!0})},function(r){f.postMessage({sourceName:s,targetName:c,stream:7,streamId:d,reason:re(r)})});break;case 4:if((0,b.assert)(T,"enqueue should have stream controller"),T.isClosed)break;T.controller.enqueue(e.chunk);break;case 3:if((0,b.assert)(T,"close should have stream controller"),T.isClosed)break;T.isClosed=!0,T.controller.close(),this._deleteStreamController(T,d);break;case 5:(0,b.assert)(T,"error should have stream controller"),T.controller.error(re(e.reason)),this._deleteStreamController(T,d);break;case 2:e.success?T.cancelCall.resolve():T.cancelCall.reject(re(e.reason)),this._deleteStreamController(T,d);break;case 1:if(!u)break;new Promise(function(r){r(u.onCancel&&u.onCancel(re(e.reason)))}).then(function(){f.postMessage({sourceName:s,targetName:c,stream:2,streamId:d,success:!0})},function(r){f.postMessage({sourceName:s,targetName:c,stream:2,streamId:d,reason:re(r)})}),u.sinkCapability.reject(re(e.reason)),u.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(e,d){var s=this;return _asyncToGenerator(function*(){yield Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete s.streamControllers[d]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(le,k,K)=>{var ie,re;Object.defineProperty(k,"__esModule",{value:!0}),k.Metadata=void 0;var b=K(1);ie=new WeakMap,re=new WeakMap,k.Metadata=class{constructor({parsedData:L,rawData:e}){ye(this,ie,void 0),ye(this,re,void 0),Pe(this,ie,L),Pe(this,re,e)}getRaw(){return ue(this,re)}get(L){var e;return null!=(e=ue(this,ie).get(L))?e:null}getAll(){return(0,b.objectFromMap)(ue(this,ie))}has(L){return ue(this,ie).has(L)}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.OptionalContentConfig=void 0;var b=K(1);class oe{constructor(ee,L){this.visible=!0,this.name=ee,this.intent=L}}k.OptionalContentConfig=class{constructor(ee){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ee){this.name=ee.name,this.creator=ee.creator,this._order=ee.order;for(const L of ee.groups)this._groups.set(L.id,new oe(L.name,L.intent));if("OFF"===ee.baseState)for(const L of this._groups)L.visible=!1;for(const L of ee.on)this._groups.get(L).visible=!0;for(const L of ee.off)this._groups.get(L).visible=!1}}_evaluateVisibilityExpression(ee){const L=ee.length;if(L<2)return!0;const e=ee[0];for(let d=1;d<L;d++){const s=ee[d];let c;if(Array.isArray(s))c=this._evaluateVisibilityExpression(s);else{if(!this._groups.has(s))return(0,b.warn)(`Optional content group not found: ${s}`),!0;c=this._groups.get(s).visible}switch(e){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return"And"===e}isVisible(ee){if(0===this._groups.size)return!0;if(!ee)return(0,b.warn)("Optional content group not defined."),!0;if("OCG"===ee.type)return this._groups.has(ee.id)?this._groups.get(ee.id).visible:((0,b.warn)(`Optional content group not found: ${ee.id}`),!0);if("OCMD"===ee.type){if(ee.expression)return this._evaluateVisibilityExpression(ee.expression);if(!ee.policy||"AnyOn"===ee.policy){for(const L of ee.ids){if(!this._groups.has(L))return(0,b.warn)(`Optional content group not found: ${L}`),!0;if(this._groups.get(L).visible)return!0}return!1}if("AllOn"===ee.policy){for(const L of ee.ids){if(!this._groups.has(L))return(0,b.warn)(`Optional content group not found: ${L}`),!0;if(!this._groups.get(L).visible)return!1}return!0}if("AnyOff"===ee.policy){for(const L of ee.ids){if(!this._groups.has(L))return(0,b.warn)(`Optional content group not found: ${L}`),!0;if(!this._groups.get(L).visible)return!0}return!1}if("AllOff"===ee.policy){for(const L of ee.ids){if(!this._groups.has(L))return(0,b.warn)(`Optional content group not found: ${L}`),!0;if(this._groups.get(L).visible)return!1}return!0}return(0,b.warn)(`Unknown optional content policy ${ee.policy}.`),!0}return(0,b.warn)(`Unknown group type ${ee.type}.`),!0}setVisibility(ee,L=!0){this._groups.has(ee)?this._groups.get(ee).visible=!!L:(0,b.warn)(`Optional content group not found: ${ee}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,b.objectFromMap)(this._groups):null}getGroup(ee){return this._groups.get(ee)||null}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFDataTransportStream=void 0;var b=K(1),oe=K(5);k.PDFDataTransportStream=class{constructor(e,d){(0,b.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const s=e.initialData;if((null==s?void 0:s.length)>0){const c=new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((c,f)=>{this._onReceiveData({begin:c,chunk:f})}),this._pdfDataRangeTransport.addProgressListener((c,f)=>{this._onProgress({loaded:c,total:f})}),this._pdfDataRangeTransport.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const d=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(d):this._queuedChunks.push(d);else{const s=this._rangeReaders.some(function(c){return c._begin===e.begin&&(c._enqueue(d),!0)});(0,b.assert)(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,d;return null!=(d=null==(e=this._fullRequestReader)?void 0:e._loaded)?d:0}_onProgress(e){if(void 0===e.total){const d=this._rangeReaders[0];(null==d?void 0:d.onProgress)&&d.onProgress({loaded:e.loaded})}else{const d=this._fullRequestReader;(null==d?void 0:d.onProgress)&&d.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const d=this._rangeReaders.indexOf(e);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,b.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new re(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,d){if(d<=this._progressiveDataLength)return null;const s=new ee(this,e,d);return this._pdfDataRangeTransport.requestDataRange(e,d),this._rangeReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const d of this._rangeReaders.slice(0))d.cancel(e);this._pdfDataRangeTransport.abort()}};class re{constructor(e,d,s=!1,c=null){this._stream=e,this._done=s||!1,this._filename=(0,oe.isPdfFile)(c)?c:null,this._queuedChunks=d||[],this._loaded=0;for(const f of this._queuedChunks)this._loaded+=f.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var e=this;return _asyncToGenerator(function*(){if(e._queuedChunks.length>0)return{value:e._queuedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const d=(0,b.createPromiseCapability)();return e._requests.push(d),d.promise})()}cancel(e){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ee{constructor(e,d,s){this._stream=e,this._begin=d,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var e=this;return _asyncToGenerator(function*(){if(e._queuedChunk){const s=e._queuedChunk;return e._queuedChunk=null,{value:s,done:!1}}if(e._done)return{value:void 0,done:!0};const d=(0,b.createPromiseCapability)();return e._requests.push(d),d.promise})()}cancel(e){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(le,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaText=void 0;class K{static textContent(oe){const ie=[],re={items:ie,styles:Object.create(null)};return function ee(L){var s;if(!L)return;let e=null;const d=L.name;if("#text"===d)e=L.value;else{if(!K.shouldBuildText(d))return;(null==(s=null==L?void 0:L.attributes)?void 0:s.textContent)?e=L.attributes.textContent:L.value&&(e=L.value)}if(null!==e&&ie.push({str:e}),L.children)for(const c of L.children)ee(c)}(oe),re}static shouldBuildText(oe){return!("textarea"===oe||"input"===oe||"option"===oe||"select"===oe)}}k.XfaText=K},(le,k,K)=>{var S,Ze;Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationLayer=void 0;var b=K(1),oe=K(5),ie=K(9),re=K(19),ee=K(20);const L=1e3,e=new WeakSet;function d(E){return{width:E[2]-E[0],height:E[3]-E[1]}}class s{static create(n){switch(n.data.annotationType){case b.AnnotationType.LINK:return new f(n);case b.AnnotationType.TEXT:return new T(n);case b.AnnotationType.WIDGET:switch(n.data.fieldType){case"Tx":return new r(n);case"Btn":return n.data.radioButton?new M(n):n.data.checkBox?new h(n):new P(n);case"Ch":return new m(n)}return new u(n);case b.AnnotationType.POPUP:return new t(n);case b.AnnotationType.FREETEXT:return new v(n);case b.AnnotationType.LINE:return new _(n);case b.AnnotationType.SQUARE:return new A(n);case b.AnnotationType.CIRCLE:return new O(n);case b.AnnotationType.POLYLINE:return new F(n);case b.AnnotationType.CARET:return new V(n);case b.AnnotationType.INK:return new D(n);case b.AnnotationType.POLYGON:return new B(n);case b.AnnotationType.HIGHLIGHT:return new I(n);case b.AnnotationType.UNDERLINE:return new W(n);case b.AnnotationType.SQUIGGLY:return new R(n);case b.AnnotationType.STRIKEOUT:return new H(n);case b.AnnotationType.STAMP:return new y(n);case b.AnnotationType.FILEATTACHMENT:return new l(n);default:return new c(n)}}}class c{constructor(n,{isRenderable:C=!1,ignoreBorder:x=!1,createQuadrilaterals:N=!1}={}){this.isRenderable=C,this.data=n.data,this.layer=n.layer,this.page=n.page,this.viewport=n.viewport,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this._mouseState=n.mouseState,C&&(this.container=this._createContainer(x)),N&&(this.quadrilaterals=this._createQuadrilaterals(x))}_createContainer(n=!1){const C=this.data,x=this.page,N=this.viewport,p=document.createElement("section");let{width:j,height:z}=d(C.rect);p.setAttribute("data-annotation-id",C.id);const $=b.Util.normalizeRect([C.rect[0],x.view[3]-C.rect[1]+x.view[1],C.rect[2],x.view[3]-C.rect[3]+x.view[1]]);if(C.hasOwnCanvas){const Z=N.transform.slice(),[te,Y]=b.Util.singularValueDecompose2dScale(Z);j=Math.ceil(j*te),z=Math.ceil(z*Y),$[0]*=te,$[1]*=Y;for(let ne=0;ne<4;ne++)Z[ne]=Math.sign(Z[ne]);p.style.transform=`matrix(${Z.join(",")})`}else p.style.transform=`matrix(${N.transform.join(",")})`;if(p.style.transformOrigin=`${-$[0]}px ${-$[1]}px`,!n&&C.borderStyle.width>0){p.style.borderWidth=`${C.borderStyle.width}px`,C.borderStyle.style!==b.AnnotationBorderStyleType.UNDERLINE&&(j-=2*C.borderStyle.width,z-=2*C.borderStyle.width);const Z=C.borderStyle.horizontalCornerRadius,te=C.borderStyle.verticalCornerRadius;switch((Z>0||te>0)&&(p.style.borderRadius=`${Z}px / ${te}px`),C.borderStyle.style){case b.AnnotationBorderStyleType.SOLID:p.style.borderStyle="solid";break;case b.AnnotationBorderStyleType.DASHED:p.style.borderStyle="dashed";break;case b.AnnotationBorderStyleType.BEVELED:(0,b.warn)("Unimplemented border style: beveled");break;case b.AnnotationBorderStyleType.INSET:(0,b.warn)("Unimplemented border style: inset");break;case b.AnnotationBorderStyleType.UNDERLINE:p.style.borderBottomStyle="solid"}C.borderColor||C.color?p.style.borderColor=b.Util.makeHexColor(0|C.color[0],0|C.color[1],0|C.color[2]):p.style.borderWidth=0}return p.style.left=`${$[0]}px`,p.style.top=`${$[1]}px`,C.hasOwnCanvas?p.style.width=p.style.height="auto":(p.style.width=`${j}px`,p.style.height=`${z}px`),p}_createQuadrilaterals(n=!1){if(!this.data.quadPoints)return null;const C=[],x=this.data.rect;for(const N of this.data.quadPoints)this.data.rect=[N[2].x,N[2].y,N[1].x,N[1].y],C.push(this._createContainer(n));return this.data.rect=x,C}_createPopup(n,C){let x=this.container;this.quadrilaterals&&(n=n||this.quadrilaterals,x=this.quadrilaterals[0]),n||((n=document.createElement("div")).style.height=x.style.height,n.style.width=x.style.width,x.appendChild(n));const p=new i({container:x,trigger:n,color:C.color,titleObj:C.titleObj,modificationDate:C.modificationDate,contentsObj:C.contentsObj,richText:C.richText,hideWrapper:!0}).render();p.style.left=x.style.width,x.appendChild(p)}_renderQuadrilaterals(n){for(const C of this.quadrilaterals)C.className=n;return this.quadrilaterals}render(){(0,b.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,C=null){const x=[];if(this._fieldObjects){const N=this._fieldObjects[n];if(N)for(const{page:p,id:j,exportValues:z}of N){if(-1===p||j===C)continue;const $="string"==typeof z?z:null,Z=document.getElementById(j);!Z||e.has(Z)?x.push({id:j,exportValue:$,domElement:Z}):(0,b.warn)(`_getElementsByName - element not allowed: ${j}`)}return x}for(const N of document.getElementsByName(n)){const{id:p,exportValue:j}=N;p!==C&&(!e.has(N)||x.push({id:p,exportValue:j,domElement:N}))}return x}static get platform(){const n="undefined"!=typeof navigator?navigator.platform:"";return(0,b.shadow)(this,"platform",{isWin:n.includes("Win"),isMac:n.includes("Mac")})}}class f extends c{constructor(n,C=null){super(n,{isRenderable:!!(n.data.url||n.data.dest||n.data.action||n.data.isTooltipOnly||n.data.resetForm||n.data.actions&&(n.data.actions.Action||n.data.actions["Mouse Up"]||n.data.actions["Mouse Down"])),ignoreBorder:!!(null==C?void 0:C.ignoreBorder),createQuadrilaterals:!0})}render(){var N;const{data:n,linkService:C}=this,x=document.createElement("a");if(n.url)C.addLinkAttributes||(0,b.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(N=C.addLinkAttributes)||N.call(C,x,n.url,n.newWindow);else if(n.action)this._bindNamedAction(x,n.action);else if(n.dest)this._bindLink(x,n.dest);else{let p=!1;n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(p=!0,this._bindJSAction(x,n)),n.resetForm?this._bindResetFormAction(x,n.resetForm):p||this._bindLink(x,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((p,j)=>{const z=0===j?x:x.cloneNode();return p.appendChild(z),p}):(this.container.className="linkAnnotation",this.container.appendChild(x),this.container)}_bindLink(n,C){n.href=this.linkService.getDestinationHash(C),n.onclick=()=>(C&&this.linkService.goToDestination(C),!1),(C||""===C)&&(n.className="internalLink")}_bindNamedAction(n,C){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(C),!1),n.className="internalLink"}_bindJSAction(n,C){n.href=this.linkService.getAnchorUrl("");const x=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const N of Object.keys(C.actions)){const p=x.get(N);!p||(n[p]=()=>{var j;return null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C.id,name:N}}),!1})}n.onclick||(n.onclick=()=>!1),n.className="internalLink"}_bindResetFormAction(n,C){const x=n.onclick;if(x||(n.href=this.linkService.getAnchorUrl("")),n.className="internalLink",!this._fieldObjects)return(0,b.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(x||(n.onclick=()=>!1));n.onclick=()=>{var te;x&&x();const{fields:N,refs:p,include:j}=C,z=[];if(0!==N.length||0!==p.length){const Y=new Set(p);for(const ne of N){const U=this._fieldObjects[ne]||[];for(const{id:a}of U)Y.add(a)}for(const ne of Object.values(this._fieldObjects))for(const U of ne)Y.has(U.id)===j&&z.push(U)}else for(const Y of Object.values(this._fieldObjects))z.push(...Y);const $=this.annotationStorage,Z=[];for(const Y of z){const{id:ne}=Y;switch(Z.push(ne),Y.type){case"text":{const a=Y.defaultValue||"";$.setValue(ne,{value:a,valueAsString:a});break}case"checkbox":case"radiobutton":$.setValue(ne,{value:Y.defaultValue===Y.exportValues});break;case"combobox":case"listbox":$.setValue(ne,{value:Y.defaultValue||""});break;default:continue}const U=document.getElementById(ne);!U||!e.has(U)||U.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(te=this.linkService.eventBus)||te.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Z,name:"ResetForm"}})),!1}}}class T extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str))})}render(){this.container.className="textAnnotation";const n=document.createElement("img");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.alt="[{{type}} Annotation]",n.dataset.l10nId="text_annotation_type",n.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(n,this.data),this.container.appendChild(n),this.container}}class u extends c{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(n){const{isWin:C,isMac:x}=c.platform;return C&&n.ctrlKey||x&&n.metaKey}_setEventListener(n,C,x,N){C.includes("mouse")?n.addEventListener(C,p=>{var j;null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:x,value:N(p),shift:p.shiftKey,modifier:this._getKeyModifier(p)}})}):n.addEventListener(C,p=>{var j;null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:x,value:N(p)}})})}_setEventListeners(n,C,x){var N;for(const[p,j]of C)("Action"===j||(null==(N=this.data.actions)?void 0:N[j]))&&this._setEventListener(n,p,j,x)}_setBackgroundColor(n){const C=this.data.backgroundColor||null;n.style.backgroundColor=null===C?"transparent":b.Util.makeHexColor(C[0],C[1],C[2])}_dispatchEventFromSandbox(n,C){const x=(p,j,z)=>{const $=z.detail[p];z.target.style[j]=re.ColorConverters[`${$[0]}_HTML`]($.slice(1))},N={display:p=>{const j=p.detail.display%2==1;p.target.style.visibility=j?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:j,print:0===p.detail.display||3===p.detail.display})},print:p=>{this.annotationStorage.setValue(this.data.id,{print:p.detail.print})},hidden:p=>{p.target.style.visibility=p.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:p.detail.hidden})},focus:p=>{setTimeout(()=>p.target.focus({preventScroll:!1}),0)},userName:p=>{p.target.title=p.detail.userName},readonly:p=>{p.detail.readonly?p.target.setAttribute("readonly",""):p.target.removeAttribute("readonly")},required:p=>{p.detail.required?p.target.setAttribute("required",""):p.target.removeAttribute("required")},bgColor:p=>{x("bgColor","backgroundColor",p)},fillColor:p=>{x("fillColor","backgroundColor",p)},fgColor:p=>{x("fgColor","color",p)},textColor:p=>{x("textColor","color",p)},borderColor:p=>{x("borderColor","borderColor",p)},strokeColor:p=>{x("strokeColor","borderColor",p)}};for(const p of Object.keys(C.detail)){const j=n[p]||N[p];j&&j(C)}}}class r extends u{constructor(n){super(n,{isRenderable:n.renderForms||!n.data.hasAppearance&&!!n.data.fieldValue})}setPropertyOnSiblings(n,C,x,N){const p=this.annotationStorage;for(const j of this._getElementsByName(n.name,n.id))j.domElement&&(j.domElement[C]=x),p.setValue(j.id,{[N]:x})}render(){var N;const n=this.annotationStorage,C=this.data.id;this.container.className="textWidgetAnnotation";let x=null;if(this.renderForms){const p=n.getValue(C,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),j=p.valueAsString||p.value||"",z={userValue:null,formattedValue:null};this.data.multiLine?(x=document.createElement("textarea"),x.textContent=j):(x=document.createElement("input"),x.type="text",x.setAttribute("value",j)),e.add(x),x.disabled=this.data.readOnly,x.name=this.data.fieldName,x.tabIndex=L,z.userValue=j,x.setAttribute("id",C),x.addEventListener("input",Z=>{n.setValue(C,{value:Z.target.value}),this.setPropertyOnSiblings(x,"value",Z.target.value,"value")}),x.addEventListener("resetform",Z=>{x.value=z.userValue=this.data.defaultFieldValue||"",delete z.formattedValue});let $=Z=>{z.formattedValue&&(Z.target.value=z.formattedValue),Z.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){x.addEventListener("focus",te=>{z.userValue&&(te.target.value=z.userValue)}),x.addEventListener("updatefromsandbox",te=>{this._dispatchEventFromSandbox({value(ne){z.userValue=ne.detail.value||"",n.setValue(C,{value:z.userValue.toString()}),z.formattedValue||(ne.target.value=z.userValue)},valueAsString(ne){z.formattedValue=ne.detail.valueAsString||"",ne.target!==document.activeElement&&(ne.target.value=z.formattedValue),n.setValue(C,{formattedValue:z.formattedValue})},selRange(ne){const[U,a]=ne.detail.selRange;U>=0&&a<ne.target.value.length&&ne.target.setSelectionRange(U,a)}},te)}),x.addEventListener("keydown",te=>{var ne;let Y=-1;"Escape"===te.key?Y=0:"Enter"===te.key?Y=2:"Tab"===te.key&&(Y=3),-1!==Y&&(z.userValue=te.target.value,null==(ne=this.linkService.eventBus)||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:te.target.value,willCommit:!0,commitKey:Y,selStart:te.target.selectionStart,selEnd:te.target.selectionEnd}}))});const Z=$;$=null,x.addEventListener("blur",te=>{var Y;z.userValue=te.target.value,this._mouseState.isDown&&(null==(Y=this.linkService.eventBus)||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:te.target.value,willCommit:!0,commitKey:1,selStart:te.target.selectionStart,selEnd:te.target.selectionEnd}})),Z(te)}),(null==(N=this.data.actions)?void 0:N.Keystroke)&&x.addEventListener("beforeinput",te=>{var X;z.formattedValue="";const{data:Y,target:ne}=te,{value:U,selectionStart:a,selectionEnd:w}=ne;null==(X=this.linkService.eventBus)||X.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:U,change:Y,willCommit:!1,selStart:a,selEnd:w}})}),this._setEventListeners(x,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],te=>te.target.value)}if($&&x.addEventListener("blur",$),null!==this.data.maxLen&&(x.maxLength=this.data.maxLen),this.data.comb){const te=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;x.classList.add("comb"),x.style.letterSpacing=`calc(${te}px - 1ch)`}}else x=document.createElement("div"),x.textContent=this.data.fieldValue,x.style.verticalAlign="middle",x.style.display="table-cell";return this._setTextStyle(x),this._setBackgroundColor(x),this.container.appendChild(x),this.container}_setTextStyle(n){const{fontSize:x,fontColor:N}=this.data.defaultAppearanceData,p=n.style;x&&(p.fontSize=`${x}px`),p.color=b.Util.makeHexColor(N[0],N[1],N[2]),null!==this.data.textAlignment&&(p.textAlign=["left","center","right"][this.data.textAlignment])}}class h extends u{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,C=this.data,x=C.id;let N=n.getValue(x,{value:C.exportValue===C.fieldValue}).value;"string"==typeof N&&(N="Off"!==N,n.setValue(x,{value:N})),this.container.className="buttonWidgetAnnotation checkBox";const p=document.createElement("input");return e.add(p),p.disabled=C.readOnly,p.type="checkbox",p.name=C.fieldName,N&&p.setAttribute("checked",!0),p.setAttribute("id",x),p.setAttribute("exportValue",C.exportValue),p.tabIndex=L,p.addEventListener("change",j=>{const{name:z,checked:$}=j.target;for(const Z of this._getElementsByName(z,x)){const te=$&&Z.exportValue===C.exportValue;Z.domElement&&(Z.domElement.checked=te),n.setValue(Z.id,{value:te})}n.setValue(x,{value:$})}),p.addEventListener("resetform",j=>{j.target.checked=(C.defaultFieldValue||"Off")===C.exportValue}),this.enableScripting&&this.hasJSActions&&(p.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value($){$.target.checked="Off"!==$.detail.value,n.setValue(x,{value:$.target.checked})}},j)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)),this._setBackgroundColor(p),this.container.appendChild(p),this.container}}class M extends u{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const n=this.annotationStorage,C=this.data,x=C.id;let N=n.getValue(x,{value:C.fieldValue===C.buttonValue}).value;"string"==typeof N&&(N=N!==C.buttonValue,n.setValue(x,{value:N}));const p=document.createElement("input");if(e.add(p),p.disabled=C.readOnly,p.type="radio",p.name=C.fieldName,N&&p.setAttribute("checked",!0),p.setAttribute("id",x),p.tabIndex=L,p.addEventListener("change",j=>{const{name:z,checked:$}=j.target;for(const Z of this._getElementsByName(z,x))n.setValue(Z.id,{value:!1});n.setValue(x,{value:$})}),p.addEventListener("resetform",j=>{const z=C.defaultFieldValue;j.target.checked=null!=z&&z===C.buttonValue}),this.enableScripting&&this.hasJSActions){const j=C.buttonValue;p.addEventListener("updatefromsandbox",z=>{this._dispatchEventFromSandbox({value:Z=>{const te=j===Z.detail.value;for(const Y of this._getElementsByName(Z.target.name)){const ne=te&&Y.id===x;Y.domElement&&(Y.domElement.checked=ne),n.setValue(Y.id,{value:ne})}}},z)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],z=>z.target.checked)}return this._setBackgroundColor(p),this.container.appendChild(p),this.container}}class P extends f{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();return n.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(n.title=this.data.alternativeText),n}}class m extends u{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const n=this.annotationStorage,C=this.data.id;n.getValue(C,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:x}=this.data.defaultAppearanceData;x||(x=9);const N=`calc(${x}px * var(--zoom-factor))`,p=document.createElement("select");e.add(p),p.disabled=this.data.readOnly,p.name=this.data.fieldName,p.setAttribute("id",C),p.tabIndex=L,p.style.fontSize=`${x}px`,this.data.combo||(p.size=this.data.options.length,this.data.multiSelect&&(p.multiple=!0)),p.addEventListener("resetform",$=>{const Z=this.data.defaultFieldValue;for(const te of p.options)te.selected=te.value===Z});for(const $ of this.data.options){const Z=document.createElement("option");Z.textContent=$.displayValue,Z.value=$.exportValue,this.data.combo&&(Z.style.fontSize=N),this.data.fieldValue.includes($.exportValue)&&Z.setAttribute("selected",!0),p.appendChild(Z)}const j=($,Z)=>{const te=Z?"value":"textContent",Y=$.target.options;return $.target.multiple?Array.prototype.filter.call(Y,ne=>ne.selected).map(ne=>ne[te]):-1===Y.selectedIndex?null:Y[Y.selectedIndex][te]},z=$=>Array.prototype.map.call($.target.options,te=>({displayValue:te.textContent,exportValue:te.value}));return this.enableScripting&&this.hasJSActions?(p.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(te){const Y=te.detail.value,ne=new Set(Array.isArray(Y)?Y:[Y]);for(const U of p.options)U.selected=ne.has(U.value);n.setValue(C,{value:j(te,!0)})},multipleSelection(te){p.multiple=!0},remove(te){const Y=p.options,ne=te.detail.remove;Y[ne].selected=!1,p.remove(ne),Y.length>0&&-1===Array.prototype.findIndex.call(Y,a=>a.selected)&&(Y[0].selected=!0),n.setValue(C,{value:j(te,!0),items:z(te)})},clear(te){for(;0!==p.length;)p.remove(0);n.setValue(C,{value:null,items:[]})},insert(te){const{index:Y,displayValue:ne,exportValue:U}=te.detail.insert,a=document.createElement("option");a.textContent=ne,a.value=U,p.insertBefore(a,p.children[Y]),n.setValue(C,{value:j(te,!0),items:z(te)})},items(te){const{items:Y}=te.detail;for(;0!==p.length;)p.remove(0);for(const ne of Y){const{displayValue:U,exportValue:a}=ne,w=document.createElement("option");w.textContent=U,w.value=a,p.appendChild(w)}p.options.length>0&&(p.options[0].selected=!0),n.setValue(C,{value:j(te,!0),items:z(te)})},indices(te){const Y=new Set(te.detail.indices);for(const ne of te.target.options)ne.selected=Y.has(ne.index);n.setValue(C,{value:j(te,!0)})},editable(te){te.target.disabled=!te.detail.editable}},$)}),p.addEventListener("input",$=>{var Y;const Z=j($,!0),te=j($,!1);n.setValue(C,{value:Z}),null==(Y=this.linkService.eventBus)||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:te,changeEx:Z,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):p.addEventListener("input",function($){n.setValue(C,{value:j($)})}),this._setBackgroundColor(p),this.container.appendChild(p),this.container}}class t extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!((null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const x=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===x.length)return this.container;const N=new i({container:this.container,trigger:Array.from(x),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),p=this.page,j=b.Util.normalizeRect([this.data.parentRect[0],p.view[3]-this.data.parentRect[1]+p.view[1],this.data.parentRect[2],p.view[3]-this.data.parentRect[3]+p.view[1]]),z=j[0]+this.data.parentRect[2]-this.data.parentRect[0],$=j[1];return this.container.style.transformOrigin=`${-z}px ${-$}px`,this.container.style.left=`${z}px`,this.container.style.top=`${$}px`,this.container.appendChild(N.render()),this.container}}class i{constructor(n){this.container=n.container,this.trigger=n.trigger,this.color=n.color,this.titleObj=n.titleObj,this.modificationDate=n.modificationDate,this.contentsObj=n.contentsObj,this.richText=n.richText,this.hideWrapper=n.hideWrapper||!1,this.pinned=!1}render(){var z,$;const C=document.createElement("div");C.className="popupWrapper",this.hideElement=this.hideWrapper?C:this.container,this.hideElement.hidden=!0;const x=document.createElement("div");x.className="popup";const N=this.color;N&&(x.style.backgroundColor=b.Util.makeHexColor(0|.7*(255-N[0])+N[0],0|.7*(255-N[1])+N[1],0|.7*(255-N[2])+N[2]));const p=document.createElement("h1");p.dir=this.titleObj.dir,p.textContent=this.titleObj.str,x.appendChild(p);const j=oe.PDFDateString.toDateObject(this.modificationDate);if(j){const Z=document.createElement("span");Z.className="popupDate",Z.textContent="{{date}}, {{time}}",Z.dataset.l10nId="annotation_date_string",Z.dataset.l10nArgs=JSON.stringify({date:j.toLocaleDateString(),time:j.toLocaleTimeString()}),x.appendChild(Z)}if(!(null==(z=this.richText)?void 0:z.str)||(null==($=this.contentsObj)?void 0:$.str)&&this.contentsObj.str!==this.richText.str){const Z=this._formatContents(this.contentsObj);x.appendChild(Z)}else ee.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:x}),x.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Z of this.trigger)Z.addEventListener("click",this._toggle.bind(this)),Z.addEventListener("mouseover",this._show.bind(this,!1)),Z.addEventListener("mouseout",this._hide.bind(this,!1));return x.addEventListener("click",this._hide.bind(this,!0)),C.appendChild(x),C}_formatContents({str:n,dir:C}){const x=document.createElement("p");x.className="popupContent",x.dir=C;const N=n.split(/(?:\r\n?|\n)/);for(let p=0,j=N.length;p<j;++p)x.appendChild(document.createTextNode(N[p])),p<j-1&&x.appendChild(document.createElement("br"));return x}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(n=!1){n&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(n=!0){n&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class v extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _ extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const n=this.data,{width:C,height:x}=d(n.rect),N=this.svgFactory.create(C,x),p=this.svgFactory.createElement("svg:line");return p.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),p.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),p.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),p.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),p.setAttribute("stroke-width",n.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),N.appendChild(p),this.container.append(N),this._createPopup(p,n),this.container}}class A extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const n=this.data,{width:C,height:x}=d(n.rect),N=this.svgFactory.create(C,x),p=n.borderStyle.width,j=this.svgFactory.createElement("svg:rect");return j.setAttribute("x",p/2),j.setAttribute("y",p/2),j.setAttribute("width",C-p),j.setAttribute("height",x-p),j.setAttribute("stroke-width",p||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),N.appendChild(j),this.container.append(N),this._createPopup(j,n),this.container}}class O extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const n=this.data,{width:C,height:x}=d(n.rect),N=this.svgFactory.create(C,x),p=n.borderStyle.width,j=this.svgFactory.createElement("svg:ellipse");return j.setAttribute("cx",C/2),j.setAttribute("cy",x/2),j.setAttribute("rx",C/2-p/2),j.setAttribute("ry",x/2-p/2),j.setAttribute("stroke-width",p||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),N.appendChild(j),this.container.append(N),this._createPopup(j,n),this.container}}class F extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:C,height:x}=d(n.rect),N=this.svgFactory.create(C,x);let p=[];for(const z of n.vertices)p.push(z.x-n.rect[0]+","+(n.rect[3]-z.y));p=p.join(" ");const j=this.svgFactory.createElement(this.svgElementName);return j.setAttribute("points",p),j.setAttribute("stroke-width",n.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),N.appendChild(j),this.container.append(N),this._createPopup(j,n),this.container}}class B extends F{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class V extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class D extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:C,height:x}=d(n.rect),N=this.svgFactory.create(C,x);for(const p of n.inkLists){let j=[];for(const $ of p)j.push(`${$.x-n.rect[0]},${n.rect[3]-$.y}`);j=j.join(" ");const z=this.svgFactory.createElement(this.svgElementName);z.setAttribute("points",j),z.setAttribute("stroke-width",n.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),this._createPopup(z,n),N.appendChild(z)}return this.container.append(N),this.container}}class I extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class W extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class R extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class H extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class y extends c{constructor(n){var x,N,p;super(n,{isRenderable:!!(n.data.hasPopup||(null==(x=n.data.titleObj)?void 0:x.str)||(null==(N=n.data.contentsObj)?void 0:N.str)||(null==(p=n.data.richText)?void 0:p.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class l extends c{constructor(n){var N;super(n,{isRenderable:!0});const{filename:C,content:x}=this.data.file;this.filename=(0,oe.getFilenameFromUrl)(C),this.content=x,null==(N=this.linkService.eventBus)||N.dispatch("fileattachmentannotation",{source:this,id:(0,b.stringToPDFString)(C),filename:C,content:x})}render(){var C,x;this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(C=this.data.titleObj)?void 0:C.str)||(null==(x=this.data.contentsObj)?void 0:x.str)||this.data.richText)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}_download(){var n;null==(n=this.downloadManager)||n.openOrDownloadData(this.container,this.content,this.filename)}}class o{static render(n){const C=[],x=[];for(const p of n.annotations){if(!p)continue;const{width:j,height:z}=d(p.rect);if(!(j<=0||z<=0)){if(p.annotationType===b.AnnotationType.POPUP){x.push(p);continue}C.push(p)}}x.length&&C.push(...x);const N=n.div;for(const p of C){const j=s.create({data:p,layer:N,page:n.page,viewport:n.viewport,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:!1!==n.renderForms,svgFactory:new oe.DOMSVGFactory,annotationStorage:n.annotationStorage||new ie.AnnotationStorage,enableScripting:n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,mouseState:n.mouseState||{isDown:!1}});if(j.isRenderable){const z=j.render();if(p.hidden&&(z.style.visibility="hidden"),Array.isArray(z))for(const $ of z)N.appendChild($);else j instanceof t?N.prepend(z):N.appendChild(z)}}xe(this,S,Ze).call(this,N,n.annotationCanvasMap)}static update(n){const{page:C,viewport:x,annotations:N,annotationCanvasMap:p,div:j}=n,z=x.transform,$=`matrix(${z.join(",")})`;let Z,te;for(const Y of N){const ne=j.querySelectorAll(`[data-annotation-id="${Y.id}"]`);if(ne)for(const U of ne)if(Y.hasOwnCanvas){const a=b.Util.normalizeRect([Y.rect[0],C.view[3]-Y.rect[1]+C.view[1],Y.rect[2],C.view[3]-Y.rect[3]+C.view[1]]);if(!te){Z=Math.abs(z[0]||z[1]);const G=z.slice();for(let q=0;q<4;q++)G[q]=Math.sign(G[q]);te=`matrix(${G.join(",")})`}const w=a[0]*Z,X=a[1]*Z;U.style.left=`${w}px`,U.style.top=`${X}px`,U.style.transformOrigin=`${-w}px ${-X}px`,U.style.transform=te}else U.style.transform=$}xe(this,S,Ze).call(this,j,p),j.hidden=!1}}S=new WeakSet,Ze=function(n,C){if(C){for(const[x,N]of C){const p=n.querySelector(`[data-annotation-id="${x}"]`);if(!p)continue;const{firstChild:j}=p;"CANVAS"===j.nodeName?p.replaceChild(N,j):p.insertBefore(N,j)}C.clear()}},ye(o,S),k.AnnotationLayer=o},(le,k)=>{function K(oe){return Math.floor(255*Math.max(0,Math.min(1,oe))).toString(16).padStart(2,"0")}Object.defineProperty(k,"__esModule",{value:!0}),k.ColorConverters=void 0,k.ColorConverters=class{static CMYK_G([ie,re,ee,L]){return["G",1-Math.min(1,.3*ie+.59*ee+.11*re+L)]}static G_CMYK([ie]){return["CMYK",0,0,0,1-ie]}static G_RGB([ie]){return["RGB",ie,ie,ie]}static G_HTML([ie]){const re=K(ie);return`#${re}${re}${re}`}static RGB_G([ie,re,ee]){return["G",.3*ie+.59*re+.11*ee]}static RGB_HTML([ie,re,ee]){return`#${K(ie)}${K(re)}${K(ee)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ie,re,ee,L]){return["RGB",1-Math.min(1,ie+L),1-Math.min(1,ee+L),1-Math.min(1,re+L)]}static CMYK_HTML(ie){return this.RGB_HTML(this.CMYK_RGB(ie))}static RGB_CMYK([ie,re,ee]){const L=1-ie,e=1-re,d=1-ee;return["CMYK",L,e,d,Math.min(L,e,d)]}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.XfaLayer=void 0;var b=K(1),oe=K(17);k.XfaLayer=class{static setupStorage(ee,L,e,d,s){const c=d.getValue(L,{value:null});switch(e.name){case"textarea":if(null!==c.value&&(ee.textContent=c.value),"print"===s)break;ee.addEventListener("input",f=>{d.setValue(L,{value:f.target.value})});break;case"input":if("radio"===e.attributes.type||"checkbox"===e.attributes.type){if(c.value===e.attributes.xfaOn?ee.setAttribute("checked",!0):c.value===e.attributes.xfaOff&&ee.removeAttribute("checked"),"print"===s)break;ee.addEventListener("change",f=>{d.setValue(L,{value:f.target.getAttribute(f.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==c.value&&ee.setAttribute("value",c.value),"print"===s)break;ee.addEventListener("input",f=>{d.setValue(L,{value:f.target.value})})}break;case"select":if(null!==c.value)for(const f of e.children)f.attributes.value===c.value&&(f.attributes.selected=!0);ee.addEventListener("input",f=>{const T=f.target.options;d.setValue(L,{value:-1===T.selectedIndex?"":T[T.selectedIndex].value})})}}static setAttributes({html:ee,element:L,storage:e=null,intent:d,linkService:s}){var T;const{attributes:c}=L,f=ee instanceof HTMLAnchorElement;"radio"===c.type&&(c.name=`${c.name}-${d}`);for(const[u,r]of Object.entries(c))if(null!=r&&"dataId"!==u)if("style"!==u)if("textContent"===u)ee.textContent=r;else if("class"===u)r.length&&ee.setAttribute(u,r.join(" "));else{if(f&&("href"===u||"newWindow"===u))continue;ee.setAttribute(u,r)}else Object.assign(ee.style,r);f&&(s.addLinkAttributes||(0,b.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(T=s.addLinkAttributes)||T.call(s,ee,c.href,c.newWindow)),e&&c.dataId&&this.setupStorage(ee,c.dataId,L,e)}static render(ee){var r;const L=ee.annotationStorage,e=ee.linkService,d=ee.xfaHtml,s=ee.intent||"display",c=document.createElement(d.name);d.attributes&&this.setAttributes({html:c,element:d,intent:s,linkService:e});const f=[[d,-1,c]],T=ee.div;if(T.appendChild(c),ee.viewport){const h=`matrix(${ee.viewport.transform.join(",")})`;T.style.transform=h}"richText"!==s&&T.setAttribute("class","xfaLayer xfaFont");const u=[];for(;f.length>0;){const[h,M,P]=f[f.length-1];if(M+1===h.children.length){f.pop();continue}const m=h.children[++f[f.length-1][1]];if(null===m)continue;const{name:t}=m;if("#text"===t){const v=document.createTextNode(m.value);u.push(v),P.appendChild(v);continue}let i;if(i=(null==(r=null==m?void 0:m.attributes)?void 0:r.xmlns)?document.createElementNS(m.attributes.xmlns,t):document.createElement(t),P.appendChild(i),m.attributes&&this.setAttributes({html:i,element:m,storage:L,intent:s,linkService:e}),m.children&&m.children.length>0)f.push([m,-1,i]);else if(m.value){const v=document.createTextNode(m.value);oe.XfaText.shouldBuildText(t)&&u.push(v),i.appendChild(v)}}for(const h of T.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:u}}static update(ee){const L=`matrix(${ee.viewport.transform.join(",")})`;ee.div.style.transform=L,ee.div.hidden=!1}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.renderTextLayer=function(M){const P=new r({textContent:M.textContent,textContentStream:M.textContentStream,container:M.container,viewport:M.viewport,textDivs:M.textDivs,textContentItemsStr:M.textContentItemsStr,enhanceTextSelection:M.enhanceTextSelection});return P._render(M.timeout),P};var b=K(1);const ee=new Map,L=/^\s+$/g;function d(M,P,m,t){const i=document.createElement("span"),v=M._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==P.str,hasEOL:P.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==P.str,hasEOL:P.hasEOL};M._textDivs.push(i);const _=b.Util.transform(M._viewport.transform,P.transform);let A=Math.atan2(_[1],_[0]);const O=m[P.fontName];O.vertical&&(A+=Math.PI/2);const F=Math.hypot(_[2],_[3]),B=F*function(M,P){const m=ee.get(M);if(m)return m;P.save(),P.font=`30px ${M}`;const t=P.measureText("");let i=t.fontBoundingBoxAscent,v=Math.abs(t.fontBoundingBoxDescent);if(i){P.restore();const A=i/(i+v);return ee.set(M,A),A}P.strokeStyle="red",P.clearRect(0,0,30,30),P.strokeText("g",0,0);let _=P.getImageData(0,0,30,30).data;v=0;for(let A=_.length-1-3;A>=0;A-=4)if(_[A]>0){v=Math.ceil(A/4/30);break}P.clearRect(0,0,30,30),P.strokeText("A",0,30),_=P.getImageData(0,0,30,30).data,i=0;for(let A=0,O=_.length;A<O;A+=4)if(_[A]>0){i=30-Math.floor(A/4/30);break}if(P.restore(),i){const A=i/(i+v);return ee.set(M,A),A}return ee.set(M,.8),.8}(O.fontFamily,t);let V,D;0===A?(V=_[4],D=_[5]-B):(V=_[4]+B*Math.sin(A),D=_[5]-B*Math.cos(A)),i.style.left=`${V}px`,i.style.top=`${D}px`,i.style.fontSize=`${F}px`,i.style.fontFamily=O.fontFamily,i.setAttribute("role","presentation"),i.textContent=P.str,i.dir=P.dir,M._fontInspectorEnabled&&(i.dataset.fontName=P.fontName),0!==A&&(v.angle=A*(180/Math.PI));let I=!1;if(P.str.length>1||M._enhanceTextSelection&&L.test(P.str))I=!0;else if(" "!==P.str&&P.transform[0]!==P.transform[3]){const W=Math.abs(P.transform[0]),R=Math.abs(P.transform[3]);W!==R&&Math.max(W,R)/Math.min(W,R)>1.5&&(I=!0)}if(I&&(v.canvasWidth=O.vertical?P.height*M._viewport.scale:P.width*M._viewport.scale),M._textDivProperties.set(i,v),M._textContentStream&&M._layoutText(i),M._enhanceTextSelection&&v.hasText){let W=1,R=0;0!==A&&(W=Math.cos(A),R=Math.sin(A));const H=(O.vertical?P.height:P.width)*M._viewport.scale,y=F;let l,o;0!==A?(l=[W,R,-R,W,V,D],o=b.Util.getAxialAlignedBoundingBox([0,0,H,y],l)):o=[V,D,V+H,D+y],M._bounds.push({left:o[0],top:o[1],right:o[2],bottom:o[3],div:i,size:[H,y],m:l})}}function s(M){if(M._canceled)return;const P=M._textDivs,m=M._capability,t=P.length;if(t>1e5)return M._renderingDone=!0,void m.resolve();if(!M._textContentStream)for(let i=0;i<t;i++)M._layoutText(P[i]);M._renderingDone=!0,m.resolve()}function c(M,P,m){let t=0;for(let i=0;i<m;i++){const v=M[P++];v>0&&(t=t?Math.min(v,t):v)}return t}function u(M,P){P.sort(function(i,v){return i.x1-v.x1||i.index-v.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of P){let v=0;for(;v<t.length&&t[v].end<=i.y1;)v++;let _=t.length-1;for(;_>=0&&t[_].start>=i.y2;)_--;let A,O,F,B,V=-1/0;for(F=v;F<=_;F++){let W;A=t[F],O=A.boundary,W=O.x2>i.x1?O.index>i.index?O.x1New:i.x1:void 0===O.x2New?(O.x2+i.x1)/2:O.x2New,W>V&&(V=W)}for(i.x1New=V,F=v;F<=_;F++)A=t[F],O=A.boundary,void 0===O.x2New?O.x2>i.x1?O.index>i.index&&(O.x2New=O.x2):O.x2New=V:O.x2New>V&&(O.x2New=Math.max(V,O.x2));const D=[];let I=null;for(F=v;F<=_;F++){A=t[F],O=A.boundary;const W=O.x2>i.x2?O:i;I===W?D[D.length-1].end=A.end:(D.push({start:A.start,end:A.end,boundary:W}),I=W)}for(t[v].start<i.y1&&(D[0].start=i.y1,D.unshift({start:t[v].start,end:i.y1,boundary:t[v].boundary})),i.y2<t[_].end&&(D[D.length-1].end=i.y2,D.push({start:i.y2,end:t[_].end,boundary:t[_].boundary})),F=v;F<=_;F++){if(A=t[F],O=A.boundary,void 0!==O.x2New)continue;let W=!1;for(B=v-1;!W&&B>=0&&t[B].start>=O.y1;B--)W=t[B].boundary===O;for(B=_+1;!W&&B<t.length&&t[B].end<=O.y2;B++)W=t[B].boundary===O;for(B=0;!W&&B<D.length;B++)W=D[B].boundary===O;W||(O.x2New=V)}Array.prototype.splice.apply(t,[v,_-v+1].concat(D))}for(const i of t){const v=i.boundary;void 0===v.x2New&&(v.x2New=Math.max(M,v.x2))}}class r{constructor({textContent:P,textContentStream:m,container:t,viewport:i,textDivs:v,textContentItemsStr:_,enhanceTextSelection:A}){var O;this._textContent=P,this._textContentStream=m,this._container=t,this._document=t.ownerDocument,this._viewport=i,this._textDivs=v||[],this._textContentItemsStr=_||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!!(null==(O=globalThis.FontInspector)?void 0:O.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,b.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new b.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(P,m){for(let t=0,i=P.length;t<i;t++)if(void 0!==P[t].str)this._textContentItemsStr.push(P[t].str),d(this,P[t],m,this._layoutTextCtx);else if("beginMarkedContentProps"===P[t].type||"beginMarkedContent"===P[t].type){const v=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==P[t].id&&this._container.setAttribute("id",`${P[t].id}`),v.appendChild(this._container)}else"endMarkedContent"===P[t].type&&(this._container=this._container.parentNode)}_layoutText(P){const m=this._textDivProperties.get(P);let t="";if(0!==m.canvasWidth&&m.hasText){const{fontSize:i,fontFamily:v}=P.style;(i!==this._layoutTextLastFontSize||v!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${v}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=v);const{width:_}=this._layoutTextCtx.measureText(P.textContent);if(_>0){const A=m.canvasWidth/_;this._enhanceTextSelection&&(m.scale=A),t=`scaleX(${A})`}}if(0!==m.angle&&(t=`rotate(${m.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(m.originalTransform=t),P.style.transform=t),m.hasText&&this._container.appendChild(P),m.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(P=0){const m=(0,b.createPromiseCapability)();let t=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=30,i.mozOpaque=!0,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),m.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const v=()=>{this._reader.read().then(({value:_,done:A})=>{A?m.resolve():(Object.assign(t,_.styles),this._processItems(_.items,t),v())},m.reject)};this._reader=this._textContentStream.getReader(),v()}}m.promise.then(()=>{t=null,P?this._renderTimer=setTimeout(()=>{s(this),this._renderTimer=null},P):s(this)},this._capability.reject)}expandTextDivs(P=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(M){const P=M._bounds,m=M._viewport,t=function(M,P,m){const t=m.map(function(v,_){return{x1:v.left,y1:v.top,x2:v.right,y2:v.bottom,index:_,x1New:void 0,x2New:void 0}});u(M,t);const i=new Array(m.length);for(const v of t)i[v.index]={left:v.x1New,top:0,right:v.x2New,bottom:0};m.map(function(v,_){const A=i[_],O=t[_];O.x1=v.top,O.y1=M-A.right,O.x2=v.bottom,O.y2=M-A.left,O.index=_,O.x1New=void 0,O.x2New=void 0}),u(P,t);for(const v of t){const _=v.index;i[_].top=v.x1New,i[_].bottom=v.x2New}return i}(m.width,m.height,P);for(let i=0;i<t.length;i++){const v=P[i].div,_=M._textDivProperties.get(v);if(0===_.angle){_.paddingLeft=P[i].left-t[i].left,_.paddingTop=P[i].top-t[i].top,_.paddingRight=t[i].right-P[i].right,_.paddingBottom=t[i].bottom-P[i].bottom,M._textDivProperties.set(v,_);continue}const A=t[i],O=P[i],F=O.m,B=F[0],V=F[1],D=[[0,0],[0,O.size[1]],[O.size[0],0],O.size],I=new Float64Array(64);for(let R=0,H=D.length;R<H;R++){const y=b.Util.applyTransform(D[R],F);I[R+0]=B&&(A.left-y[0])/B,I[R+4]=V&&(A.top-y[1])/V,I[R+8]=B&&(A.right-y[0])/B,I[R+12]=V&&(A.bottom-y[1])/V,I[R+16]=V&&(A.left-y[0])/-V,I[R+20]=B&&(A.top-y[1])/B,I[R+24]=V&&(A.right-y[0])/-V,I[R+28]=B&&(A.bottom-y[1])/B,I[R+32]=B&&(A.left-y[0])/-B,I[R+36]=V&&(A.top-y[1])/-V,I[R+40]=B&&(A.right-y[0])/-B,I[R+44]=V&&(A.bottom-y[1])/-V,I[R+48]=V&&(A.left-y[0])/V,I[R+52]=B&&(A.top-y[1])/-B,I[R+56]=V&&(A.right-y[0])/V,I[R+60]=B&&(A.bottom-y[1])/-B}const W=1+Math.min(Math.abs(B),Math.abs(V));_.paddingLeft=c(I,32,16)/W,_.paddingTop=c(I,48,16)/W,_.paddingRight=c(I,0,16)/W,_.paddingBottom=c(I,16,16)/W,M._textDivProperties.set(v,_)}}(this),this._bounds=null);const m=[],t=[];for(let i=0,v=this._textDivs.length;i<v;i++){const _=this._textDivs[i],A=this._textDivProperties.get(_);!A.hasText||(P?(m.length=0,t.length=0,A.originalTransform&&m.push(A.originalTransform),A.paddingTop>0?(t.push(`${A.paddingTop}px`),m.push(`translateY(${-A.paddingTop}px)`)):t.push(0),t.push(A.paddingRight>0?A.paddingRight/A.scale+"px":0),t.push(A.paddingBottom>0?`${A.paddingBottom}px`:0),A.paddingLeft>0?(t.push(A.paddingLeft/A.scale+"px"),m.push(`translateX(${-A.paddingLeft/A.scale}px)`)):t.push(0),_.style.padding=t.join(" "),m.length&&(_.style.transform=m.join(" "))):(_.style.padding=null,_.style.transform=A.originalTransform))}}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.SVGGraphics=void 0;var b=K(1),oe=K(5),ie=K(3);let re=class{constructor(){(0,b.unreachable)("Not implemented: SVGGraphics")}};k.SVGGraphics=re;{let u=function(t){let i=[];const v=[];for(const _ of t)"save"!==_.fn?"restore"===_.fn?i=v.pop():i.push(_):(i.push({fnId:92,fn:"group",items:[]}),v.push(i),i=i[i.length-1].items);return i},r=function(t){if(Number.isInteger(t))return t.toString();const i=t.toFixed(10);let v=i.length-1;if("0"!==i[v])return i;do{v--}while("0"===i[v]);return i.substring(0,"."===i[v]?v:v+1)},h=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${r(t[0])} ${r(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const i=180*Math.acos(t[0])/Math.PI;return`rotate(${r(i)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${r(t[4])} ${r(t[5])})`;return`matrix(${r(t[0])} ${r(t[1])} ${r(t[2])} ${r(t[3])} ${r(t[4])} ${r(t[5])})`};const ee={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},L="http://www.w3.org/XML/1998/namespace",e="http://www.w3.org/1999/xlink",d=["butt","round","square"],s=["miter","round","bevel"],c=function(t,i="",v=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!v)return URL.createObjectURL(new Blob([t],{type:i}));const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${i};base64,`;for(let O=0,F=t.length;O<F;O+=3){const B=255&t[O],V=255&t[O+1],D=255&t[O+2];A+=_[B>>2]+_[(3&B)<<4|V>>4]+_[O+1<F?(15&V)<<2|D>>6:64]+_[O+2<F?63&D:64]}return A},f=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),v=new Int32Array(256);for(let D=0;D<256;D++){let I=D;for(let W=0;W<8;W++)I=1&I?3988292384^I>>1&2147483647:I>>1&2147483647;v[D]=I}function A(D,I,W,R){let H=R;const y=I.length;W[H]=y>>24&255,W[H+1]=y>>16&255,W[H+2]=y>>8&255,W[H+3]=255&y,H+=4,W[H]=255&D.charCodeAt(0),W[H+1]=255&D.charCodeAt(1),W[H+2]=255&D.charCodeAt(2),W[H+3]=255&D.charCodeAt(3),H+=4,W.set(I,H),H+=I.length;const l=function(D,I,W){let R=-1;for(let H=I;H<W;H++)R=R>>>8^v[255&(R^D[H])];return-1^R}(W,R+4,H);W[H]=l>>24&255,W[H+1]=l>>16&255,W[H+2]=l>>8&255,W[H+3]=255&l}function B(D){let I=D.length;const W=65535,R=Math.ceil(I/W),H=new Uint8Array(2+I+5*R+4);let y=0;H[y++]=120,H[y++]=156;let l=0;for(;I>W;)H[y++]=0,H[y++]=255,H[y++]=255,H[y++]=0,H[y++]=0,H.set(D.subarray(l,l+W),y),y+=W,l+=W,I-=W;H[y++]=1,H[y++]=255&I,H[y++]=I>>8&255,H[y++]=255&~I,H[y++]=(65535&~I)>>8&255,H.set(D.subarray(l),y),y+=D.length-l;const o=function(D,I,W){let R=1,H=0;for(let y=0;y<W;++y)R=(R+(255&D[y]))%65521,H=(H+R)%65521;return H<<16|R}(D,0,D.length);return H[y++]=o>>24&255,H[y++]=o>>16&255,H[y++]=o>>8&255,H[y++]=255&o,H}return function(I,W,R){return function(D,I,W,R){const H=D.width,y=D.height;let l,o,S;const g=D.data;switch(I){case b.ImageKind.GRAYSCALE_1BPP:o=0,l=1,S=H+7>>3;break;case b.ImageKind.RGB_24BPP:o=2,l=8,S=3*H;break;case b.ImageKind.RGBA_32BPP:o=6,l=8,S=4*H;break;default:throw new Error("invalid format")}const E=new Uint8Array((1+S)*y);let n=0,C=0;for(let $=0;$<y;++$)E[n++]=0,E.set(g.subarray(C,C+S),n),C+=S,n+=S;if(I===b.ImageKind.GRAYSCALE_1BPP&&R){n=0;for(let $=0;$<y;$++){n++;for(let Z=0;Z<S;Z++)E[n++]^=255}}const x=new Uint8Array([H>>24&255,H>>16&255,H>>8&255,255&H,y>>24&255,y>>16&255,y>>8&255,255&y,l,o,0,0,0]),N=function(D){if(!ie.isNodeJS)return B(D);try{let I;I=parseInt(process.versions.node)>=8?D:Buffer.from(D);const W=__webpack_require__(2258).deflateSync(I,{level:9});return W instanceof Uint8Array?W:new Uint8Array(W)}catch(I){(0,b.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+I)}return B(D)}(E),j=new Uint8Array(t.length+36+x.length+N.length);let z=0;return j.set(t,z),z+=t.length,A("IHDR",x,j,z),z+=12+x.length,A("IDATA",N,j,z),z+=12+N.length,A("IEND",new Uint8Array(0),j,z),c(j,"image/png",W)}(I,void 0===I.kind?b.ImageKind.GRAYSCALE_1BPP:I.kind,W,R)}}();class T{constructor(){this.fontSizeScale=1,this.fontWeight=ee.fontWeight,this.fontSize=0,this.textMatrix=b.IDENTITY_MATRIX,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=b.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ee.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,v){this.x=i,this.y=v}}let M=0,P=0,m=0;k.SVGGraphics=re=class{constructor(t,i,v=!1){this.svgFactory=new oe.DOMSVGFactory,this.current=new T,this.transformMatrix=b.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[];for(const _ in b.OPS)this._operatorIdMapping[b.OPS[_]]=_}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const i=t.fnArray,v=t.argsArray;for(let _=0,A=i.length;_<A;_++)if(i[_]===b.OPS.dependency)for(const O of v[_]){const F=O.startsWith("g_")?this.commonObjs:this.objs,B=new Promise(V=>{F.get(O,V)});this.current.dependencies.push(B)}return Promise.all(this.current.dependencies)}transform(t,i,v,_,A,O){this.transformMatrix=b.Util.transform(this.transformMatrix,[t,i,v,_,A,O]),this.tgrp=null}getSVG(t,i){this.viewport=i;const v=this._initialize(i);return this.loadDependencies(t).then(()=>(this.transformMatrix=b.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),v))}convertOpList(t){const i=this._operatorIdMapping,v=t.argsArray,_=t.fnArray,A=[];for(let O=0,F=_.length;O<F;O++){const B=_[O];A.push({fnId:B,fn:i[B],args:v[O]})}return u(A)}executeOpTree(t){for(const i of t){const v=i.fn,A=i.args;switch(0|i.fnId){case b.OPS.beginText:this.beginText();break;case b.OPS.dependency:break;case b.OPS.setLeading:this.setLeading(A);break;case b.OPS.setLeadingMoveText:this.setLeadingMoveText(A[0],A[1]);break;case b.OPS.setFont:this.setFont(A);break;case b.OPS.showText:case b.OPS.showSpacedText:this.showText(A[0]);break;case b.OPS.endText:this.endText();break;case b.OPS.moveText:this.moveText(A[0],A[1]);break;case b.OPS.setCharSpacing:this.setCharSpacing(A[0]);break;case b.OPS.setWordSpacing:this.setWordSpacing(A[0]);break;case b.OPS.setHScale:this.setHScale(A[0]);break;case b.OPS.setTextMatrix:this.setTextMatrix(A[0],A[1],A[2],A[3],A[4],A[5]);break;case b.OPS.setTextRise:this.setTextRise(A[0]);break;case b.OPS.setTextRenderingMode:this.setTextRenderingMode(A[0]);break;case b.OPS.setLineWidth:this.setLineWidth(A[0]);break;case b.OPS.setLineJoin:this.setLineJoin(A[0]);break;case b.OPS.setLineCap:this.setLineCap(A[0]);break;case b.OPS.setMiterLimit:this.setMiterLimit(A[0]);break;case b.OPS.setFillRGBColor:this.setFillRGBColor(A[0],A[1],A[2]);break;case b.OPS.setStrokeRGBColor:this.setStrokeRGBColor(A[0],A[1],A[2]);break;case b.OPS.setStrokeColorN:this.setStrokeColorN(A);break;case b.OPS.setFillColorN:this.setFillColorN(A);break;case b.OPS.shadingFill:this.shadingFill(A[0]);break;case b.OPS.setDash:this.setDash(A[0],A[1]);break;case b.OPS.setRenderingIntent:this.setRenderingIntent(A[0]);break;case b.OPS.setFlatness:this.setFlatness(A[0]);break;case b.OPS.setGState:this.setGState(A[0]);break;case b.OPS.fill:this.fill();break;case b.OPS.eoFill:this.eoFill();break;case b.OPS.stroke:this.stroke();break;case b.OPS.fillStroke:this.fillStroke();break;case b.OPS.eoFillStroke:this.eoFillStroke();break;case b.OPS.clip:this.clip("nonzero");break;case b.OPS.eoClip:this.clip("evenodd");break;case b.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case b.OPS.paintImageXObject:this.paintImageXObject(A[0]);break;case b.OPS.paintInlineImageXObject:this.paintInlineImageXObject(A[0]);break;case b.OPS.paintImageMaskXObject:this.paintImageMaskXObject(A[0]);break;case b.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(A[0],A[1]);break;case b.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case b.OPS.closePath:this.closePath();break;case b.OPS.closeStroke:this.closeStroke();break;case b.OPS.closeFillStroke:this.closeFillStroke();break;case b.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case b.OPS.nextLine:this.nextLine();break;case b.OPS.transform:this.transform(A[0],A[1],A[2],A[3],A[4],A[5]);break;case b.OPS.constructPath:this.constructPath(A[0],A[1]);break;case b.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,b.warn)(`Unimplemented operator ${v}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,i,v,_,A,O){const F=this.current;F.textMatrix=F.lineMatrix=[t,i,v,_,A,O],F.textMatrixScale=Math.hypot(t,i),F.x=F.lineX=0,F.y=F.lineY=0,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${r(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",r(-F.y)),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtElement.appendChild(F.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=b.IDENTITY_MATRIX,t.lineMatrix=b.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,i){const v=this.current;v.x=v.lineX+=t,v.y=v.lineY+=i,v.xcoords=[],v.ycoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${r(v.fontSize)}px`),v.tspan.setAttributeNS(null,"y",r(-v.y))}showText(t){const i=this.current,v=i.font,_=i.fontSize;if(0===_)return;const A=i.fontSizeScale,O=i.charSpacing,F=i.wordSpacing,B=i.fontDirection,V=i.textHScale*B,D=v.vertical,I=D?1:-1,W=v.defaultVMetrics,R=_*i.fontMatrix[0];let H=0;for(const o of t){if(null===o){H+=B*F;continue}if("number"==typeof o){H+=I*o*_/1e3;continue}const S=(o.isSpace?F:0)+O,g=o.fontChar;let E,n,x,C=o.width;if(D){let N;const p=o.vmetric||W;N=o.vmetric?p[1]:.5*C,N=-N*R,C=p?-p[0]:C,E=N/A,n=(H+p[2]*R)/A}else E=H/A,n=0;(o.isInFont||v.missingFile)&&(i.xcoords.push(i.x+E),D&&i.ycoords.push(-i.y+n),i.tspan.textContent+=g),x=D?C*R-S*B:C*R+S*B,H+=x}i.tspan.setAttributeNS(null,"x",i.xcoords.map(r).join(" ")),i.tspan.setAttributeNS(null,"y",D?i.ycoords.map(r).join(" "):r(-i.y)),D?i.y-=H:i.x+=H*V,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${r(i.fontSize)}px`),i.fontStyle!==ee.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==ee.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const y=i.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;y===b.TextRenderingMode.FILL||y===b.TextRenderingMode.FILL_STROKE?(i.fillColor!==ee.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===b.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(y===b.TextRenderingMode.STROKE||y===b.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let l=i.textMatrix;0!==i.textRise&&(l=l.slice(),l[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${h(l)} scale(${r(V)}, -1)`),i.txtElement.setAttributeNS(L,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(t,i){this.setLeading(-i),this.moveText(t,i)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=c(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${i}); }\n`}setFont(t){const i=this.current,v=this.commonObjs.get(t[0]);let _=t[1];i.font=v,this.embedFonts&&!v.missingFile&&!this.embeddedFonts[v.loadedName]&&(this.addFontStyle(v),this.embeddedFonts[v.loadedName]=v),i.fontMatrix=v.fontMatrix||b.FONT_IDENTITY_MATRIX;let A="normal";v.black?A="900":v.bold&&(A="bold");const O=v.italic?"italic":"normal";_<0?(_=-_,i.fontDirection=-1):i.fontDirection=1,i.fontSize=_,i.fontFamily=v.loadedName,i.fontWeight=A,i.fontStyle=O,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",r(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){var i;const t=this.current;t.textRenderingMode&b.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(i=t.txtElement)?void 0:i.hasChildNodes())&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=d[t]}setLineJoin(t){this.current.lineJoin=s[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,i,v){this.current.strokeColor=b.Util.makeHexColor(t,i,v)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,i,v){this.current.fillColor=b.Util.makeHexColor(t,i,v),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const i=this.viewport.width,v=this.viewport.height,_=b.Util.inverseTransform(this.transformMatrix),A=b.Util.applyTransform([0,0],_),O=b.Util.applyTransform([0,v],_),F=b.Util.applyTransform([i,0],_),B=b.Util.applyTransform([i,v],_),V=Math.min(A[0],O[0],F[0],B[0]),D=Math.min(A[1],O[1],F[1],B[1]),I=Math.max(A[0],O[0],F[0],B[0]),W=Math.max(A[1],O[1],F[1],B[1]),R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",V),R.setAttributeNS(null,"y",D),R.setAttributeNS(null,"width",I-V),R.setAttributeNS(null,"height",W-D),R.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&R.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(R)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const i=t[1],v=t[2],_=t[3]||b.IDENTITY_MATRIX,[A,O,F,B]=t[4],V=t[5],D=t[6],I=t[7],W="shading"+m++,[R,H,y,l]=b.Util.normalizeRect([...b.Util.applyTransform([A,O],_),...b.Util.applyTransform([F,B],_)]),[o,S]=b.Util.singularValueDecompose2dScale(_),g=V*o,E=D*S,n=this.svgFactory.createElement("svg:pattern");n.setAttributeNS(null,"id",W),n.setAttributeNS(null,"patternUnits","userSpaceOnUse"),n.setAttributeNS(null,"width",g),n.setAttributeNS(null,"height",E),n.setAttributeNS(null,"x",`${R}`),n.setAttributeNS(null,"y",`${H}`);const C=this.svg,x=this.transformMatrix,N=this.current.fillColor,p=this.current.strokeColor,j=this.svgFactory.create(y-R,l-H);if(this.svg=j,this.transformMatrix=_,2===I){const z=b.Util.makeHexColor(...i);this.current.fillColor=z,this.current.strokeColor=z}return this.executeOpTree(this.convertOpList(v)),this.svg=C,this.transformMatrix=x,this.current.fillColor=N,this.current.strokeColor=p,n.appendChild(j.childNodes[0]),this.defs.appendChild(n),`url(#${W})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const i="shading"+m++,v=t[3];let _;switch(t[1]){case"axial":const A=t[4],O=t[5];_=this.svgFactory.createElement("svg:linearGradient"),_.setAttributeNS(null,"id",i),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"x1",A[0]),_.setAttributeNS(null,"y1",A[1]),_.setAttributeNS(null,"x2",O[0]),_.setAttributeNS(null,"y2",O[1]);break;case"radial":const F=t[4],B=t[5],V=t[6],D=t[7];_=this.svgFactory.createElement("svg:radialGradient"),_.setAttributeNS(null,"id",i),_.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_.setAttributeNS(null,"cx",B[0]),_.setAttributeNS(null,"cy",B[1]),_.setAttributeNS(null,"r",D),_.setAttributeNS(null,"fx",F[0]),_.setAttributeNS(null,"fy",F[1]),_.setAttributeNS(null,"fr",V);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const A of v){const O=this.svgFactory.createElement("svg:stop");O.setAttributeNS(null,"offset",A[0]),O.setAttributeNS(null,"stop-color",A[1]),_.appendChild(O)}return this.defs.appendChild(_),`url(#${i})`;case"Mesh":return(0,b.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,i){this.current.dashArray=t,this.current.dashPhase=i}constructPath(t,i){const v=this.current;let _=v.x,A=v.y,O=[],F=0;for(const B of t)switch(0|B){case b.OPS.rectangle:_=i[F++],A=i[F++];const I=_+i[F++],W=A+i[F++];O.push("M",r(_),r(A),"L",r(I),r(A),"L",r(I),r(W),"L",r(_),r(W),"Z");break;case b.OPS.moveTo:_=i[F++],A=i[F++],O.push("M",r(_),r(A));break;case b.OPS.lineTo:_=i[F++],A=i[F++],O.push("L",r(_),r(A));break;case b.OPS.curveTo:_=i[F+4],A=i[F+5],O.push("C",r(i[F]),r(i[F+1]),r(i[F+2]),r(i[F+3]),r(_),r(A)),F+=6;break;case b.OPS.curveTo2:O.push("C",r(_),r(A),r(i[F]),r(i[F+1]),r(i[F+2]),r(i[F+3])),_=i[F+2],A=i[F+3],F+=4;break;case b.OPS.curveTo3:_=i[F+2],A=i[F+3],O.push("C",r(i[F]),r(i[F+1]),r(_),r(A),r(_),r(A)),F+=4;break;case b.OPS.closePath:O.push("Z")}O=O.join(" "),v.path&&t.length>0&&t[0]!==b.OPS.rectangle&&t[0]!==b.OPS.moveTo?O=v.path.getAttributeNS(null,"d")+O:(v.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(v.path)),v.path.setAttributeNS(null,"d",O),v.path.setAttributeNS(null,"fill","none"),v.element=v.path,v.setCurrentPoint(_,A)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const i="clippath"+M++,v=this.svgFactory.createElement("svg:clipPath");v.setAttributeNS(null,"id",i),v.setAttributeNS(null,"transform",h(this.transformMatrix));const _=t.element.cloneNode(!0);if(_.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,v.appendChild(_),this.defs.appendChild(v),t.activeClipUrl){t.clipGroup=null;for(const A of this.extraStack)A.clipGroup=null;v.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const i=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",i)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[i,v]of t)switch(i){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v);break;case"CA":this.setStrokeAlpha(v);break;case"ca":this.setFillAlpha(v);break;default:(0,b.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,i=1){const v=this.current;let _=v.dashArray;1!==i&&_.length>0&&(_=_.map(function(A){return i*A})),t.setAttributeNS(null,"stroke",v.strokeColor),t.setAttributeNS(null,"stroke-opacity",v.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",r(v.miterLimit)),t.setAttributeNS(null,"stroke-linecap",v.lineCap),t.setAttributeNS(null,"stroke-linejoin",v.lineJoin),t.setAttributeNS(null,"stroke-width",r(i*v.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",_.map(r).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",r(i*v.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const i=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);i?this.paintInlineImageXObject(i):(0,b.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,i){const v=t.width,_=t.height,A=f(t,this.forceDataSchema,!!i),O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",r(v)),O.setAttributeNS(null,"height",r(_)),this.current.element=O,this.clip("nonzero");const F=this.svgFactory.createElement("svg:image");F.setAttributeNS(e,"xlink:href",A),F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y",r(-_)),F.setAttributeNS(null,"width",r(v)+"px"),F.setAttributeNS(null,"height",r(_)+"px"),F.setAttributeNS(null,"transform",`scale(${r(1/v)} ${r(-1/_)})`),i?i.appendChild(F):this._ensureTransformGroup().appendChild(F)}paintImageMaskXObject(t){const i=this.current,v=t.width,_=t.height,A=i.fillColor;i.maskId="mask"+P++;const O=this.svgFactory.createElement("svg:mask");O.setAttributeNS(null,"id",i.maskId);const F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width",r(v)),F.setAttributeNS(null,"height",r(_)),F.setAttributeNS(null,"fill",A),F.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(O),this._ensureTransformGroup().appendChild(F),this.paintInlineImageXObject(t,O)}paintFormXObjectBegin(t,i){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),i){const v=i[2]-i[0],_=i[3]-i[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",i[0]),A.setAttributeNS(null,"y",i[1]),A.setAttributeNS(null,"width",r(v)),A.setAttributeNS(null,"height",r(_)),this.current.element=A,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const i=this.svgFactory.create(t.width,t.height),v=this.svgFactory.createElement("svg:defs");i.appendChild(v),this.defs=v;const _=this.svgFactory.createElement("svg:g");return _.setAttributeNS(null,"transform",h(t.transform)),i.appendChild(_),this.svg=_,i}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNodeStream=void 0;var b=K(1),oe=K(24);const ie=__webpack_require__(172),re=__webpack_require__(2001),ee=__webpack_require__(3779),L=__webpack_require__(6558),e=/^file:\/\/\/[a-zA-Z]:\//;k.PDFNodeStream=class{constructor(m){this.source=m,this.url=function(P){const m=L.parse(P);return"file:"===m.protocol||m.host?m:/^[a-z]:[/\\]/i.test(P)?L.parse(`file:///${P}`):(m.host||(m.protocol="file:"),m)}(m.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var m,t;return null!=(t=null==(m=this._fullRequestReader)?void 0:m._loaded)?t:0}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new u(this),this._fullRequestReader}getRangeReader(m,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new M(this,m,t):new r(this,m,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const t of this._rangeRequestReaders.slice(0))t.cancel(m)}};class c{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=m.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,b.createPromiseCapability)(),this._headersCapability=(0,b.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){if(yield m._readCapability.promise,m._done)return{value:void 0,done:!0};if(m._storedError)throw m._storedError;const t=m._readableStream.read();return null===t?(m._readCapability=(0,b.createPromiseCapability)(),m.read()):(m._loaded+=t.length,m.onProgress&&m.onProgress({loaded:m._loaded,total:m._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(m){this._readableStream?this._readableStream.destroy(m):this._error(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new b.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,b.createPromiseCapability)(),this._isStreamingSupported=!m.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){if(yield m._readCapability.promise,m._done)return{value:void 0,done:!0};if(m._storedError)throw m._storedError;const t=m._readableStream.read();return null===t?(m._readCapability=(0,b.createPromiseCapability)(),m.read()):(m._loaded+=t.length,m.onProgress&&m.onProgress({loaded:m._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(m){this._readableStream?this._readableStream.destroy(m):this._error(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function T(P,m){return{protocol:P.protocol,auth:P.auth,host:P.hostname,port:P.port,path:P.path,method:"GET",headers:m}}class u extends c{constructor(m){super(m);const t=i=>{if(404===i.statusCode){const O=new b.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=O,void this._headersCapability.reject(O)}this._headersCapability.resolve(),this._setReadableStream(i);const v=O=>this._readableStream.headers[O.toLowerCase()],{allowRangeRequests:_,suggestedLength:A}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:m.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=A||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(v)};this._request=null,this._request="http:"===this._url.protocol?re.request(T(this._url,m.httpHeaders),t):ee.request(T(this._url,m.httpHeaders),t),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class r extends f{constructor(m,t,i){super(m),this._httpHeaders={};for(const _ in m.httpHeaders){const A=m.httpHeaders[_];void 0!==A&&(this._httpHeaders[_]=A)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const v=_=>{if(404!==_.statusCode)this._setReadableStream(_);else{const A=new b.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A}};this._request=null,this._request="http:"===this._url.protocol?re.request(T(this._url,this._httpHeaders),v):ee.request(T(this._url,this._httpHeaders),v),this._request.on("error",_=>{this._storedError=_}),this._request.end()}}class h extends c{constructor(m){super(m);let t=decodeURIComponent(this._url.path);e.test(this._url.href)&&(t=t.replace(/^\//,"")),ie.lstat(t,(i,v)=>{if(i)return"ENOENT"===i.code&&(i=new b.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=v.size,this._setReadableStream(ie.createReadStream(t)),this._headersCapability.resolve()})}}class M extends f{constructor(m,t,i){super(m);let v=decodeURIComponent(this._url.path);e.test(this._url.href)&&(v=v.replace(/^\//,"")),this._setReadableStream(ie.createReadStream(v,{start:t,end:i-1}))}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.createResponseStatusError=function(d,s){return 404===d||0===d&&s.startsWith("file:")?new b.MissingPDFException('Missing PDF "'+s+'".'):new b.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${s}".`,d)},k.extractFilenameFromHeader=function(d){const s=d("Content-Disposition");if(s){let c=(0,oe.getFilenameFromContentDispositionHeader)(s);if(c.includes("%"))try{c=decodeURIComponent(c)}catch(f){}if((0,ie.isPdfFile)(c))return c}return null},k.validateRangeRequestCapabilities=function({getResponseHeader:d,isHttp:s,rangeChunkSize:c,disableRange:f}){(0,b.assert)(c>0,"Range chunk size must be larger than zero");const T={allowRangeRequests:!1,suggestedLength:void 0},u=parseInt(d("Content-Length"),10);return!Number.isInteger(u)||(T.suggestedLength=u,u<=2*c)||f||!s||"bytes"!==d("Accept-Ranges")||"identity"!==(d("Content-Encoding")||"identity")||(T.allowRangeRequests=!0),T},k.validateResponseStatus=function(d){return 200===d||206===d};var b=K(1),oe=K(25),ie=K(5)},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.getFilenameFromContentDispositionHeader=function(ie){let re=!0,ee=L("filename\\*","i").exec(ie);if(ee){ee=ee[1];let u=c(ee);return u=unescape(u),u=f(u),u=T(u),d(u)}if(ee=function(u){const r=[];let h;const M=L("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=M.exec(u));){let[,m,t,i]=h;if(m=parseInt(m,10),m in r){if(0===m)break}else r[m]=[t,i]}const P=[];for(let m=0;m<r.length&&m in r;++m){let[t,i]=r[m];i=c(i),t&&(i=unescape(i),0===m&&(i=f(i))),P.push(i)}return P.join("")}(ie),ee)return d(T(ee));if(ee=L("filename","i").exec(ie),ee){ee=ee[1];let u=c(ee);return u=T(u),d(u)}function L(u,r){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function e(u,r){if(u){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const h=new TextDecoder(u,{fatal:!0}),M=(0,b.stringToBytes)(r);r=h.decode(M),re=!1}catch(h){}}return r}function d(u){return re&&/[\x80-\xff]/.test(u)&&(u=e("utf-8",u),re&&(u=e("iso-8859-1",u))),u}function c(u){if(u.startsWith('"')){const r=u.slice(1).split('\\"');for(let h=0;h<r.length;++h){const M=r[h].indexOf('"');-1!==M&&(r[h]=r[h].slice(0,M),r.length=h+1),r[h]=r[h].replace(/\\(.)/g,"$1")}u=r.join('"')}return u}function f(u){const r=u.indexOf("'");return-1===r?u:e(u.slice(0,r),u.slice(r+1).replace(/^[^']*'/,""))}function T(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(r,h,M,P){if("q"===M||"Q"===M)return e(h,P=(P=P.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(m,t){return String.fromCharCode(parseInt(t,16))}));try{P=atob(P)}catch(m){}return e(h,P)})}return""};var b=K(1)},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNetworkStream=void 0;var b=K(1),oe=K(24);class L{constructor(f,T={}){this.url=f,this.isHttp=/^https?:/i.test(f),this.httpHeaders=this.isHttp&&T.httpHeaders||Object.create(null),this.withCredentials=T.withCredentials||!1,this.getXhr=T.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(f,T,u){const r={begin:f,end:T};for(const h in u)r[h]=u[h];return this.request(r)}requestFull(f){return this.request(f)}request(f){const T=this.getXhr(),u=this.currXhrId++,r=this.pendingRequests[u]={xhr:T};T.open("GET",this.url),T.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const M=this.httpHeaders[h];void 0!==M&&T.setRequestHeader(h,M)}return this.isHttp&&"begin"in f&&"end"in f?(T.setRequestHeader("Range",`bytes=${f.begin}-${f.end-1}`),r.expectedStatus=206):r.expectedStatus=200,T.responseType="arraybuffer",f.onError&&(T.onerror=function(h){f.onError(T.status)}),T.onreadystatechange=this.onStateChange.bind(this,u),T.onprogress=this.onProgress.bind(this,u),r.onHeadersReceived=f.onHeadersReceived,r.onDone=f.onDone,r.onError=f.onError,r.onProgress=f.onProgress,T.send(null),u}onProgress(f,T){var r;const u=this.pendingRequests[f];!u||null==(r=u.onProgress)||r.call(u,T)}onStateChange(f,T){var m,t,i;const u=this.pendingRequests[f];if(!u)return;const r=u.xhr;if(r.readyState>=2&&u.onHeadersReceived&&(u.onHeadersReceived(),delete u.onHeadersReceived),4!==r.readyState||!(f in this.pendingRequests))return;if(delete this.pendingRequests[f],0===r.status&&this.isHttp)return void(null==(m=u.onError)||m.call(u,r.status));const h=r.status||200;if((200!==h||206!==u.expectedStatus)&&h!==u.expectedStatus)return void(null==(t=u.onError)||t.call(u,r.status));const P=function(c){const f=c.response;return"string"!=typeof f?f:(0,b.stringToBytes)(f).buffer}(r);if(206===h){const v=r.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);u.onDone({begin:parseInt(_[1],10),chunk:P})}else P?u.onDone({begin:0,chunk:P}):null==(i=u.onError)||i.call(u,r.status)}getRequestXhr(f){return this.pendingRequests[f].xhr}isPendingRequest(f){return f in this.pendingRequests}abortRequest(f){const T=this.pendingRequests[f].xhr;delete this.pendingRequests[f],T.abort()}}k.PDFNetworkStream=class{constructor(f){this._source=f,this._manager=new L(f.url,{httpHeaders:f.httpHeaders,withCredentials:f.withCredentials}),this._rangeChunkSize=f.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(f){const T=this._rangeRequestReaders.indexOf(f);T>=0&&this._rangeRequestReaders.splice(T,1)}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(f,T){const u=new s(this._manager,f,T);return u.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(u),u}cancelAllRequests(f){var T;null==(T=this._fullRequestReader)||T.cancel(f);for(const u of this._rangeRequestReaders.slice(0))u.cancel(f)}};class d{constructor(f,T){this._manager=f;const u={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=T.url,this._fullRequestId=f.requestFull(u),this._headersReceivedCapability=(0,b.createPromiseCapability)(),this._disableRange=T.disableRange||!1,this._contentLength=T.length,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const f=this._fullRequestId,T=this._manager.getRequestXhr(f),u=M=>T.getResponseHeader(M),{allowRangeRequests:r,suggestedLength:h}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(u),this._isRangeSupported&&this._manager.abortRequest(f),this._headersReceivedCapability.resolve()}_onDone(f){if(f&&(this._requests.length>0?this._requests.shift().resolve({value:f.chunk,done:!1}):this._cachedChunks.push(f.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(f){this._storedError=(0,oe.createResponseStatusError)(f,this._url),this._headersReceivedCapability.reject(this._storedError);for(const T of this._requests)T.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(f){var T;null==(T=this.onProgress)||T.call(this,{loaded:f.loaded,total:f.lengthComputable?f.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var f=this;return _asyncToGenerator(function*(){if(f._storedError)throw f._storedError;if(f._cachedChunks.length>0)return{value:f._cachedChunks.shift(),done:!1};if(f._done)return{value:void 0,done:!0};const T=(0,b.createPromiseCapability)();return f._requests.push(T),T.promise})()}cancel(f){this._done=!0,this._headersReceivedCapability.reject(f);for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s{constructor(f,T,u){this._manager=f;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._requestId=f.requestRange(T,u,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var f;null==(f=this.onClosed)||f.call(this,this)}_onDone(f){const T=f.chunk;this._requests.length>0?this._requests.shift().resolve({value:T,done:!1}):this._queuedChunk=T,this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(f){this._storedError=(0,oe.createResponseStatusError)(f,this._url);for(const T of this._requests)T.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(f){var T;this.isStreamingSupported||null==(T=this.onProgress)||T.call(this,{loaded:f.loaded})}get isStreamingSupported(){return!1}read(){var f=this;return _asyncToGenerator(function*(){if(f._storedError)throw f._storedError;if(null!==f._queuedChunk){const u=f._queuedChunk;return f._queuedChunk=null,{value:u,done:!1}}if(f._done)return{value:void 0,done:!0};const T=(0,b.createPromiseCapability)();return f._requests.push(T),T.promise})()}cancel(f){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(le,k,K)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.PDFFetchStream=void 0;var b=K(1),oe=K(24);function ie(d,s,c){return{method:"GET",headers:d,signal:null==c?void 0:c.signal,mode:"cors",credentials:s?"include":"same-origin",redirect:"follow"}}function re(d){const s=new Headers;for(const c in d){const f=d[c];void 0!==f&&s.append(c,f)}return s}k.PDFFetchStream=class{constructor(s){this.source=s,this.isHttp=/^https?:/i.test(s.url),this.httpHeaders=this.isHttp&&s.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var s,c;return null!=(c=null==(s=this._fullRequestReader)?void 0:s._loaded)?c:0}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new L(this),this._fullRequestReader}getRangeReader(s,c){if(c<=this._progressiveDataLength)return null;const f=new e(this,s,c);return this._rangeRequestReaders.push(f),f}cancelAllRequests(s){this._fullRequestReader&&this._fullRequestReader.cancel(s);for(const c of this._rangeRequestReaders.slice(0))c.cancel(s)}};class L{constructor(s){this._stream=s,this._reader=null,this._loaded=0,this._filename=null;const c=s.source;this._withCredentials=c.withCredentials||!1,this._contentLength=c.length,this._headersCapability=(0,b.createPromiseCapability)(),this._disableRange=c.disableRange||!1,this._rangeChunkSize=c.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._headers=re(this._stream.httpHeaders);const f=c.url;fetch(f,ie(this._headers,this._withCredentials,this._abortController)).then(T=>{if(!(0,oe.validateResponseStatus)(T.status))throw(0,oe.createResponseStatusError)(T.status,f);this._reader=T.body.getReader(),this._headersCapability.resolve();const u=M=>T.headers.get(M),{allowRangeRequests:r,suggestedLength:h}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=h||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new b.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var s=this;return _asyncToGenerator(function*(){yield s._headersCapability.promise;const{value:c,done:f}=yield s._reader.read();return f?{value:c,done:f}:(s._loaded+=c.byteLength,s.onProgress&&s.onProgress({loaded:s._loaded,total:s._contentLength}),{value:new Uint8Array(c).buffer,done:!1})})()}cancel(s){this._reader&&this._reader.cancel(s),this._abortController&&this._abortController.abort()}}class e{constructor(s,c,f){this._stream=s,this._reader=null,this._loaded=0;const T=s.source;this._withCredentials=T.withCredentials||!1,this._readCapability=(0,b.createPromiseCapability)(),this._isStreamingSupported=!T.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=re(this._stream.httpHeaders),this._headers.append("Range",`bytes=${c}-${f-1}`);const u=T.url;fetch(u,ie(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!(0,oe.validateResponseStatus)(r.status))throw(0,oe.createResponseStatusError)(r.status,u);this._readCapability.resolve(),this._reader=r.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var s=this;return _asyncToGenerator(function*(){yield s._readCapability.promise;const{value:c,done:f}=yield s._reader.read();return f?{value:c,done:f}:(s._loaded+=c.byteLength,s.onProgress&&s.onProgress({loaded:s._loaded}),{value:new Uint8Array(c).buffer,done:!1})})()}cancel(s){this._reader&&this._reader.cancel(s),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(le){var k=__webpack_module_cache__[le];if(void 0!==k)return k.exports;var K=__webpack_module_cache__[le]={exports:{}};return __webpack_modules__[le](K,K.exports,__w_pdfjs_require__),K.exports}var __webpack_exports__={};return(()=>{var le=__webpack_exports__;Object.defineProperty(le,"__esModule",{value:!0}),Object.defineProperty(le,"AnnotationLayer",{enumerable:!0,get:function(){return oe.AnnotationLayer}}),Object.defineProperty(le,"AnnotationMode",{enumerable:!0,get:function(){return k.AnnotationMode}}),Object.defineProperty(le,"CMapCompressionType",{enumerable:!0,get:function(){return k.CMapCompressionType}}),Object.defineProperty(le,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ie.GlobalWorkerOptions}}),Object.defineProperty(le,"InvalidPDFException",{enumerable:!0,get:function(){return k.InvalidPDFException}}),Object.defineProperty(le,"LoopbackPort",{enumerable:!0,get:function(){return K.LoopbackPort}}),Object.defineProperty(le,"MissingPDFException",{enumerable:!0,get:function(){return k.MissingPDFException}}),Object.defineProperty(le,"OPS",{enumerable:!0,get:function(){return k.OPS}}),Object.defineProperty(le,"PDFDataRangeTransport",{enumerable:!0,get:function(){return K.PDFDataRangeTransport}}),Object.defineProperty(le,"PDFDateString",{enumerable:!0,get:function(){return b.PDFDateString}}),Object.defineProperty(le,"PDFWorker",{enumerable:!0,get:function(){return K.PDFWorker}}),Object.defineProperty(le,"PasswordResponses",{enumerable:!0,get:function(){return k.PasswordResponses}}),Object.defineProperty(le,"PermissionFlag",{enumerable:!0,get:function(){return k.PermissionFlag}}),Object.defineProperty(le,"PixelsPerInch",{enumerable:!0,get:function(){return b.PixelsPerInch}}),Object.defineProperty(le,"RenderingCancelledException",{enumerable:!0,get:function(){return b.RenderingCancelledException}}),Object.defineProperty(le,"SVGGraphics",{enumerable:!0,get:function(){return L.SVGGraphics}}),Object.defineProperty(le,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return k.UNSUPPORTED_FEATURES}}),Object.defineProperty(le,"UnexpectedResponseException",{enumerable:!0,get:function(){return k.UnexpectedResponseException}}),Object.defineProperty(le,"Util",{enumerable:!0,get:function(){return k.Util}}),Object.defineProperty(le,"VerbosityLevel",{enumerable:!0,get:function(){return k.VerbosityLevel}}),Object.defineProperty(le,"XfaLayer",{enumerable:!0,get:function(){return e.XfaLayer}}),Object.defineProperty(le,"build",{enumerable:!0,get:function(){return K.build}}),Object.defineProperty(le,"createPromiseCapability",{enumerable:!0,get:function(){return k.createPromiseCapability}}),Object.defineProperty(le,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return k.createValidAbsoluteUrl}}),Object.defineProperty(le,"getDocument",{enumerable:!0,get:function(){return K.getDocument}}),Object.defineProperty(le,"getFilenameFromUrl",{enumerable:!0,get:function(){return b.getFilenameFromUrl}}),Object.defineProperty(le,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return b.getPdfFilenameFromUrl}}),Object.defineProperty(le,"getXfaPageViewport",{enumerable:!0,get:function(){return b.getXfaPageViewport}}),Object.defineProperty(le,"isPdfFile",{enumerable:!0,get:function(){return b.isPdfFile}}),Object.defineProperty(le,"loadScript",{enumerable:!0,get:function(){return b.loadScript}}),Object.defineProperty(le,"renderTextLayer",{enumerable:!0,get:function(){return ee.renderTextLayer}}),Object.defineProperty(le,"shadow",{enumerable:!0,get:function(){return k.shadow}}),Object.defineProperty(le,"version",{enumerable:!0,get:function(){return K.version}});var k=__w_pdfjs_require__(1),K=__w_pdfjs_require__(4),b=__w_pdfjs_require__(5),oe=__w_pdfjs_require__(18),ie=__w_pdfjs_require__(12),re=__w_pdfjs_require__(3),ee=__w_pdfjs_require__(21),L=__w_pdfjs_require__(22),e=__w_pdfjs_require__(20);if(re.isNodeJS){const{PDFNodeStream:c}=__w_pdfjs_require__(23);(0,K.setPDFNetworkStreamFactory)(f=>new c(f))}else{const{PDFNetworkStream:c}=__w_pdfjs_require__(26),{PDFFetchStream:f}=__w_pdfjs_require__(27);(0,K.setPDFNetworkStreamFactory)(T=>(0,b.isValidFetchUrl)(T.url)?new f(T):new c(T))}})(),__webpack_exports__})()},module.exports=K()},2813:function(le,k,K){var b=K(8926).default;le.exports=(()=>{"use strict";var oe=[,(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultXfaLayerFactory=e.DefaultTextLayerFactory=e.DefaultStructTreeLayerFactory=e.DefaultAnnotationLayerFactory=void 0;var s=d(2),c=d(4),f=d(5),T=d(7),u=d(8),r=d(9);e.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(i,v,_=null,A="",O=!0,F=c.NullL10n,B=!1,V=null,D=null,I=null,W=null){return new s.AnnotationLayerBuilder({pageDiv:i,pdfPage:v,imageResourcesPath:A,renderForms:O,linkService:new f.SimpleLinkService,l10n:F,annotationStorage:_,enableScripting:B,hasJSActionsPromise:V,fieldObjectsPromise:I,mouseState:D,annotationCanvasMap:W})}};e.DefaultStructTreeLayerFactory=class{createStructTreeLayerBuilder(i){return new T.StructTreeLayerBuilder({pdfPage:i})}};e.DefaultTextLayerFactory=class{createTextLayerBuilder(i,v,_,A=!1,O,F){return new u.TextLayerBuilder({textLayerDiv:i,pageIndex:v,viewport:_,enhanceTextSelection:A,eventBus:O,highlighter:F})}};e.DefaultXfaLayerFactory=class{createXfaLayerBuilder(i,v,_=null,A=null){return new r.XfaLayerBuilder({pageDiv:i,pdfPage:v,annotationStorage:_,linkService:new f.SimpleLinkService,xfaHtml:A})}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayerBuilder=void 0;var s=d(3),c=d(4);e.AnnotationLayerBuilder=class{constructor({pageDiv:u,pdfPage:r,linkService:h,downloadManager:M,annotationStorage:P=null,imageResourcesPath:m="",renderForms:t=!0,l10n:i=c.NullL10n,enableScripting:v=!1,hasJSActionsPromise:_=null,fieldObjectsPromise:A=null,mouseState:O=null,annotationCanvasMap:F=null}){this.pageDiv=u,this.pdfPage=r,this.linkService=h,this.downloadManager=M,this.imageResourcesPath=m,this.renderForms=t,this.l10n=i,this.annotationStorage=P,this.enableScripting=v,this._hasJSActionsPromise=_,this._fieldObjectsPromise=A,this._mouseState=O,this._annotationCanvasMap=F,this.div=null,this._cancelled=!1}render(u,r="display"){var h=this;return b(function*(){const[M,P=!1,m=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:r}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===M.length)return;const t={viewport:u.clone({dontFlip:!0}),div:h.div,annotations:M,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:P,fieldObjects:m,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?s.AnnotationLayer.update(t):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),t.div=h.div,s.AnnotationLayer.render(t),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},L=>{let e;e="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:K(6036),L.exports=e},(L,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.fixupLangCode=function(r){return c[null==r?void 0:r.toLowerCase()]||r},e.getL10nFallback=s;const d={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function s(r,h){switch(r){case"find_match_count":r=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":r=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return d[r]||""}const c={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};e.NullL10n={getLanguage:()=>b(function*(){return"en-us"})(),getDirection:()=>b(function*(){return"ltr"})(),get:(r,h=null,M=s(r,h))=>b(function*(){return function(r,h){return h?r.replace(/\{\{\s*(\w+)\s*\}\}/g,(M,P)=>P in h?h[P]:"{{"+P+"}}"):r}(M,h)})(),translate:r=>b(function*(){})()}},(L,e,d)=>{var h,M,Je,m,at;Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLinkService=e.PDFLinkService=e.LinkTarget=void 0;var s=d(6);const f={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function T(v,{url:_,target:A,rel:O,enabled:F=!0}={}){if(!_||"string"!=typeof _)throw new Error('A valid "url" parameter must provided.');const B=(0,s.removeNullCharacters)(_);F?v.href=v.title=B:(v.href="",v.title=`Disabled: ${B}`,v.onclick=()=>!1);let V="";switch(A){case f.NONE:break;case f.SELF:V="_self";break;case f.BLANK:V="_blank";break;case f.PARENT:V="_parent";break;case f.TOP:V="_top"}v.target=V,v.rel="string"==typeof O?O:"noopener noreferrer nofollow"}e.LinkTarget=f;const i=class{constructor({eventBus:_,externalLinkTarget:A=null,externalLinkRel:O=null,ignoreDestinationZoom:F=!1}={}){ye(this,M),ye(this,h,new Map),this.eventBus=_,this.externalLinkTarget=A,this.externalLinkRel=O,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=F,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(_,A=null){this.baseUrl=A,this.pdfDocument=_,ue(this,h).clear()}setViewer(_){this.pdfViewer=_}setHistory(_){this.pdfHistory=_}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(_){this.pdfViewer.currentPageNumber=_}get rotation(){return this.pdfViewer.pagesRotation}set rotation(_){this.pdfViewer.pagesRotation=_}goToDestination(_){var A=this;return b(function*(){var B;if(!A.pdfDocument)return;let O,F;"string"==typeof _?(O=_,F=yield A.pdfDocument.getDestination(_)):(O=null,F=yield _),Array.isArray(F)?xe(B=A,M,Je).call(B,_,O,F):console.error(`PDFLinkService.goToDestination: "${F}" is not a valid destination array, for dest="${_}".`)})()}goToPage(_){if(!this.pdfDocument)return;const A="string"==typeof _&&this.pdfViewer.pageLabelToPageNumber(_)||0|_;Number.isInteger(A)&&A>0&&A<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(A)),this.pdfViewer.scrollPageIntoView({pageNumber:A})):console.error(`PDFLinkService.goToPage: "${_}" is not a valid page.`)}addLinkAttributes(_,A,O=!1){T(_,{url:A,target:O?f.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(_){if("string"==typeof _){if(_.length>0)return this.getAnchorUrl("#"+escape(_))}else if(Array.isArray(_)){const A=JSON.stringify(_);if(A.length>0)return this.getAnchorUrl("#"+escape(A))}return this.getAnchorUrl("")}getAnchorUrl(_){return(this.baseUrl||"")+_}setHash(_){var F;if(!this.pdfDocument)return;let A,O;if(_.includes("=")){const B=(0,s.parseQueryString)(_);if(B.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:B.get("search").replace(/"/g,""),phraseSearch:"true"===B.get("phrase")}),B.has("page")&&(A=0|B.get("page")||1),B.has("zoom")){const V=B.get("zoom").split(","),D=V[0],I=parseFloat(D);D.includes("Fit")?"Fit"===D||"FitB"===D?O=[null,{name:D}]:"FitH"===D||"FitBH"===D||"FitV"===D||"FitBV"===D?O=[null,{name:D},V.length>1?0|V[1]:null]:"FitR"===D?5!==V.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):O=[null,{name:D},0|V[1],0|V[2],0|V[3],0|V[4]]:console.error(`PDFLinkService.setHash: "${D}" is not a valid zoom value.`):O=[null,{name:"XYZ"},V.length>1?0|V[1]:null,V.length>2?0|V[2]:null,I?I/100:D]}O?this.pdfViewer.scrollPageIntoView({pageNumber:A||this.page,destArray:O,allowNegativeOffset:!0}):A&&(this.page=A),B.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:B.get("pagemode")}),B.has("nameddest")&&this.goToDestination(B.get("nameddest"))}else{O=unescape(_);try{O=JSON.parse(O),Array.isArray(O)||(O=O.toString())}catch(B){}if("string"==typeof O||xe(F=i,m,at).call(F,O))return void this.goToDestination(O);console.error(`PDFLinkService.setHash: "${unescape(_)}" is not a valid destination.`)}}executeNamedAction(_){var A,O;switch(_){case"GoBack":null==(A=this.pdfHistory)||A.back();break;case"GoForward":null==(O=this.pdfHistory)||O.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:_})}cachePageRef(_,A){if(!A)return;const O=0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`;ue(this,h).set(O,_)}_cachedPageNumber(_){if(!_)return null;const A=0===_.gen?`${_.num}R`:`${_.num}R${_.gen}`;return ue(this,h).get(A)||null}isPageVisible(_){return this.pdfViewer.isPageVisible(_)}isPageCached(_){return this.pdfViewer.isPageCached(_)}};let u=i;h=new WeakMap,M=new WeakSet,Je=function(_,A=null,O){const F=O[0];let B;if("object"==typeof F&&null!==F){if(B=this._cachedPageNumber(F),!B)return void this.pdfDocument.getPageIndex(F).then(V=>{this.cachePageRef(V+1,F),xe(this,M,Je).call(this,_,A,O)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page reference, for dest="${_}".`)})}else{if(!Number.isInteger(F))return void console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid destination reference, for dest="${_}".`);B=F+1}!B||B<1||B>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${B}" is not a valid page number, for dest="${_}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:A,explicitDest:O,pageNumber:B})),this.pdfViewer.scrollPageIntoView({pageNumber:B,destArray:O,ignoreDestinationZoom:this._ignoreDestinationZoom}))},m=new WeakSet,at=function(_){if(!Array.isArray(_))return!1;const A=_.length;if(A<2)return!1;const O=_[0];if(!("object"==typeof O&&Number.isInteger(O.num)&&Number.isInteger(O.gen)||Number.isInteger(O)&&O>=0))return!1;const F=_[1];if("object"!=typeof F||"string"!=typeof F.name)return!1;let B=!0;switch(F.name){case"XYZ":if(5!==A)return!1;break;case"Fit":case"FitB":return 2===A;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==A)return!1;break;case"FitR":if(6!==A)return!1;B=!1;break;default:return!1}for(let V=2;V<A;V++){const D=_[V];if(!("number"==typeof D||B&&null===D))return!1}return!0},ye(u,m),e.PDFLinkService=u;e.SimpleLinkService=class{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(_){}get rotation(){return 0}set rotation(_){}goToDestination(_){return b(function*(){})()}goToPage(_){}addLinkAttributes(_,A,O=!1){T(_,{url:A,enabled:this.externalLinkEnabled})}getDestinationHash(_){return"#"}getAnchorUrl(_){return"#"}setHash(_){}executeNamedAction(_){}cachePageRef(_,A){}isPageVisible(_){return!0}isPageCached(_){return!0}}},(L,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationStarted=e.VERTICAL_PADDING=e.UNKNOWN_SCALE=e.TextLayerMode=e.SpreadMode=e.SidebarView=e.ScrollMode=e.SCROLLBAR_PADDING=e.RenderingStates=e.RendererType=e.ProgressBar=e.PresentationModeState=e.OutputScale=e.MIN_SCALE=e.MAX_SCALE=e.MAX_AUTO_SCALE=e.DEFAULT_SCALE_VALUE=e.DEFAULT_SCALE_DELTA=e.DEFAULT_SCALE=e.AutoPrintRegExp=void 0,e.apiPageLayoutToViewerModes=function(a){let w=A.VERTICAL,X=O.NONE;switch(a){case"SinglePage":w=A.PAGE;break;case"OneColumn":break;case"TwoPageLeft":w=A.PAGE;case"TwoColumnLeft":X=O.ODD;break;case"TwoPageRight":w=A.PAGE;case"TwoColumnRight":X=O.EVEN}return{scrollMode:w,spreadMode:X}},e.apiPageModeToSidebarView=function(a){switch(a){case"UseNone":return i.NONE;case"UseThumbs":return i.THUMBS;case"UseOutlines":return i.OUTLINE;case"UseAttachments":return i.ATTACHMENTS;case"UseOC":return i.LAYERS}return i.NONE},e.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];const w=1/a;if(w>8)return[1,8];if(Math.floor(w)===w)return[1,w];const G=a>1?w:a;let pe,q=0,ae=1,ce=1,he=1;for(;;){const ge=q+ce,_e=ae+he;if(_e>8)break;G<=ge/_e?(ce=ge,he=_e):(q=ge,ae=_e)}return pe=G-q/ae<ce/he-G?G===a?[q,ae]:[ae,q]:G===a?[ce,he]:[he,ce],pe},e.backtrackBeforeAllVisibleElements=g,e.binarySearchFirstItem=y,e.getActiveOrFocusedElement=function(){let a=document,w=a.activeElement||a.querySelector(":focus");for(;null==w?void 0:w.shadowRoot;)a=w.shadowRoot,w=a.activeElement||a.querySelector(":focus");return w},e.getPageSizeInches=function({view:a,userUnit:w,rotate:X}){const[G,q,ae,ce]=a,he=X%180!=0,pe=(ae-G)/72*w,ge=(ce-q)/72*w;return{width:he?ge:pe,height:he?pe:ge}},e.getVisibleElements=function({scrollEl:a,views:w,sortByVisibility:X=!1,horizontal:G=!1,rtl:q=!1}){const ae=a.scrollTop,ce=ae+a.clientHeight,he=a.scrollLeft,pe=he+a.clientWidth;const ve=[],Ce=new Set,me=w.length;let Se=y(w,G?function(Q){const J=Q.div,de=J.offsetLeft+J.clientLeft;return q?de<pe:de+J.clientWidth>he}:function(Q){const J=Q.div;return J.offsetTop+J.clientTop+J.clientHeight>ae});Se>0&&Se<me&&!G&&(Se=g(Se,w,ae));let Me=G?pe:-1;for(let Q=Se;Q<me;Q++){const J=w[Q],de=J.div,fe=de.offsetLeft+de.clientLeft,be=de.offsetTop+de.clientTop,Ae=de.clientWidth,Le=de.clientHeight,Fe=fe+Ae,Re=be+Le;if(-1===Me)Re>=ce&&(Me=Re);else if((G?fe:be)>Me)break;if(Re<=ae||be>=ce||Fe<=he||fe>=pe)continue;const Te=Math.max(0,ae-be)+Math.max(0,Re-ce),De=(Ae-(Math.max(0,he-fe)+Math.max(0,Fe-pe)))/Ae;ve.push({id:J.id,x:fe,y:be,view:J,percent:(Le-Te)/Le*De*100|0,widthPercent:100*De|0}),Ce.add(J.id)}const Ee=ve[0],se=ve[ve.length-1];return X&&ve.sort(function(Q,J){const de=Q.percent-J.percent;return Math.abs(de)>.001?-de:Q.id-J.id}),{first:Ee,last:se,views:ve,ids:Ce}},e.isPortraitOrientation=function(a){return a.width<=a.height},e.isValidRotation=function(a){return Number.isInteger(a)&&a%90==0},e.isValidScrollMode=function(a){return Number.isInteger(a)&&Object.values(A).includes(a)&&a!==A.UNKNOWN},e.isValidSpreadMode=function(a){return Number.isInteger(a)&&Object.values(O).includes(a)&&a!==O.UNKNOWN},e.noContextMenuHandler=function(a){a.preventDefault()},e.normalizeWheelEventDelta=function(a){let w=C(a);return 0===a.deltaMode?w/=900:1===a.deltaMode&&(w/=30),w},e.normalizeWheelEventDirection=C,e.parseQueryString=function(a){const w=new Map;for(const[X,G]of new URLSearchParams(a))w.set(X.toLowerCase(),G);return w},e.removeNullCharacters=function(a,w=!1){return"string"!=typeof a?(console.error("The argument must be a string."),a):(w&&(a=a.replace(R," ")),a.replace(W,""))},e.roundToDivide=function(a,w){const X=a%w;return 0===X?a:Math.round(a-X+w)},e.scrollIntoView=function(a,w,X=!1){let G=a.offsetParent;if(!G)return void console.error("offsetParent is not set -- cannot scroll");let q=a.offsetTop+a.clientTop,ae=a.offsetLeft+a.clientLeft;for(;G.clientHeight===G.scrollHeight&&G.clientWidth===G.scrollWidth||X&&(G.classList.contains("markedContent")||"hidden"===getComputedStyle(G).overflow);)if(q+=G.offsetTop,ae+=G.offsetLeft,G=G.offsetParent,!G)return;w&&(void 0!==w.top&&(q+=w.top),void 0!==w.left&&(ae+=w.left,G.scrollLeft=ae)),G.scrollTop=q},e.watchScroll=function(a,w){const X=function(ae){q||(q=window.requestAnimationFrame(function(){q=null;const he=a.scrollLeft,pe=G.lastX;he!==pe&&(G.right=he>pe),G.lastX=he;const ge=a.scrollTop,_e=G.lastY;ge!==_e&&(G.down=ge>_e),G.lastY=ge,w(G)}))},G={right:!0,down:!0,lastX:a.scrollLeft,lastY:a.scrollTop,_eventHandler:X};let q=null;return a.addEventListener("scroll",X,!0),G},e.DEFAULT_SCALE_VALUE="auto",e.DEFAULT_SCALE=1,e.DEFAULT_SCALE_DELTA=1.1,e.MIN_SCALE=.1,e.MAX_SCALE=10,e.UNKNOWN_SCALE=0,e.MAX_AUTO_SCALE=1.25,e.SCROLLBAR_PADDING=40,e.VERTICAL_PADDING=5;e.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},e.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const i={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};e.SidebarView=i,e.RendererType={CANVAS:"canvas",SVG:"svg"},e.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const A={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};e.ScrollMode=A;const O={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};e.SpreadMode=O,e.AutoPrintRegExp=/\bprint\s*\(/;e.OutputScale=class{constructor(){const w=window.devicePixelRatio||1;this.sx=w,this.sy=w}get scaled(){return 1!==this.sx||1!==this.sy}};const W=/\x00/g,R=/[\x01-\x1F]/g;function y(a,w,X=0){let G=X,q=a.length-1;if(q<0||!w(a[q]))return a.length;if(w(a[G]))return G;for(;G<q;){const ae=G+q>>1;w(a[ae])?q=ae:G=ae+1}return G}function g(a,w,X){if(a<2)return a;let G=w[a].div,q=G.offsetTop+G.clientTop;q>=X&&(G=w[a-1].div,q=G.offsetTop+G.clientTop);for(let ae=a-2;ae>=0&&(G=w[ae].div,!(G.offsetTop+G.clientTop+G.clientHeight<=q));--ae)a=ae;return a}function C(a){let w=Math.hypot(a.deltaX,a.deltaY);const X=Math.atan2(a.deltaY,a.deltaX);return-.25*Math.PI<X&&X<.75*Math.PI&&(w=-w),w}const $=new Promise(function(a){window.requestAnimationFrame(a)});e.animationStarted=$;e.ProgressBar=class{constructor(w,{height:X,width:G,units:q}={}){this.visible=!0,this.div=document.querySelector(w+" .progress"),this.bar=this.div.parentNode,this.height=X||100,this.width=G||100,this.units=q||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(w){this._indeterminate=isNaN(w),this._percent=function(a,w,X){return Math.min(Math.max(a,w),X)}(w,0,100),this._updateBar()}setWidth(w){if(!w)return;const G=w.parentNode.offsetWidth-w.offsetWidth;G>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${G}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(L,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StructTreeLayerBuilder=void 0;const d={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},s=/^H(\d+)$/;e.StructTreeLayerBuilder=class{constructor({pdfPage:T}){this.pdfPage=T}render(T){return this._walk(T)}_setAttributes(T,u){void 0!==T.alt&&u.setAttribute("aria-label",T.alt),void 0!==T.id&&u.setAttribute("aria-owns",T.id),void 0!==T.lang&&u.setAttribute("lang",T.lang)}_walk(T){if(!T)return null;const u=document.createElement("span");if("role"in T){const{role:r}=T,h=r.match(s);h?(u.setAttribute("role","heading"),u.setAttribute("aria-level",h[1])):d[r]&&u.setAttribute("role",d[r])}if(this._setAttributes(T,u),T.children)if(1===T.children.length&&"id"in T.children[0])this._setAttributes(T.children[0],u);else for(const r of T.children)u.appendChild(this._walk(r));return u}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerBuilder=void 0;var s=d(3);e.TextLayerBuilder=class{constructor({textLayerDiv:u,eventBus:r,pageIndex:h,viewport:M,highlighter:P=null,enhanceTextSelection:m=!1}){this.textLayerDiv=u,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=M,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=P,this.enhanceTextSelection=m,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const u=document.createElement("div");u.className="endOfContent",this.textLayerDiv.appendChild(u)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(u=0){var h;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(h=this.highlighter)||h.setTextMapping(this.textDivs,this.textContentItemsStr);const r=document.createDocumentFragment();this.textLayerRenderTask=(0,s.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:r,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:u,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var M;this.textLayerDiv.appendChild(r),this._finishRendering(),null==(M=this.highlighter)||M.enable()},function(M){})}cancel(){var u;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(u=this.highlighter)||u.disable()}setTextContentStream(u){this.cancel(),this.textContentStream=u}setTextContent(u){this.cancel(),this.textContent=u}_bindMouse(){const u=this.textLayerDiv;let r=null;u.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(r&&(clearTimeout(r),r=null));const M=u.querySelector(".endOfContent");if(!M)return;let P=h.target!==u;if(P=P&&"none"!==window.getComputedStyle(M).getPropertyValue("-moz-user-select"),P){const m=u.getBoundingClientRect(),t=Math.max(0,(h.pageY-m.top)/m.height);M.style.top=(100*t).toFixed(2)+"%"}M.classList.add("active")}),u.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(r=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),r=null},300));const h=u.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))})}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayerBuilder=void 0;var s=d(3);e.XfaLayerBuilder=class{constructor({pageDiv:T,pdfPage:u,annotationStorage:r=null,linkService:h,xfaHtml:M=null}){this.pageDiv=T,this.pdfPage=u,this.annotationStorage=r,this.linkService=h,this.xfaHtml=M,this.div=null,this._cancelled=!1}render(T,u="display"){if("print"===u){const r={viewport:T.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u},h=document.createElement("div");this.pageDiv.appendChild(h),r.div=h;const M=s.XfaLayer.render(r);return Promise.resolve(M)}return this.pdfPage.getXfa().then(r=>{if(this._cancelled||!r)return{textDivs:[]};const h={viewport:T.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u};return this.div?s.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,s.XfaLayer.render(h))}).catch(r=>{console.error(r)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFViewer=e.PDFSinglePageViewer=void 0;var s=d(6),c=d(11);e.PDFViewer=class extends c.BaseViewer{};e.PDFSinglePageViewer=class extends c.BaseViewer{_resetView(){super._resetView(),this._scrollMode=s.ScrollMode.PAGE,this._spreadMode=s.SpreadMode.NONE}set scrollMode(r){}_updateScrollMode(){}set spreadMode(r){}_updateSpreadMode(){}}},(L,e,d)=>{var F,B,V,et,I,W,R,H,y,l,o,S,ot,E,lt,C,We,N,ct,j,ht,$,dt,te,ut;Object.defineProperty(e,"__esModule",{value:!0}),e.PagesCountLimit=e.PDFPageViewBuffer=e.BaseViewer=void 0;var s=d(3),c=d(6),f=d(2),T=d(4),u=d(12),r=d(14),h=d(5),M=d(7),P=d(15),m=d(8),t=d(9);const v="enablePermissions",_={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};e.PagesCountLimit=_;class A{constructor(a){ye(this,V),ye(this,F,new Set),ye(this,B,0),Pe(this,B,a)}push(a){const w=ue(this,F);w.has(a)&&w.delete(a),w.add(a),w.size>ue(this,B)&&xe(this,V,et).call(this)}resize(a,w=null){Pe(this,B,a);const X=ue(this,F);if(w){const G=X.size;let q=1;for(const ae of X)if(w.has(ae.id)&&(X.delete(ae),X.add(ae)),++q>G)break}for(;X.size>ue(this,B);)xe(this,V,et).call(this)}has(a){return ue(this,F).has(a)}[Symbol.iterator](){return ue(this,F).keys()}}F=new WeakMap,B=new WeakMap,V=new WeakSet,et=function(){const a=ue(this,F).keys().next().value;null==a||a.destroy(),ue(this,F).delete(a)},e.PDFPageViewBuffer=A;const ne=class{constructor(a){var X,G,q,ae;if(ye(this,S),ye(this,E),ye(this,C),ye(this,N),ye(this,j),ye(this,$),ye(this,te),ye(this,I,null),ye(this,W,s.AnnotationMode.ENABLE_FORMS),ye(this,R,null),ye(this,H,!1),ye(this,y,0),ye(this,l,null),ye(this,o,null),this.constructor===ne)throw new Error("Cannot initialize BaseViewer.");const w="2.13.216";if(s.version!==w)throw new Error(`The API version "${s.version}" does not match the Viewer version "${w}".`);if(this.container=a.container,this.viewer=a.viewer||a.container.firstElementChild,"DIV"!==(null==(X=this.container)?void 0:X.tagName.toUpperCase())||"DIV"!==(null==(G=this.viewer)?void 0:G.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=a.eventBus,this.linkService=a.linkService||new h.SimpleLinkService,this.downloadManager=a.downloadManager||null,this.findController=a.findController||null,this._scriptingManager=a.scriptingManager||null,this.removePageBorders=a.removePageBorders||!1,this.textLayerMode=null!=(q=a.textLayerMode)?q:c.TextLayerMode.ENABLE,Pe(this,W,null!=(ae=a.annotationMode)?ae:s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=a.imageResourcesPath||"",this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1,this.renderer=a.renderer||c.RendererType.CANVAS,this.useOnlyCssZoom=a.useOnlyCssZoom||!1,this.maxCanvasPixels=a.maxCanvasPixels,this.l10n=a.l10n||T.NullL10n,Pe(this,H,a.enablePermissions||!1),this.defaultRenderingQueue=!a.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new r.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue,this._doc=document.documentElement,this.scroll=(0,c.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=c.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(a){return this._pages[a]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(a){return null==a?void 0:a.pdfPage})}get renderForms(){return ue(this,W)===s.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(a){if(!Number.isInteger(a))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(a,!0)||console.error(`currentPageNumber: "${a}" is not a valid page.`)}_setCurrentPageNumber(a,w=!1){var G,q;if(this._currentPageNumber===a)return w&&this._resetCurrentPageView(),!0;if(!(0<a&&a<=this.pagesCount))return!1;const X=this._currentPageNumber;return this._currentPageNumber=a,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:a,pageLabel:null!=(q=null==(G=this._pageLabels)?void 0:G[a-1])?q:null,previous:X}),w&&this._resetCurrentPageView(),!0}get currentPageLabel(){var a,w;return null!=(w=null==(a=this._pageLabels)?void 0:a[this._currentPageNumber-1])?w:null}set currentPageLabel(a){if(!this.pdfDocument)return;let w=0|a;if(this._pageLabels){const X=this._pageLabels.indexOf(a);X>=0&&(w=X+1)}this._setCurrentPageNumber(w,!0)||console.error(`currentPageLabel: "${a}" is not a valid page.`)}get currentScale(){return this._currentScale!==c.UNKNOWN_SCALE?this._currentScale:c.DEFAULT_SCALE}set currentScale(a){if(isNaN(a))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(a,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(a){!this.pdfDocument||this._setScale(a,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(a){if(!(0,c.isValidRotation)(a))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((a%=360)<0&&(a+=360),this._pagesRotation===a))return;this._pagesRotation=a;const w=this._currentPageNumber,X={rotation:a};for(const G of this._pages)G.update(X);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:a,pageNumber:w}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(a){var w=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=a,!a)return;const X=a.isPureXfa,G=a.numPages,q=a.getPage(1),ae=a.getOptionalContentConfig(),ce=ue(this,H)?a.getPermissions():Promise.resolve();if(G>_.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const he=this._scrollMode=c.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:he})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:G})},()=>{}),this._onBeforeDraw=he=>{const pe=this._pages[he.pageNumber-1];!pe||ue(this,I).push(pe)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=he=>{he.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:he.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,ue(this,o)&&(document.removeEventListener("visibilitychange",ue(this,o)),Pe(this,o,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([q,ce]).then(([he,pe])=>{if(a!==this.pdfDocument)return;this._firstPageCapability.resolve(he),this._optionalContentConfigPromise=ae,xe(this,S,ot).call(this,pe);const ge=this._scrollMode===c.ScrollMode.PAGE?null:this.viewer,_e=this.currentScale,ve=he.getViewport({scale:_e*s.PixelsPerInch.PDF_TO_CSS_UNITS}),Ce=this.textLayerMode===c.TextLayerMode.DISABLE||X?null:this,me=ue(this,W)!==s.AnnotationMode.DISABLE?this:null,Se=X?this:null;for(let Ee=1;Ee<=G;++Ee){const se=new u.PDFPageView({container:ge,eventBus:this.eventBus,id:Ee,scale:_e,defaultViewport:ve.clone(),optionalContentConfigPromise:ae,renderingQueue:this.renderingQueue,textLayerFactory:Ce,textLayerMode:this.textLayerMode,annotationLayerFactory:me,annotationMode:ue(this,W),xfaLayerFactory:Se,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(se)}const Me=this._pages[0];Me&&(Me.setPdfPage(he),this.linkService.cachePageRef(1,he.ref)),this._scrollMode===c.ScrollMode.PAGE?xe(this,C,We).call(this):this._spreadMode!==c.SpreadMode.NONE&&this._updateSpreadMode(),xe(this,E,lt).call(this).then(b(function*(){if(w.findController&&w.findController.setDocument(a),w._scriptingManager&&w._scriptingManager.setDocument(a),a.loadingParams.disableAutoFetch||G>_.FORCE_LAZY_PAGE_INIT)return void w._pagesCapability.resolve();let Ee=G-1;if(Ee<=0)w._pagesCapability.resolve();else for(let se=2;se<=G;++se){const Q=a.getPage(se).then(J=>{const de=w._pages[se-1];de.pdfPage||de.setPdfPage(J),w.linkService.cachePageRef(se,J.ref),0==--Ee&&w._pagesCapability.resolve()},J=>{console.error(`Unable to get page ${se} to initialize viewer`,J),0==--Ee&&w._pagesCapability.resolve()});se%_.PAUSE_EAGER_PAGE_INIT==0&&(yield Q)}})),this.eventBus.dispatch("pagesinit",{source:this}),a.getMetadata().then(({info:Ee})=>{a===this.pdfDocument&&Ee.Language&&(this.viewer.lang=Ee.Language)}),this.defaultRenderingQueue&&this.update()}).catch(he=>{console.error("Unable to initialize viewer",he),this._pagesCapability.reject(he)})}setPageLabels(a){var w,X;if(this.pdfDocument){a?Array.isArray(a)&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let G=0,q=this._pages.length;G<q;G++)this._pages[G].setPageLabel(null!=(X=null==(w=this._pageLabels)?void 0:w[G])?X:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=c.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Pe(this,I,new A(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,s.createPromiseCapability)(),this._onePageRenderedCapability=(0,s.createPromiseCapability)(),this._pagesCapability=(0,s.createPromiseCapability)(),this._scrollMode=c.ScrollMode.VERTICAL,this._previousScrollMode=c.ScrollMode.UNKNOWN,this._spreadMode=c.SpreadMode.NONE,Pe(this,l,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),ue(this,o)&&(document.removeEventListener("visibilitychange",ue(this,o)),Pe(this,o,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(v),null!==ue(this,R)&&(Pe(this,W,ue(this,R)),Pe(this,R,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:a,pageSpot:w=null,pageNumber:X=null}){if(this._scrollMode===c.ScrollMode.PAGE&&(X&&this._setCurrentPageNumber(X),xe(this,C,We).call(this),this.update()),!w&&!this.isInPresentationMode){const G=a.offsetLeft+a.clientLeft,q=G+a.clientWidth,{scrollLeft:ae,clientWidth:ce}=this.container;(this._scrollMode===c.ScrollMode.HORIZONTAL||G<ae||q>ae+ce)&&(w={left:0,top:0})}(0,c.scrollIntoView)(a,w)}_setScaleUpdatePages(a,w,X=!1,G=!1){if(this._currentScaleValue=w.toString(),xe(this,N,ct).call(this,a))return void(G&&this.eventBus.dispatch("scalechanging",{source:this,scale:a,presetValue:w}));this._doc.style.setProperty("--zoom-factor",a),this._doc.style.setProperty("--viewport-scale-factor",a*s.PixelsPerInch.PDF_TO_CSS_UNITS);const q={scale:a};for(const ae of this._pages)ae.update(q);if(this._currentScale=a,!X){let ce,ae=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ae=this._location.pageNumber,ce=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ae,destArray:ce,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:a,presetValue:G?w:void 0}),this.defaultRenderingQueue&&this.update(),Pe(this,y,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==c.SpreadMode.NONE&&this._scrollMode!==c.ScrollMode.HORIZONTAL?2:1}_setScale(a,w=!1){let X=parseFloat(a);if(X>0)this._setScaleUpdatePages(X,a,w,!1);else{const G=this._pages[this._currentPageNumber-1];if(!G)return;let q=c.SCROLLBAR_PADDING,ae=c.VERTICAL_PADDING;this.isInPresentationMode?q=ae=4:this.removePageBorders&&(q=ae=0),this._scrollMode===c.ScrollMode.HORIZONTAL&&([q,ae]=[ae,q]);const ce=(this.container.clientWidth-q)/G.width*G.scale/this._pageWidthScaleFactor,he=(this.container.clientHeight-ae)/G.height*G.scale;switch(a){case"page-actual":X=1;break;case"page-width":X=ce;break;case"page-height":X=he;break;case"page-fit":X=Math.min(ce,he);break;case"auto":const pe=(0,c.isPortraitOrientation)(G)?ce:Math.min(he,ce);X=Math.min(c.MAX_AUTO_SCALE,pe);break;default:return void console.error(`_setScale: "${a}" is an unknown zoom value.`)}this._setScaleUpdatePages(X,a,w,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(a){if(!this._pageLabels)return null;const w=this._pageLabels.indexOf(a);return w<0?null:w+1}scrollPageIntoView({pageNumber:a,destArray:w=null,allowNegativeOffset:X=!1,ignoreDestinationZoom:G=!1}){if(!this.pdfDocument)return;const q=Number.isInteger(a)&&this._pages[a-1];if(!q)return void console.error(`scrollPageIntoView: "${a}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!w)return void this._setCurrentPageNumber(a,!0);let ge,_e,ae=0,ce=0,he=0,pe=0;const ve=q.rotation%180!=0,Ce=(ve?q.height:q.width)/q.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS,me=(ve?q.width:q.height)/q.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS;let Se=0;switch(w[1].name){case"XYZ":ae=w[2],ce=w[3],Se=w[4],ae=null!==ae?ae:0,ce=null!==ce?ce:me;break;case"Fit":case"FitB":Se="page-fit";break;case"FitH":case"FitBH":ce=w[2],Se="page-width",null===ce&&this._location?(ae=this._location.left,ce=this._location.top):("number"!=typeof ce||ce<0)&&(ce=me);break;case"FitV":case"FitBV":ae=w[2],he=Ce,pe=me,Se="page-height";break;case"FitR":ae=w[2],ce=w[3],he=w[4]-ae,pe=w[5]-ce,ge=(this.container.clientWidth-(this.removePageBorders?0:c.SCROLLBAR_PADDING))/he/s.PixelsPerInch.PDF_TO_CSS_UNITS,_e=(this.container.clientHeight-(this.removePageBorders?0:c.VERTICAL_PADDING))/pe/s.PixelsPerInch.PDF_TO_CSS_UNITS,Se=Math.min(Math.abs(ge),Math.abs(_e));break;default:return void console.error(`scrollPageIntoView: "${w[1].name}" is not a valid destination type.`)}if(G||(Se&&Se!==this._currentScale?this.currentScaleValue=Se:this._currentScale===c.UNKNOWN_SCALE&&(this.currentScaleValue=c.DEFAULT_SCALE_VALUE)),"page-fit"===Se&&!w[4])return void this._scrollIntoView({pageDiv:q.div,pageNumber:a});const Me=[q.viewport.convertToViewportPoint(ae,ce),q.viewport.convertToViewportPoint(ae+he,ce+pe)];let Ee=Math.min(Me[0][0],Me[1][0]),se=Math.min(Me[0][1],Me[1][1]);X||(Ee=Math.max(Ee,0),se=Math.max(se,0)),this._scrollIntoView({pageDiv:q.div,pageSpot:{left:Ee,top:se},pageNumber:a})}_updateLocation(a){const w=this._currentScale,X=this._currentScaleValue,G=parseFloat(X)===w?Math.round(1e4*w)/100:X,q=a.id;let ae="#page="+q;ae+="&zoom="+G;const he=this.container,pe=this._pages[q-1].getPagePoint(he.scrollLeft-a.x,he.scrollTop-a.y),ge=Math.round(pe[0]),_e=Math.round(pe[1]);ae+=","+ge+","+_e,this._location={pageNumber:q,scale:G,top:_e,left:ge,rotation:this._pagesRotation,pdfOpenParams:ae}}update(){const a=this._getVisiblePages(),w=a.views,X=w.length;if(0===X)return;const G=Math.max(10,2*X+1);if(ue(this,I).resize(G,a.ids),this.renderingQueue.renderHighestPriority(a),!this.isInPresentationMode){const q=this._spreadMode===c.SpreadMode.NONE&&(this._scrollMode===c.ScrollMode.PAGE||this._scrollMode===c.ScrollMode.VERTICAL);let ae=this._currentPageNumber,ce=!1;for(const he of w){if(he.percent<100)break;if(he.id===ae&&q){ce=!0;break}}ce||(ae=w[0].id),this._setCurrentPageNumber(ae)}this._updateLocation(a.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(a){return this.container.contains(a)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===c.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===c.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const a=this._pages[this._currentPageNumber-1],w=a.div,X={id:a.id,x:w.offsetLeft+w.clientLeft,y:w.offsetTop+w.clientTop,view:a};return{first:X,last:X,views:[X],ids:new Set([a.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const a=this._scrollMode===c.ScrollMode.PAGE?ue(this,l).pages:this._pages,w=this._scrollMode===c.ScrollMode.HORIZONTAL;return(0,c.getVisibleElements)({scrollEl:this.container,views:a,sortByVisibility:!0,horizontal:w,rtl:w&&this._isContainerRtl})}isPageVisible(a){return!!this.pdfDocument&&(Number.isInteger(a)&&a>0&&a<=this.pagesCount?this._getVisiblePages().ids.has(a):(console.error(`isPageVisible: "${a}" is not a valid page.`),!1))}isPageCached(a){if(!this.pdfDocument)return!1;if(!(Number.isInteger(a)&&a>0&&a<=this.pagesCount))return console.error(`isPageCached: "${a}" is not a valid page.`),!1;const w=this._pages[a-1];return ue(this,I).has(w)}cleanup(){for(let a=0,w=this._pages.length;a<w;a++)this._pages[a]&&this._pages[a].renderingState!==c.RenderingStates.FINISHED&&this._pages[a].reset()}_cancelRendering(){for(let a=0,w=this._pages.length;a<w;a++)this._pages[a]&&this._pages[a].cancelRendering()}forceRendering(a){const w=a||this._getVisiblePages(),X=xe(this,$,dt).call(this,w),q=this.renderingQueue.getHighestPriority(w,this._pages,X,this._spreadMode!==c.SpreadMode.NONE&&this._scrollMode!==c.ScrollMode.HORIZONTAL);return xe(this,te,ut).call(this,w.ids),!!q&&(xe(this,j,ht).call(this,q).then(()=>{this.renderingQueue.renderView(q)}),!0)}createTextLayerBuilder(a,w,X,G=!1,q,ae){return new m.TextLayerBuilder({textLayerDiv:a,eventBus:q,pageIndex:w,viewport:X,enhanceTextSelection:!this.isInPresentationMode&&G,highlighter:ae})}createTextHighlighter(a,w){return new P.TextHighlighter({eventBus:w,pageIndex:a,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(a,w,X=null,G="",q=!0,ae=T.NullL10n,ce=null,he=null,pe=null,ge=null,_e=null){var ve,Ce,me,Se;return new f.AnnotationLayerBuilder({pageDiv:a,pdfPage:w,annotationStorage:X||(null==(ve=this.pdfDocument)?void 0:ve.annotationStorage),imageResourcesPath:G,renderForms:q,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ae,enableScripting:null!=ce?ce:this.enableScripting,hasJSActionsPromise:he||(null==(Ce=this.pdfDocument)?void 0:Ce.hasJSActions()),fieldObjectsPromise:ge||(null==(me=this.pdfDocument)?void 0:me.getFieldObjects()),mouseState:pe||(null==(Se=this._scriptingManager)?void 0:Se.mouseState),annotationCanvasMap:_e})}createXfaLayerBuilder(a,w,X=null){var G;return new t.XfaLayerBuilder({pageDiv:a,pdfPage:w,annotationStorage:X||(null==(G=this.pdfDocument)?void 0:G.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(a){return new M.StructTreeLayerBuilder({pdfPage:a})}get hasEqualPageSizes(){const a=this._pages[0];for(let w=1,X=this._pages.length;w<X;++w){const G=this._pages[w];if(G.width!==a.width||G.height!==a.height)return!1}return!0}getPagesOverview(){return this._pages.map(a=>{const w=a.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,c.isPortraitOrientation)(w)?{width:w.width,height:w.height,rotation:w.rotation}:{width:w.height,height:w.width,rotation:(w.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(a){if(!(a instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${a}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=a;const w={optionalContentConfigPromise:a};for(const X of this._pages)X.update(w);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:a})}get scrollMode(){return this._scrollMode}set scrollMode(a){if(this._scrollMode!==a){if(!(0,c.isValidScrollMode)(a))throw new Error(`Invalid scroll mode: ${a}`);this.pagesCount>_.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=a,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:a}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(a=null){const w=this._scrollMode,X=this.viewer;X.classList.toggle("scrollHorizontal",w===c.ScrollMode.HORIZONTAL),X.classList.toggle("scrollWrapped",w===c.ScrollMode.WRAPPED),this.pdfDocument&&a&&(w===c.ScrollMode.PAGE?xe(this,C,We).call(this):this._previousScrollMode===c.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(a,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(a){if(this._spreadMode!==a){if(!(0,c.isValidSpreadMode)(a))throw new Error(`Invalid spread mode: ${a}`);this._spreadMode=a,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:a}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(a=null){if(!this.pdfDocument)return;const w=this.viewer,X=this._pages;if(this._scrollMode===c.ScrollMode.PAGE)xe(this,C,We).call(this);else if(w.textContent="",this._spreadMode===c.SpreadMode.NONE)for(let G=0,q=X.length;G<q;++G)w.appendChild(X[G].div);else{const G=this._spreadMode-1;let q=null;for(let ae=0,ce=X.length;ae<ce;++ae)null===q?(q=document.createElement("div"),q.className="spread",w.appendChild(q)):ae%2===G&&(q=q.cloneNode(!1),w.appendChild(q)),q.appendChild(X[ae].div)}!a||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(a,!0),this.update())}_getPageAdvance(a,w=!1){switch(this._scrollMode){case c.ScrollMode.WRAPPED:{const{views:X}=this._getVisiblePages(),G=new Map;for(const{id:q,y:ae,percent:ce,widthPercent:he}of X){if(0===ce||he<100)continue;let pe=G.get(ae);pe||G.set(ae,pe||(pe=[])),pe.push(q)}for(const q of G.values()){const ae=q.indexOf(a);if(-1===ae)continue;const ce=q.length;if(1===ce)break;if(w)for(let he=ae-1,pe=0;he>=pe;he--){const _e=q[he+1]-1;if(q[he]<_e)return a-_e}else for(let he=ae+1,pe=ce;he<pe;he++){const _e=q[he-1]+1;if(q[he]>_e)return _e-a}if(w){const he=q[0];if(he<a)return a-he+1}else{const he=q[ce-1];if(he>a)return he-a+1}break}break}case c.ScrollMode.HORIZONTAL:break;case c.ScrollMode.PAGE:case c.ScrollMode.VERTICAL:{if(this._spreadMode===c.SpreadMode.NONE)break;const X=this._spreadMode-1;if(w&&a%2!==X)break;if(!w&&a%2===X)break;const{views:G}=this._getVisiblePages(),q=w?a-1:a+1;for(const{id:ae,percent:ce,widthPercent:he}of G)if(ae===q){if(ce>0&&100===he)return 2;break}break}}return 1}nextPage(){const a=this._currentPageNumber,w=this.pagesCount;if(a>=w)return!1;const X=this._getPageAdvance(a,!1)||1;return this.currentPageNumber=Math.min(a+X,w),!0}previousPage(){const a=this._currentPageNumber;if(a<=1)return!1;const w=this._getPageAdvance(a,!0)||1;return this.currentPageNumber=Math.max(a-w,1),!0}increaseScale(a=1){let w=this._currentScale;do{w=(w*c.DEFAULT_SCALE_DELTA).toFixed(2),w=Math.ceil(10*w)/10,w=Math.min(c.MAX_SCALE,w)}while(--a>0&&w<c.MAX_SCALE);this.currentScaleValue=w}decreaseScale(a=1){let w=this._currentScale;do{w=(w/c.DEFAULT_SCALE_DELTA).toFixed(2),w=Math.floor(10*w)/10,w=Math.max(c.MIN_SCALE,w)}while(--a>0&&w>c.MIN_SCALE);this.currentScaleValue=w}};let O=ne;I=new WeakMap,W=new WeakMap,R=new WeakMap,H=new WeakMap,y=new WeakMap,l=new WeakMap,o=new WeakMap,S=new WeakSet,ot=function(a){!a||(a.includes(s.PermissionFlag.COPY)||this.viewer.classList.add(v),!a.includes(s.PermissionFlag.MODIFY_ANNOTATIONS)&&!a.includes(s.PermissionFlag.FILL_INTERACTIVE_FORMS)&&ue(this,W)===s.AnnotationMode.ENABLE_FORMS&&(Pe(this,R,ue(this,W)),Pe(this,W,s.AnnotationMode.ENABLE)))},E=new WeakSet,lt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const a=new Promise(w=>{Pe(this,o,()=>{"hidden"===document.visibilityState&&(w(),document.removeEventListener("visibilitychange",ue(this,o)),Pe(this,o,null))}),document.addEventListener("visibilitychange",ue(this,o))});return Promise.race([this._onePageRenderedCapability.promise,a])},C=new WeakSet,We=function(){if(this._scrollMode!==c.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const a=this._currentPageNumber,w=ue(this,l),X=this.viewer;if(X.textContent="",w.pages.length=0,this._spreadMode===c.SpreadMode.NONE){const G=this._pages[a-1];if(this.isInPresentationMode){const q=document.createElement("div");q.className="spread";const ae=document.createElement("div");ae.className="dummyPage",ae.style.height=`${this.container.clientHeight}px`,q.appendChild(ae),q.appendChild(G.div),X.appendChild(q)}else X.appendChild(G.div);w.pages.push(G)}else{const G=new Set,q=this._spreadMode-1;a%2!==q?(G.add(a-1),G.add(a)):(G.add(a-2),G.add(a-1));let ae=null;for(const ce of G){const he=this._pages[ce];!he||(null===ae?(ae=document.createElement("div"),ae.className="spread",X.appendChild(ae)):ce%2===q&&(ae=ae.cloneNode(!1),X.appendChild(ae)),ae.appendChild(he.div),w.pages.push(he))}}w.scrollDown=a>=w.previousPageNumber,w.previousPageNumber=a},N=new WeakSet,ct=function(a){return(!this.isInPresentationMode||this.container.clientHeight===ue(this,y))&&(a===this._currentScale||Math.abs(a-this._currentScale)<1e-15)},j=new WeakSet,ht=function(a){var w=this;return b(function*(){var X,G;if(a.pdfPage)return a.pdfPage;try{const q=yield w.pdfDocument.getPage(a.id);return a.pdfPage||a.setPdfPage(q),(null==(G=(X=w.linkService)._cachedPageNumber)?void 0:G.call(X,q.ref))||w.linkService.cachePageRef(a.id,q.ref),q}catch(q){return console.error("Unable to get page for page view",q),null}})()},$=new WeakSet,dt=function(a){var w,X;if(1===(null==(w=a.first)?void 0:w.id))return!0;if((null==(X=a.last)?void 0:X.id)===this.pagesCount)return!1;switch(this._scrollMode){case c.ScrollMode.PAGE:return ue(this,l).scrollDown;case c.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},te=new WeakSet,ut=function(a){for(const w of a){const X=this._pages[w-1];null==X||X.toggleLoadingIconSpinner(!0)}for(const w of ue(this,I))a.has(w.id)||w.toggleLoadingIconSpinner(!1)},e.BaseViewer=O},(L,e,d)=>{var h;Object.defineProperty(e,"__esModule",{value:!0}),e.PDFPageView=void 0;var s=d(3),c=d(6),f=d(13),T=d(4);const u=f.compatibilityParams.maxCanvasPixels||16777216;h=new WeakMap,e.PDFPageView=class{constructor(P){var v,_,A,O;ye(this,h,s.AnnotationMode.ENABLE_FORMS);const m=P.container,t=P.defaultViewport;this.id=P.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=P.scale||c.DEFAULT_SCALE,this.viewport=t,this.pdfPageRotate=t.rotation,this._optionalContentConfigPromise=P.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(v=P.textLayerMode)?v:c.TextLayerMode.ENABLE,Pe(this,h,null!=(_=P.annotationMode)?_:s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=P.imageResourcesPath||"",this.useOnlyCssZoom=P.useOnlyCssZoom||!1,this.maxCanvasPixels=P.maxCanvasPixels||u,this.eventBus=P.eventBus,this.renderingQueue=P.renderingQueue,this.textLayerFactory=P.textLayerFactory,this.annotationLayerFactory=P.annotationLayerFactory,this.xfaLayerFactory=P.xfaLayerFactory,this.textHighlighter=null==(A=P.textHighlighterFactory)?void 0:A.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=P.structTreeLayerFactory,this.renderer=P.renderer||c.RendererType.CANVAS,this.l10n=P.l10n||T.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=c.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(O=this.renderingQueue)?void 0:O.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(F=>{i.setAttribute("aria-label",F)}),this.div=i,null==m||m.appendChild(i)}setPdfPage(P){this.pdfPage=P,this.pdfPageRotate=P.rotate,this.viewport=P.getViewport({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var P=this;return b(function*(){let m=null;try{yield P.annotationLayer.render(P.viewport,"display")}catch(t){m=t}finally{P.eventBus.dispatch("annotationlayerrendered",{source:P,pageNumber:P.id,error:m})}})()}_renderXfaLayer(){var P=this;return b(function*(){let m=null;try{const t=yield P.xfaLayer.render(P.viewport,"display");P.textHighlighter&&P._buildXfaTextContentItems(t.textDivs)}catch(t){m=t}finally{P.eventBus.dispatch("xfalayerrendered",{source:P,pageNumber:P.id,error:m})}})()}_buildXfaTextContentItems(P){var m=this;return b(function*(){const t=yield m.pdfPage.getTextContent(),i=[];for(const v of t.items)i.push(v.str);m.textHighlighter.setTextMapping(P,i),m.textHighlighter.enable()})()}_resetZoomLayer(P=!1){if(!this.zoomLayer)return;const m=this.zoomLayer.firstChild;this.paintedViewportMap.delete(m),m.width=0,m.height=0,P&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:P=!1,keepAnnotationLayer:m=!1,keepXfaLayer:t=!1}={}){var F,B;this.cancelRendering({keepAnnotationLayer:m,keepXfaLayer:t}),this.renderingState=c.RenderingStates.INITIAL;const i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";const v=i.childNodes,_=P&&this.zoomLayer||null,A=m&&(null==(F=this.annotationLayer)?void 0:F.div)||null,O=t&&(null==(B=this.xfaLayer)?void 0:B.div)||null;for(let V=v.length-1;V>=0;V--){const D=v[V];switch(D){case _:case A:case O:continue}D.remove()}i.removeAttribute("data-loaded"),A&&this.annotationLayer.hide(),O&&this.xfaLayer.hide(),_||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(V=>{var D;null==(D=this.loadingIconDiv)||D.setAttribute("aria-label",V)}),i.appendChild(this.loadingIconDiv)}update({scale:P=0,rotation:m=null,optionalContentConfigPromise:t=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=P||this.scale,"number"==typeof m&&(this.rotation=m),t instanceof Promise&&(this._optionalContentConfigPromise=t);const v=this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:v,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:A}=document.documentElement;A.setProperty("--zoom-factor",this.scale),A.setProperty("--viewport-scale-factor",v)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let _=!1;if(this.canvas&&this.maxCanvasPixels>0){const A=this.outputScale;(Math.floor(this.viewport.width)*A.sx|0)*(Math.floor(this.viewport.height)*A.sy|0)>this.maxCanvasPixels&&(_=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&_)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:P=!1,keepXfaLayer:m=!1}={}){var t;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!P||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!m||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(t=this.textHighlighter)||t.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:P,redrawAnnotationLayer:m=!1,redrawXfaLayer:t=!1}){const i=this.viewport.width,v=this.viewport.height,_=this.div;P.style.width=P.parentNode.style.width=_.style.width=Math.floor(i)+"px",P.style.height=P.parentNode.style.height=_.style.height=Math.floor(v)+"px";const A=this.viewport.rotation-this.paintedViewportMap.get(P).rotation,O=Math.abs(A);let F=1,B=1;if((90===O||270===O)&&(F=v/i,B=i/v),P.style.transform=`rotate(${A}deg) scale(${F}, ${B})`,this.textLayer){const V=this.textLayer.viewport,I=Math.abs(this.viewport.rotation-V.rotation);let W=i/V.width;(90===I||270===I)&&(W=i/V.height);const R=this.textLayer.textLayerDiv;let H,y;switch(I){case 0:H=y=0;break;case 90:H=0,y="-"+R.style.height;break;case 180:H="-"+R.style.width,y="-"+R.style.height;break;case 270:H="-"+R.style.width,y=0;break;default:console.error("Bad rotation value.")}R.style.transform=`rotate(${I}deg) scale(${W}) translate(${H}, ${y})`,R.style.transformOrigin="0% 0%"}m&&this.annotationLayer&&this._renderAnnotationLayer(),t&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(P,m){return this.viewport.convertToPdfPoint(P,m)}toggleLoadingIconSpinner(P=!1){var m;null==(m=this.loadingIconDiv)||m.classList.toggle("notVisible",!P)}draw(){var B,V,D,P=this;this.renderingState!==c.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:m,pdfPage:t}=this;if(!t)return this.renderingState=c.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=c.RenderingStates.RUNNING;const i=document.createElement("div");i.style.width=m.style.width,i.style.height=m.style.height,i.classList.add("canvasWrapper"),(null==(B=this.annotationLayer)?void 0:B.div)?m.insertBefore(i,this.annotationLayer.div):m.appendChild(i);let v=null;if(this.textLayerMode!==c.TextLayerMode.DISABLE&&this.textLayerFactory){const I=document.createElement("div");I.className="textLayer",I.style.width=i.style.width,I.style.height=i.style.height,(null==(V=this.annotationLayer)?void 0:V.div)?m.insertBefore(I,this.annotationLayer.div):m.appendChild(I),v=this.textLayerFactory.createTextLayerBuilder(I,this.id-1,this.viewport,this.textLayerMode===c.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=v,ue(this,h)!==s.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(m,t,null,this.imageResourcesPath,ue(this,h)===s.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(D=this.xfaLayer)?void 0:D.div)&&m.appendChild(this.xfaLayer.div);let _=null;this.renderingQueue&&(_=I=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=c.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=c.RenderingStates.RUNNING,I()});I()});const A=function(){var I=b(function*(W=null){if(O===P.paintTask&&(P.paintTask=null),W instanceof s.RenderingCancelledException)P._renderError=null;else if(P._renderError=W,P.renderingState=c.RenderingStates.FINISHED,P.loadingIconDiv&&(P.loadingIconDiv.remove(),delete P.loadingIconDiv),P._resetZoomLayer(!0),P.eventBus.dispatch("pagerendered",{source:P,pageNumber:P.id,cssTransform:!1,timestamp:performance.now(),error:P._renderError}),W)throw W});return function(){return I.apply(this,arguments)}}(),O=this.renderer===c.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);O.onRenderContinue=_,this.paintTask=O;const F=O.promise.then(()=>A(null).then(()=>{if(v){const I=t.streamTextContent({includeMarkedContent:!0});v.setTextContentStream(I),v.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(I){return A(I)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(m,t,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=I=>{I.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(W=>{if(!W||!this.canvas)return;const R=this.structTreeLayer.render(W);R.classList.add("structTree"),this.canvas.appendChild(R)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(t)),m.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),F}paintOnCanvas(P){const m=(0,s.createPromiseCapability)(),t={promise:m.promise,onRenderContinue(R){R()},cancel(){W.cancel()}},i=this.viewport,v=document.createElement("canvas");v.hidden=!0;let _=!0;const A=function(){_&&(v.hidden=!1,_=!1)};P.appendChild(v),this.canvas=v,v.mozOpaque=!0;const O=v.getContext("2d",{alpha:!1}),F=this.outputScale=new c.OutputScale;if(this.useOnlyCssZoom){const R=i.clone({scale:s.PixelsPerInch.PDF_TO_CSS_UNITS});F.sx*=R.width/i.width,F.sy*=R.height/i.height}if(this.maxCanvasPixels>0){const H=Math.sqrt(this.maxCanvasPixels/(i.width*i.height));F.sx>H||F.sy>H?(F.sx=H,F.sy=H,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const B=(0,c.approximateFraction)(F.sx),V=(0,c.approximateFraction)(F.sy);v.width=(0,c.roundToDivide)(i.width*F.sx,B[0]),v.height=(0,c.roundToDivide)(i.height*F.sy,V[0]),v.style.width=(0,c.roundToDivide)(i.width,B[1])+"px",v.style.height=(0,c.roundToDivide)(i.height,V[1])+"px",this.paintedViewportMap.set(v,i);const I={canvasContext:O,transform:F.scaled?[F.sx,0,0,F.sy,0,0]:null,viewport:this.viewport,annotationMode:ue(this,h),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},W=this.pdfPage.render(I);return W.onContinue=function(R){A(),t.onRenderContinue?t.onRenderContinue(R):R()},W.promise.then(function(){A(),m.resolve()},function(R){A(),m.reject(R)}),t}paintOnSvg(P){let m=!1;const t=()=>{if(m)throw new s.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},i=this.pdfPage,v=this.viewport.clone({scale:s.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:ue(this,h)}).then(A=>(t(),new s.SVGGraphics(i.commonObjs,i.objs).getSVG(A,v).then(F=>{t(),this.svg=F,this.paintedViewportMap.set(F,v),F.style.width=P.style.width,F.style.height=P.style.height,this.renderingState=c.RenderingStates.FINISHED,P.appendChild(F)}))),onRenderContinue(A){A()},cancel(){m=!0}}}setPageLabel(P){this.pageLabel="string"==typeof P?P:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(L,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.compatibilityParams=e.OptionKind=e.AppOptions=void 0;const d=Object.create(null);e.compatibilityParams=d;{const u=navigator.userAgent||"",r=navigator.platform||"",h=navigator.maxTouchPoints||1,M=/Android/.test(u);(/\b(iPad|iPhone|iPod)(?=;)/.test(u)||"MacIntel"===r&&h>1||M)&&(d.maxCanvasPixels=5242880)}const s={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};e.OptionKind=s;const c={annotationMode:{value:2,kind:s.VIEWER+s.PREFERENCE},cursorToolOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:s.VIEWER},defaultZoomValue:{value:"",kind:s.VIEWER+s.PREFERENCE},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePermissions:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableScripting:{value:!0,kind:s.VIEWER+s.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER+s.PREFERENCE},historyUpdateUrl:{value:!1,kind:s.VIEWER+s.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},imageResourcesPath:{value:"./images/",kind:s.VIEWER},maxCanvasPixels:{value:16777216,compatibility:d.maxCanvasPixels,kind:s.VIEWER},pdfBugEnabled:{value:!1,kind:s.VIEWER+s.PREFERENCE},printResolution:{value:150,kind:s.VIEWER},renderer:{value:"canvas",kind:s.VIEWER},sidebarViewOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},scrollModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},spreadModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},textLayerMode:{value:1,kind:s.VIEWER+s.PREFERENCE},useOnlyCssZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},viewerCssTheme:{value:0,kind:s.VIEWER+s.PREFERENCE},viewOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:"../web/cmaps/",kind:s.API},disableAutoFetch:{value:!1,kind:s.API+s.PREFERENCE},disableFontFace:{value:!1,kind:s.API+s.PREFERENCE},disableRange:{value:!1,kind:s.API+s.PREFERENCE},disableStream:{value:!1,kind:s.API+s.PREFERENCE},docBaseUrl:{value:"",kind:s.API},enableXfa:{value:!0,kind:s.API+s.PREFERENCE},fontExtraProperties:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:s.WORKER}};c.disablePreferences={value:!1,kind:s.VIEWER},c.locale={value:navigator.language||"en-US",kind:s.VIEWER},c.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:s.VIEWER},c.renderer.kind+=s.PREFERENCE;const f=Object.create(null);e.AppOptions=class{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(r){var P;const h=f[r];if(void 0!==h)return h;const M=c[r];return void 0!==M?null!=(P=M.compatibility)?P:M.value:void 0}static getAll(r=null){var M;const h=Object.create(null);for(const P in c){const m=c[P];if(r){if(0==(r&m.kind))continue;if(r===s.PREFERENCE){const i=m.value,v=typeof i;if("boolean"===v||"string"===v||"number"===v&&Number.isInteger(i)){h[P]=i;continue}throw new Error(`Invalid type for preference: ${P}`)}}const t=f[P];h[P]=void 0!==t?t:null!=(M=m.compatibility)?M:m.value}return h}static set(r,h){f[r]=h}static setAll(r){for(const h in r)f[h]=r[h]}static remove(r){delete f[r]}static _hasUserOptions(){return Object.keys(f).length>0}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFRenderingQueue=void 0;var s=d(3),c=d(6);e.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(r){this.pdfViewer=r}setThumbnailViewer(r){this.pdfThumbnailViewer=r}isHighestPriority(r){return this.highestPriorityPage===r.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(r){var h;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(r)&&(this.isThumbnailViewEnabled&&(null==(h=this.pdfThumbnailViewer)?void 0:h.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(r,h,M,P=!1){const m=r.views,t=m.length;if(0===t)return null;for(let O=0;O<t;O++){const F=m[O].view;if(!this.isViewFinished(F))return F}const i=r.first.id,v=r.last.id;if(v-i+1>t){const O=r.ids;for(let F=1,B=v-i;F<B;F++){const V=M?i+F:v-F;if(O.has(V))continue;const D=h[V-1];if(!this.isViewFinished(D))return D}}let _=M?v:i-2,A=h[_];return A&&!this.isViewFinished(A)||P&&(_+=M?1:-1,A=h[_],A&&!this.isViewFinished(A))?A:null}isViewFinished(r){return r.renderingState===c.RenderingStates.FINISHED}renderView(r){switch(r.renderingState){case c.RenderingStates.FINISHED:return!1;case c.RenderingStates.PAUSED:this.highestPriorityPage=r.renderingId,r.resume();break;case c.RenderingStates.RUNNING:this.highestPriorityPage=r.renderingId;break;case c.RenderingStates.INITIAL:this.highestPriorityPage=r.renderingId,r.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof s.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(L,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextHighlighter=void 0;e.TextHighlighter=class{constructor({findController:c,eventBus:f,pageIndex:T}){this.findController=c,this.matches=[],this.eventBus=f,this.pageIdx=T,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(c,f){this.textDivs=c,this.textContentItemsStr=f}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=c=>{(c.pageIndex===this.pageIdx||-1===c.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(c,f){if(!c)return[];const{textContentItemsStr:T}=this;let u=0,r=0;const h=T.length-1,M=[];for(let P=0,m=c.length;P<m;P++){let t=c[P];for(;u!==h&&t>=r+T[u].length;)r+=T[u].length,u++;u===T.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:u,offset:t-r}};for(t+=f[P];u!==h&&t>r+T[u].length;)r+=T[u].length,u++;i.end={divIdx:u,offset:t-r},M.push(i)}return M}_renderMatches(c){if(0===c.length)return;const{findController:f,pageIdx:T}=this,{textContentItemsStr:u,textDivs:r}=this,h=T===f.selected.pageIdx,M=f.selected.matchIdx;let m=null;const t_offset=void 0;function i(O,F){const B=O.divIdx;return r[B].textContent="",v(B,0,O.offset,F)}function v(O,F,B,V){let D=r[O];if(D.nodeType===Node.TEXT_NODE){const R=document.createElement("span");D.parentNode.insertBefore(R,D),R.appendChild(D),r[O]=R,D=R}const I=u[O].substring(F,B),W=document.createTextNode(I);if(V){const R=document.createElement("span");return R.className=`${V} appended`,R.appendChild(W),D.appendChild(R),V.includes("selected")?R.offsetLeft:0}return D.appendChild(W),0}let _=M,A=_+1;if(f.state.highlightAll)_=0,A=c.length;else if(!h)return;for(let O=_;O<A;O++){const F=c[O],B=F.begin,V=F.end,D=h&&O===M,I=D?" selected":"";let W=0;if(m&&B.divIdx===m.divIdx?v(m.divIdx,m.offset,B.offset):(null!==m&&v(m.divIdx,m.offset,t_offset),i(B)),B.divIdx===V.divIdx)W=v(B.divIdx,B.offset,V.offset,"highlight"+I);else{W=v(B.divIdx,B.offset,t_offset,"highlight begin"+I);for(let R=B.divIdx+1,H=V.divIdx;R<H;R++)r[R].className="highlight middle"+I;i(V,"highlight end"+I)}m=V,D&&f.scrollMatchIntoView({element:r[B.divIdx],selectedLeft:W,pageIndex:T,matchIndex:M})}m&&v(m.divIdx,m.offset,t_offset)}_updateMatches(){if(!this.enabled)return;const{findController:c,matches:f,pageIdx:T}=this,{textContentItemsStr:u,textDivs:r}=this;let h=-1;for(let m=0,t=f.length;m<t;m++){const i=f[m];for(let _=Math.max(h,i.begin.divIdx),A=i.end.divIdx;_<=A;_++){const O=r[_];O.textContent=u[_],O.className=""}h=i.end.divIdx+1}(null==c?void 0:c.highlightMatches)&&(this.matches=this._convertMatches(c.pageMatches[T]||null,c.pageMatchesLength[T]||null),this._renderMatches(this.matches))}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadManager=void 0;var s=d(3);function c(T,u){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=T,r.target="_parent","download"in r&&(r.download=u),(document.body||document.documentElement).appendChild(r),r.click(),r.remove()}e.DownloadManager=class{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(u,r){(0,s.createValidAbsoluteUrl)(u,"http://example.com")?c(u+"#pdfjs.action=download",r):console.error(`downloadUrl - not a valid URL: ${u}`)}downloadData(u,r,h){c(URL.createObjectURL(new Blob([u],{type:h})),r)}openOrDownloadData(u,r,h){const M=(0,s.isPdfFile)(h),P=M?"application/pdf":"";if(M){let t,m=this._openBlobUrls.get(u);m||(m=URL.createObjectURL(new Blob([r],{type:P})),this._openBlobUrls.set(u,m)),t="?file="+encodeURIComponent(m+"#"+h);try{return window.open(t),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(m),this._openBlobUrls.delete(u)}}return this.downloadData(r,h,P),!1}download(u,r,h,M="download"){c(URL.createObjectURL(u),h)}}},(L,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WaitOnType=e.EventBus=e.AutomationEventBus=void 0,e.waitOnEventOrTimeout=function({target:T,name:u,delay:r=0}){return new Promise(function(h,M){if("object"!=typeof T||!u||"string"!=typeof u||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function P(v){T instanceof c?T._off(u,m):T.removeEventListener(u,m),i&&clearTimeout(i),h(v)}const m=P.bind(null,d.EVENT);T instanceof c?T._on(u,m):T.addEventListener(u,m);const t=P.bind(null,d.TIMEOUT),i=setTimeout(t,r)})};const d={EVENT:"event",TIMEOUT:"timeout"};e.WaitOnType=d;class c{constructor(){this._listeners=Object.create(null)}on(u,r,h=null){this._on(u,r,{external:!0,once:null==h?void 0:h.once})}off(u,r,h=null){this._off(u,r,{external:!0,once:null==h?void 0:h.once})}dispatch(u,r){const h=this._listeners[u];if(!h||0===h.length)return;let M;for(const{listener:P,external:m,once:t}of h.slice(0))t&&this._off(u,P),m?(M||(M=[])).push(P):P(r);if(M){for(const P of M)P(r);M=null}}_on(u,r,h=null){var P;((P=this._listeners)[u]||(P[u]=[])).push({listener:r,external:!0===(null==h?void 0:h.external),once:!0===(null==h?void 0:h.once)})}_off(u,r,h=null){const M=this._listeners[u];if(M)for(let P=0,m=M.length;P<m;P++)if(M[P].listener===r)return void M.splice(P,1)}}e.EventBus=c;e.AutomationEventBus=class extends c{dispatch(u,r){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GenericL10n=void 0,d(19);var s=d(4);const c=document.webL10n;e.GenericL10n=class{constructor(u){this._lang=u,this._ready=new Promise((r,h)=>{c.setLanguage((0,s.fixupLangCode)(u),()=>{r(c)})})}getLanguage(){var u=this;return b(function*(){return(yield u._ready).getLanguage()})()}getDirection(){var u=this;return b(function*(){return(yield u._ready).getDirection()})()}get(u,r=null,h=(0,s.getL10nFallback)(u,r)){var M=this;return b(function*(){return(yield M._ready).get(u,r,h)})()}translate(u){var r=this;return b(function*(){return(yield r._ready).translate(u)})()}}},()=>{document.webL10n=function(L,e,d){var s={},c="",f="textContent",T="",u={},r="loading";function i(R,H,y){H=H||function(S){},y=y||function(){};var l=new XMLHttpRequest;l.open("GET",R,true),l.overrideMimeType&&l.overrideMimeType("text/plain; charset=utf-8"),l.onreadystatechange=function(){4==l.readyState&&(200==l.status||0===l.status?H(l.responseText):y())},l.onerror=y,l.ontimeout=y;try{l.send(null)}catch(o){y()}}function v(R,H,y,l){var o=R.replace(/[^\/]*$/,"")||"./";function S(E){return E.lastIndexOf("\\")<0?E:E.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(R,function(E){c+=E,function(E,n){var C={},x=/^\s*|\s*$/,N=/^\s*#|^\s*$/,p=/^\s*\[(.*)\]\s*$/,j=/^\s*@import\s+url\((.*)\)\s*$/i,z=/^([^=\s]*)\s*=\s*(.+)$/;function $(te,Y,ne){var U=te.replace(x,"").split(/[\r\n]+/),a="*",w=H.split("-",1)[0],X=!1,G="";!function q(){for(;;){if(!U.length)return void ne();var ae=U.shift();if(!N.test(ae)){if(Y){if(G=p.exec(ae)){a=G[1].toLowerCase(),X="*"!==a&&a!==H&&a!==w;continue}if(X)continue;if(G=j.exec(ae))return void Z(o+G[1],q)}var ce=ae.match(z);ce&&3==ce.length&&(C[ce[1]]=S(ce[2]))}}}()}function Z(te,Y){i(te,function(ne){$(ne,!1,Y)},function(){console.warn(te+" not found."),Y()})}$(E,!0,function(){n(C)})}(E,function(n){for(var C in n){var x,N,p=C.lastIndexOf(".");p>0?(x=C.substring(0,p),N=C.substring(p+1)):(x=C,N=f),s[x]||(s[x]={}),s[x][N]=n[C]}y&&y()})},l)}function _(R,H){R&&(R=R.toLowerCase()),H=H||function(){},s={},c="",T="",T=R;var y=e.querySelectorAll('link[type="application/l10n"]'),l=y.length;if(0!==l){var E,n=0;E=function(){++n>=l&&(H(),r="complete")};for(var x=0;x<l;x++)new C(y[x]).load(R,E)}else{var o=function(){var R=e.querySelector('script[type="application/l10n"]');return R?JSON.parse(R.innerHTML):null}();if(o&&o.locales&&o.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(s=o.locales[R])){var S=o.default_locale.toLowerCase();for(var g in o.locales){if((g=g.toLowerCase())===R){s=o.locales[R];break}g===S&&(s=o.locales[S])}}H()}else console.log("no resource to load, early way out");r="complete"}function C(p){var j=p.href;this.load=function(z,$){v(j,z,$,function(){console.warn(j+" not found."),console.warn('"'+z+'" resource not found'),T="",$()})}}}function F(R,H,y){var l=s[R];if(!l){if(console.warn("#"+R+" is undefined."),!y)return null;l=y}var o={};for(var S in l){var g=l[S];g=V(g=B(g,H,R,S),H,R),o[S]=g}return o}function B(R,H,y,l){var S=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(R);if(!S||!S.length)return R;var n,g=S[1],E=S[2];return H&&E in H?n=H[E]:E in s&&(n=s[E]),g in u&&(R=(0,u[g])(R,n,y,l)),R}function V(R,H,y){return R.replace(/\{\{\s*(.+?)\s*\}\}/g,function(o,S){return H&&S in H?H[S]:S in s?s[S]:(console.log("argument {{"+S+"}} for #"+y+" is undefined."),o)})}function D(R){var H=function(R){if(!R)return{};var H=R.getAttribute("data-l10n-id"),y=R.getAttribute("data-l10n-args"),l={};if(y)try{l=JSON.parse(y)}catch(o){console.warn("could not parse arguments for #"+H)}return{id:H,args:l}}(R);if(H.id){var y=F(H.id,H.args);if(!y)return void console.warn("#"+H.id+" is undefined.");if(y[f]){if(0===function(R){if(R.children)return R.children.length;if(void 0!==R.childElementCount)return R.childElementCount;for(var H=0,y=0;y<R.childNodes.length;y++)H+=1===R.nodeType?1:0;return H}(R))R[f]=y[f];else{for(var l=R.childNodes,o=!1,S=0,g=l.length;S<g;S++)3===l[S].nodeType&&/\S/.test(l[S].nodeValue)&&(o?l[S].nodeValue="":(l[S].nodeValue=y[f],o=!0));if(!o){var E=e.createTextNode(y[f]);R.insertBefore(E,R.firstChild)}}delete y[f]}for(var n in y)R[n]=y[n]}}return u.plural=function(R,H,y,l){var o=parseFloat(H);if(isNaN(o)||l!=f)return R;u._pluralRules||(u._pluralRules=function(R){function y(g,E){return-1!==E.indexOf(g)}function l(g,E,n){return E<=g&&g<=n}var o={0:function(g){return"other"},1:function(g){return l(g%100,3,10)?"few":0===g?"zero":l(g%100,11,99)?"many":2==g?"two":1==g?"one":"other"},2:function(g){return 0!==g&&g%10==0?"many":2==g?"two":1==g?"one":"other"},3:function(g){return 1==g?"one":"other"},4:function(g){return l(g,0,1)?"one":"other"},5:function(g){return l(g,0,2)&&2!=g?"one":"other"},6:function(g){return 0===g?"zero":g%10==1&&g%100!=11?"one":"other"},7:function(g){return 2==g?"two":1==g?"one":"other"},8:function(g){return l(g,3,6)?"few":l(g,7,10)?"many":2==g?"two":1==g?"one":"other"},9:function(g){return 0===g||1!=g&&l(g%100,1,19)?"few":1==g?"one":"other"},10:function(g){return l(g%10,2,9)&&!l(g%100,11,19)?"few":g%10!=1||l(g%100,11,19)?"other":"one"},11:function(g){return l(g%10,2,4)&&!l(g%100,12,14)?"few":g%10==0||l(g%10,5,9)||l(g%100,11,14)?"many":g%10==1&&g%100!=11?"one":"other"},12:function(g){return l(g,2,4)?"few":1==g?"one":"other"},13:function(g){return l(g%10,2,4)&&!l(g%100,12,14)?"few":1!=g&&l(g%10,0,1)||l(g%10,5,9)||l(g%100,12,14)?"many":1==g?"one":"other"},14:function(g){return l(g%100,3,4)?"few":g%100==2?"two":g%100==1?"one":"other"},15:function(g){return 0===g||l(g%100,2,10)?"few":l(g%100,11,19)?"many":1==g?"one":"other"},16:function(g){return g%10==1&&11!=g?"one":"other"},17:function(g){return 3==g?"few":0===g?"zero":6==g?"many":2==g?"two":1==g?"one":"other"},18:function(g){return 0===g?"zero":l(g,0,2)&&0!==g&&2!=g?"one":"other"},19:function(g){return l(g,2,10)?"few":l(g,0,1)?"one":"other"},20:function(g){return!l(g%10,3,4)&&g%10!=9||l(g%100,10,19)||l(g%100,70,79)||l(g%100,90,99)?g%1e6==0&&0!==g?"many":g%10!=2||y(g%100,[12,72,92])?g%10!=1||y(g%100,[11,71,91])?"other":"one":"two":"few"},21:function(g){return 0===g?"zero":1==g?"one":"other"},22:function(g){return l(g,0,1)||l(g,11,99)?"one":"other"},23:function(g){return l(g%10,1,2)||g%20==0?"one":"other"},24:function(g){return l(g,3,10)||l(g,13,19)?"few":y(g,[2,12])?"two":y(g,[1,11])?"one":"other"}},S={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[R.replace(/-.*$/,"")];return S in o?o[S]:(console.warn("plural form unknown for ["+R+"]"),function(){return"other"})}(T));var S="["+u._pluralRules(o)+"]";return 0===o&&y+"[zero]"in s?R=s[y+"[zero]"][l]:1==o&&y+"[one]"in s?R=s[y+"[one]"][l]:2==o&&y+"[two]"in s?R=s[y+"[two]"][l]:y+S in s?R=s[y+S][l]:y+"[other]"in s&&(R=s[y+"[other]"][l]),R},{get:function(R,H,y){var S,l=R.lastIndexOf("."),o=f;l>0&&(o=R.substring(l+1),R=R.substring(0,l)),y&&((S={})[o]=y);var g=F(R,H,S);return g&&o in g?g[o]:"{{"+R+"}}"},getData:function(){return s},getText:function(){return c},getLanguage:function(){return T},setLanguage:function(R,H){_(R,function(){H&&H()})},getDirection:function(){var H=T.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(H)>=0?"rtl":"ltr"},translate:function(R){for(var H=function(R){return R?R.querySelectorAll("*[data-l10n-id]"):[]}(R=R||e.documentElement),y=H.length,l=0;l<y;l++)D(H[l]);D(R)},getReadyState:function(){return r},ready:function(R){R&&("complete"==r||"interactive"==r?L.setTimeout(function(){R()}):e.addEventListener&&e.addEventListener("localized",function H(){e.removeEventListener("localized",H),R()}))}}}(window,document)},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFindController=e.FindState=void 0;var s=d(6),c=d(3),f=d(21);const T={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};e.FindState=T;const M={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},P=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),m=[...P.values()].map(V=>String.fromCharCode(V)).join(""),t=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,v=/([^\p{M}])\p{M}*$/u,_=/^\p{M}*([^\p{M}])/u;let A=null;function O(V){if(!A){const g=Object.keys(M).join("");A=new RegExp(`([${g}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const D=[];let I;for(;null!==(I=t.exec(V));)D.push([I[0].length,I.index]);let W=V.normalize("NFD");const R=[[0,0]];let H=0,y=0,l=0,o=0,S=!1;return W=W.replace(A,(g,E,n,C,x,N)=>{var p;if(N-=l,E){const j=M[g],z=j.length;for(let $=1;$<z;$++)R.push([N-y+$,y-$]);return y-=z-1,j}if(n){const j=n.endsWith("\n"),z=j?n.length-2:n.length;S=!0;let $=z;N+o===(null==(p=D[H])?void 0:p[1])&&($-=D[H][0],++H);for(let Z=1;Z<$+1;Z++)R.push([N-1-y+Z,y-Z]);return y-=$,l+=$,j?(R.push([(N+=z-1)-y+1,1+y]),y+=1,l+=1,o+=1,n.slice(0,z)):n}return C?(R.push([N-y+1,1+y]),y+=1,l+=1,o+=1,C.charAt(0)):(R.push([N-y+1,y-1]),y-=1,l+=1,o+=1," ")}),R.push([W.length,y]),[W,R,S]}function F(V,D,I){if(!V)return[D,I];const W=D,R=D+I;let H=(0,s.binarySearchFirstItem)(V,l=>l[0]>=W);V[H][0]>W&&--H;let y=(0,s.binarySearchFirstItem)(V,l=>l[0]>=R,H);return V[y][0]>R&&--y,[W+V[H][1],I+V[y][1]-V[H][1]]}e.PDFFindController=class{constructor({linkService:D,eventBus:I}){this._linkService=D,this._eventBus=I,this._reset(),I._on("find",this._onFind.bind(this)),I._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(W,R)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const H=Object.assign(Object.create(null),R,{type:W.substring("find".length)});this._onFind(H)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(D){this._pdfDocument&&this._reset(),D&&(this._pdfDocument=D,this._firstPageCapability.resolve())}_onFind(D){if(!D)return;const I=this._pdfDocument,{type:W}=D;(null===this._state||this._shouldDirtyMatch(D))&&(this._dirtyMatch=!0),this._state=D,"highlightallchange"!==W&&this._updateUIState(T.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||I&&this._pdfDocument!==I)return;this._extractText();const R=!this._highlightMatches,H=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),W?this._dirtyMatch?this._nextMatch():"again"===W?(this._nextMatch(),R&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===W?(H?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:D=null,selectedLeft:I=0,pageIndex:W=-1,matchIndex:R=-1}){this._scrollMatches&&D&&-1!==R&&R===this._selected.matchIdx&&-1!==W&&W===this._selected.pageIdx&&(this._scrollMatches=!1,(0,s.scrollIntoView)(D,{top:-50,left:I+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,c.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=O(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(D){if(D.query!==this._state.query)return!0;switch(D.type){case"again":const I=this._selected.pageIdx+1,W=this._linkService;return I>=1&&I<=W.pagesCount&&I!==W.page&&!W.isPageVisible(I);case"highlightallchange":return!1}return!0}_isEntireWord(D,I,W){let R=D.slice(0,I).match(v);if(R){const H=D.charCodeAt(I),y=R[1].charCodeAt(0);if((0,f.getCharacterType)(H)===(0,f.getCharacterType)(y))return!1}if(R=D.slice(I+W).match(_),R){const H=D.charCodeAt(I+W-1),y=R[1].charCodeAt(0);if((0,f.getCharacterType)(H)===(0,f.getCharacterType)(y))return!1}return!0}_calculateRegExpMatch(D,I,W,R){const H=[],y=[],l=this._pageDiffs[W];let o;for(;null!==(o=D.exec(R));){if(I&&!this._isEntireWord(R,o.index,o[0].length))continue;const[S,g]=F(l,o.index,o[0].length);g&&(H.push(S),y.push(g))}this._pageMatches[W]=H,this._pageMatchesLength[W]=y}_convertToRegExpString(D,I){const{matchDiacritics:W}=this._state;let R=!1;const H="[ ]*";return(D=D.replace(i,(y,l,o,S,g,E)=>l?`[ ]*\\${l}[ ]*`:o?`[ ]*${o}[ ]*`:S?"[ ]+":W?g||E:g?P.has(g.charCodeAt(0))?g:"":I?(R=!0,`${E}\\p{M}*`):E)).endsWith(H)&&(D=D.slice(0,D.length-H.length)),W&&I&&(R=!0,D=`${D}(?=[${m}]|[^\\p{M}]|$)`),[R,D]}_calculateMatch(D){let I=this._query;if(0===I.length)return;const{caseSensitive:W,entireWord:R,phraseSearch:H}=this._state,y=this._pageContents[D],l=this._hasDiacritics[D];let o=!1;if(H)[o,I]=this._convertToRegExpString(I,l);else{const E=I.match(/\S+/g);E&&(I=E.sort().reverse().map(n=>{const[C,x]=this._convertToRegExpString(n,l);return o||(o=C),`(${x})`}).join("|"))}I=new RegExp(I,`g${o?"u":""}${W?"":"i"}`),this._calculateRegExpMatch(I,R,D,y),this._state.highlightAll&&this._updatePage(D),this._resumePageIdx===D&&(this._resumePageIdx=null,this._nextPageMatch());const g=this._pageMatches[D].length;g>0&&(this._matchesCountTotal+=g,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let D=Promise.resolve();for(let I=0,W=this._linkService.pagesCount;I<W;I++){const R=(0,c.createPromiseCapability)();this._extractTextPromises[I]=R.promise,D=D.then(()=>this._pdfDocument.getPage(I+1).then(H=>H.getTextContent()).then(H=>{const y=H.items,l=[];for(let o=0,S=y.length;o<S;o++)l.push(y[o].str),y[o].hasEOL&&l.push("\n");[this._pageContents[I],this._pageDiffs[I],this._hasDiacritics[I]]=O(l.join("")),R.resolve(I)},H=>{console.error(`Unable to get text content for page ${I+1}`,H),this._pageContents[I]="",this._pageDiffs[I]=null,this._hasDiacritics[I]=!1,R.resolve(I)}))}}_updatePage(D){this._scrollMatches&&this._selected.pageIdx===D&&(this._linkService.page=D+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:D})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const D=this._state.findPrevious,I=this._linkService.page-1,W=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=I,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let H=0;H<W;H++)this._pendingFindMatches.has(H)||(this._pendingFindMatches.add(H),this._extractTextPromises[H].then(y=>{this._pendingFindMatches.delete(y),this._calculateMatch(y)}))}if(""===this._query)return void this._updateUIState(T.FOUND);if(this._resumePageIdx)return;const R=this._offset;if(this._pagesToSearch=W,null!==R.matchIdx){const H=this._pageMatches[R.pageIdx].length;if(!D&&R.matchIdx+1<H||D&&R.matchIdx>0)return R.matchIdx=D?R.matchIdx-1:R.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(D)}this._nextPageMatch()}_matchesReady(D){const I=this._offset,W=D.length,R=this._state.findPrevious;return W?(I.matchIdx=R?W-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(R),!!(I.wrapped&&(I.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let D=null;do{const I=this._offset.pageIdx;if(D=this._pageMatches[I],!D){this._resumePageIdx=I;break}}while(!this._matchesReady(D))}_advanceOffsetPage(D){const I=this._offset,W=this._linkService.pagesCount;I.pageIdx=D?I.pageIdx-1:I.pageIdx+1,I.matchIdx=null,this._pagesToSearch--,(I.pageIdx>=W||I.pageIdx<0)&&(I.pageIdx=D?W-1:0,I.wrapped=!0)}_updateMatch(D=!1){let I=T.NOT_FOUND;const W=this._offset.wrapped;if(this._offset.wrapped=!1,D){const R=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,I=W?T.WRAPPED:T.FOUND,-1!==R&&R!==this._selected.pageIdx&&this._updatePage(R)}this._updateUIState(I,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(D){const I=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||I&&this._pdfDocument!==I||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(T.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var H;const{pageIdx:D,matchIdx:I}=this._selected;let W=0,R=this._matchesCountTotal;if(-1!==I){for(let y=0;y<D;y++)W+=(null==(H=this._pageMatches[y])?void 0:H.length)||0;W+=I+1}return(W<1||W>R)&&(W=R=0),{current:W,total:R}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(D,I=!1){var W,R;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:D,previous:I,matchesCount:this._requestMatchesCount(),rawQuery:null!=(R=null==(W=this._state)?void 0:W.query)?R:null})}}},(L,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterType=void 0,e.getCharacterType=function(i){return function(i){return i<11904}(i)?function(i){return 0==(65408&i)}(i)?function(i){return 32===i||9===i||13===i||10===i}(i)?d.SPACE:function(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function(i){return i>=48&&i<=57}(i)||95===i?d.ALPHA_LETTER:d.PUNCT:function(i){return 3584==(65408&i)}(i)?d.THAI_LETTER:160===i?d.SPACE:d.ALPHA_LETTER:function(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?d.HAN_LETTER:function(i){return i>=12448&&i<=12543}(i)?d.KATAKANA_LETTER:function(i){return i>=12352&&i<=12447}(i)?d.HIRAGANA_LETTER:function(i){return i>=65376&&i<=65439}(i)?d.HALFWIDTH_KATAKANA_LETTER:d.ALPHA_LETTER};const d={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};e.CharacterType=d},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFHistory=void 0,e.isDestArraysEqual=P,e.isDestHashesEqual=M;var s=d(6),c=d(17);function r(){return document.location.hash}function M(m,t){return"string"==typeof m&&"string"==typeof t&&(m===t||(0,s.parseQueryString)(m).get("nameddest")===t)}function P(m,t){function i(v,_){if(typeof v!=typeof _||Array.isArray(v)||Array.isArray(_))return!1;if(null!==v&&"object"==typeof v&&null!==_){if(Object.keys(v).length!==Object.keys(_).length)return!1;for(const A in v)if(!i(v[A],_[A]))return!1;return!0}return v===_||Number.isNaN(v)&&Number.isNaN(_)}if(!Array.isArray(m)||!Array.isArray(t)||m.length!==t.length)return!1;for(let v=0,_=m.length;v<_;v++)if(!i(m[v],t[v]))return!1;return!0}e.PDFHistory=class{constructor({linkService:t,eventBus:i}){this.linkService=t,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",v=>{this._isViewerInPresentationMode=v.state!==s.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",v=>{this._isPagesLoaded=!!v.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:i=!1,updateUrl:v=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const _=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===v,this._initialized=!0,this._bindEvents();const A=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=r(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(A,!0)||i){const{hash:F,page:B,rotation:V}=this._parseCurrentHash(!0);return!F||_||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:F,page:B,rotation:V},!0)}const O=A.destination;this._updateInternalState(O,A.uid,!0),void 0!==O.rotation&&(this._initialRotation=O.rotation),O.dest?(this._initialBookmark=JSON.stringify(O.dest),this._destination.page=null):O.hash?this._initialBookmark=O.hash:O.page&&(this._initialBookmark=`page=${O.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:i,pageNumber:v}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(v)&&(null!==v||this._destination))return void console.error(`PDFHistory.push: "${v}" is not a valid pageNumber parameter.`);const _=t||JSON.stringify(i);if(!_)return;let A=!1;if(this._destination&&(M(this._destination.hash,_)||P(this._destination.dest,i))){if(this._destination.page)return;A=!0}this._popStateInProgress&&!A||(this._pushOrReplaceState({dest:i,hash:_,page:v,rotation:this.linkService.rotation},A),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){var i;if(this._initialized){if(!this._isValidPage(t))return void console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);(null==(i=this._destination)?void 0:i.page)!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,i=!1){const v=i||!this._destination,_={fingerprint:this._fingerprint,uid:v?this._uid:this._uid+1,destination:t};let A;if(this._updateInternalState(t,_.uid),this._updateUrl&&(null==t?void 0:t.hash)){const O=document.location.href.split("#")[0];O.startsWith("file://")||(A=`${O}#${t.hash}`)}v?window.history.replaceState(_,"",A):window.history.pushState(_,"",A)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let i=this._position;if(t&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let v=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;v=!0}this._pushOrReplaceState(i,v)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,i=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[v]=performance.getEntriesByType("navigation");if("reload"!==(null==v?void 0:v.type))return!1}}return!(!Number.isInteger(t.uid)||t.uid<0||null===t.destination||"object"!=typeof t.destination)}_updateInternalState(t,i,v=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),v&&(null==t?void 0:t.temporary)&&delete t.temporary,this._destination=t,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const i=unescape(r()).substring(1),v=(0,s.parseQueryString)(i),_=v.get("nameddest")||"";let A=0|v.get("page");return(!this._isValidPage(A)||t&&_.length>0)&&(A=null),{hash:i,page:A,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${t.pageNumber}`:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const i=r(),v=this._currentHash!==i;if(this._currentHash=i,!t){this._uid++;const{hash:A,page:O,rotation:F}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:A,page:O,rotation:F},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,v&&(this._blockHashChange++,(0,c.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const _=t.destination;this._updateInternalState(_,t.uid,!0),(0,s.isValidRotation)(_.rotation)&&(this.linkService.rotation=_.rotation),_.dest?this.linkService.goToDestination(_.dest):_.hash?this.linkService.setHash(_.hash):_.page&&(this.linkService.page=_.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFScriptingManager=void 0;var s=d(6),c=d(3);e.PDFScriptingManager=class{constructor({eventBus:u,sandboxBundleSrc:r=null,scriptingFactory:h=null,docPropertiesLookup:M=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=u,this._sandboxBundleSrc=r,this._scriptingFactory=h,this._docPropertiesLookup=M,this._scriptingFactory||window.addEventListener("updatefromsandbox",P=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:P.detail})})}setViewer(u){this._pdfViewer=u}setDocument(u){var r=this;return b(function*(){var m;if(r._pdfDocument&&(yield r._destroyScripting()),r._pdfDocument=u,!u)return;const[h,M,P]=yield Promise.all([u.getFieldObjects(),u.getCalculationOrderIds(),u.getJSActions()]);if(h||P){if(u===r._pdfDocument){try{r._scripting=r._createScripting()}catch(t){return console.error(`PDFScriptingManager.setDocument: "${null==t?void 0:t.message}".`),void(yield r._destroyScripting())}r._internalEvents.set("updatefromsandbox",t=>{(null==t?void 0:t.source)===window&&r._updateFromSandbox(t.detail)}),r._internalEvents.set("dispatcheventinsandbox",t=>{var i;null==(i=r._scripting)||i.dispatchEventInSandbox(t.detail)}),r._internalEvents.set("pagechanging",({pageNumber:t,previous:i})=>{t!==i&&(r._dispatchPageClose(i),r._dispatchPageOpen(t))}),r._internalEvents.set("pagerendered",({pageNumber:t})=>{!r._pageOpenPending.has(t)||t===r._pdfViewer.currentPageNumber&&r._dispatchPageOpen(t)}),r._internalEvents.set("pagesdestroy",function(){var t=b(function*(i){var v,_;yield r._dispatchPageClose(r._pdfViewer.currentPageNumber),yield null==(v=r._scripting)?void 0:v.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(_=r._closeCapability)||_.resolve()});return function(i){return t.apply(this,arguments)}}()),r._domEvents.set("mousedown",t=>{r._mouseState.isDown=!0}),r._domEvents.set("mouseup",t=>{r._mouseState.isDown=!1});for(const[t,i]of r._internalEvents)r._eventBus._on(t,i);for(const[t,i]of r._domEvents)window.addEventListener(t,i);try{const t=yield r._getDocProperties();if(u!==r._pdfDocument)return;yield r._scripting.createSandbox({objects:h,calculationOrder:M,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:$e(Xe({},t),{actions:P})}),r._eventBus.dispatch("sandboxcreated",{source:r})}catch(t){return console.error(`PDFScriptingManager.setDocument: "${null==t?void 0:t.message}".`),void(yield r._destroyScripting())}yield null==(m=r._scripting)?void 0:m.dispatchEventInSandbox({id:"doc",name:"Open"}),yield r._dispatchPageOpen(r._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{u===r._pdfDocument&&(r._ready=!0)})}}else yield r._destroyScripting()})()}dispatchWillSave(u){var r=this;return b(function*(){var h;return null==(h=r._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(u){var r=this;return b(function*(){var h;return null==(h=r._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(u){var r=this;return b(function*(){var h;return null==(h=r._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(u){var r=this;return b(function*(){var h;return null==(h=r._scripting)?void 0:h.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var u;return(null==(u=this._destroyCapability)?void 0:u.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,c.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,c.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,c.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,c.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(u){var r=this;return b(function*(){var v;const h=r._pdfViewer.isInPresentationMode||r._pdfViewer.isChangingPresentationMode,{id:M,siblings:P,command:m,value:t}=u;if(!M){switch(m){case"clear":console.clear();break;case"error":console.error(t);break;case"layout":if(h)return;const _=(0,s.apiPageLayoutToViewerModes)(t);r._pdfViewer.spreadMode=_.spreadMode;break;case"page-num":r._pdfViewer.currentPageNumber=t+1;break;case"print":yield r._pdfViewer.pagesPromise,r._eventBus.dispatch("print",{source:r});break;case"println":console.log(t);break;case"zoom":if(h)return;r._pdfViewer.currentScaleValue=t;break;case"SaveAs":r._eventBus.dispatch("save",{source:r});break;case"FirstPage":r._pdfViewer.currentPageNumber=1;break;case"LastPage":r._pdfViewer.currentPageNumber=r._pdfViewer.pagesCount;break;case"NextPage":r._pdfViewer.nextPage();break;case"PrevPage":r._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;r._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;r._pdfViewer.decreaseScale()}return}if(h&&u.focus)return;delete u.id,delete u.siblings;const i=P?[M,...P]:[M];for(const _ of i){const A=document.getElementById(_);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:u})):null==(v=r._pdfDocument)||v.annotationStorage.setValue(_,u)}})()}_dispatchPageOpen(u,r=!1){var h=this;return b(function*(){const M=h._pdfDocument,P=h._visitedPages;if(r&&(h._closeCapability=(0,c.createPromiseCapability)()),!h._closeCapability)return;const m=h._pdfViewer.getPageView(u-1);if((null==m?void 0:m.renderingState)!==s.RenderingStates.FINISHED)return void h._pageOpenPending.add(u);h._pageOpenPending.delete(u);const t=b(function*(){var v,_;const i=yield P.has(u)?null:null==(v=m.pdfPage)?void 0:v.getJSActions();M===h._pdfDocument&&(yield null==(_=h._scripting)?void 0:_.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:u,actions:i}))})();P.set(u,t)})()}_dispatchPageClose(u){var r=this;return b(function*(){var m;const h=r._pdfDocument,M=r._visitedPages;if(!r._closeCapability||r._pageOpenPending.has(u))return;const P=M.get(u);!P||(M.set(u,null),yield P,h===r._pdfDocument&&(yield null==(m=r._scripting)?void 0:m.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:u})))})()}_getDocProperties(){var u=this;return b(function*(){if(u._docPropertiesLookup)return u._docPropertiesLookup(u._pdfDocument);const{docPropertiesLookup:r}=d(24);return r(u._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,c.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:u}=d(24);return new u(this._sandboxBundleSrc)}_destroyScripting(){var u=this;return b(function*(){var r,h;if(!u._scripting)return u._pdfDocument=null,void(null==(r=u._destroyCapability)||r.resolve());u._closeCapability&&(yield Promise.race([u._closeCapability.promise,new Promise(M=>{setTimeout(M,1e3)})]).catch(M=>{}),u._closeCapability=null),u._pdfDocument=null;try{yield u._scripting.destroySandbox()}catch(M){}for(const[M,P]of u._internalEvents)u._eventBus._off(M,P);u._internalEvents.clear();for(const[M,P]of u._domEvents)window.removeEventListener(M,P);u._domEvents.clear(),u._pageOpenPending.clear(),u._visitedPages.clear(),u._scripting=null,delete u._mouseState.isDown,u._ready=!1,null==(h=u._destroyCapability)||h.resolve()})()}}},(L,e,d)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GenericScripting=void 0,e.docPropertiesLookup=function(u){return f.apply(this,arguments)};var s=d(3);function f(){return(f=b(function*(u){const h="".split("#")[0];let{info:M,metadata:P,contentDispositionFilename:m,contentLength:t}=yield u.getMetadata();if(!t){const{length:i}=yield u.getDownloadInfo();t=i}return $e(Xe({},M),{baseURL:h,filesize:t,filename:m||(0,s.getPdfFilenameFromUrl)(""),metadata:null==P?void 0:P.getRaw(),authors:null==P?void 0:P.get("dc:creator"),numPages:u.numPages,URL:""})})).apply(this,arguments)}e.GenericScripting=class{constructor(r){this._ready=(0,s.loadScript)(r,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(r){var h=this;return b(function*(){(yield h._ready).create(r)})()}dispatchEventInSandbox(r){var h=this;return b(function*(){const M=yield h._ready;setTimeout(()=>M.dispatchEvent(r),0)})()}destroySandbox(){var r=this;return b(function*(){(yield r._ready).nukeSandbox()})()}}}],ie={};function re(L){var e=ie[L];if(void 0!==e)return e.exports;var d=ie[L]={exports:{}};return oe[L](d,d.exports,re),d.exports}var ee={};return(()=>{var L=ee;Object.defineProperty(L,"__esModule",{value:!0}),Object.defineProperty(L,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return f.AnnotationLayerBuilder}}),Object.defineProperty(L,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return e.DefaultAnnotationLayerFactory}}),Object.defineProperty(L,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return e.DefaultStructTreeLayerFactory}}),Object.defineProperty(L,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return e.DefaultTextLayerFactory}}),Object.defineProperty(L,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return e.DefaultXfaLayerFactory}}),Object.defineProperty(L,"DownloadManager",{enumerable:!0,get:function(){return T.DownloadManager}}),Object.defineProperty(L,"EventBus",{enumerable:!0,get:function(){return u.EventBus}}),Object.defineProperty(L,"GenericL10n",{enumerable:!0,get:function(){return r.GenericL10n}}),Object.defineProperty(L,"LinkTarget",{enumerable:!0,get:function(){return d.LinkTarget}}),Object.defineProperty(L,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(L,"PDFFindController",{enumerable:!0,get:function(){return M.PDFFindController}}),Object.defineProperty(L,"PDFHistory",{enumerable:!0,get:function(){return P.PDFHistory}}),Object.defineProperty(L,"PDFLinkService",{enumerable:!0,get:function(){return d.PDFLinkService}}),Object.defineProperty(L,"PDFPageView",{enumerable:!0,get:function(){return m.PDFPageView}}),Object.defineProperty(L,"PDFScriptingManager",{enumerable:!0,get:function(){return t.PDFScriptingManager}}),Object.defineProperty(L,"PDFSinglePageViewer",{enumerable:!0,get:function(){return c.PDFSinglePageViewer}}),Object.defineProperty(L,"PDFViewer",{enumerable:!0,get:function(){return c.PDFViewer}}),Object.defineProperty(L,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(L,"SimpleLinkService",{enumerable:!0,get:function(){return d.SimpleLinkService}}),Object.defineProperty(L,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(L,"TextLayerBuilder",{enumerable:!0,get:function(){return v.TextLayerBuilder}}),Object.defineProperty(L,"XfaLayerBuilder",{enumerable:!0,get:function(){return _.XfaLayerBuilder}}),Object.defineProperty(L,"parseQueryString",{enumerable:!0,get:function(){return s.parseQueryString}});var e=re(1),d=re(5),s=re(6),c=re(10),f=re(2),T=re(16),u=re(17),r=re(18),h=re(4),M=re(20),P=re(22),m=re(12),t=re(23),i=re(7),v=re(8),_=re(9)})(),ee})()},8926:le=>{function k(b,oe,ie,re,ee,L,e){try{var d=b[L](e),s=d.value}catch(c){return void ie(c)}d.done?oe(s):Promise.resolve(s).then(re,ee)}le.exports=function(b){return function(){var oe=this,ie=arguments;return new Promise(function(re,ee){var L=b.apply(oe,ie);function e(s){k(L,re,ee,e,d,"next",s)}function d(s){k(L,re,ee,e,d,"throw",s)}e(void 0)})}},le.exports.default=le.exports,le.exports.__esModule=!0},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);